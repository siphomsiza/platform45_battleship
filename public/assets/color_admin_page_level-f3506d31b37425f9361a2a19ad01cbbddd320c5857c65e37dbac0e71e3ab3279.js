!function(t){t.expr[":"].icontains=function(e,i,n){return t(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0};var e=function(i,n,a){a&&(a.stopPropagation(),a.preventDefault()),this.$element=t(i),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t.extend({},t.fn.selectpicker.defaults,this.$element.data(),"object"==typeof n&&n),null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=e.prototype.val,this.render=e.prototype.render,this.refresh=e.prototype.refresh,this.setStyle=e.prototype.setStyle,this.selectAll=e.prototype.selectAll,this.deselectAll=e.prototype.deselectAll,this.init()};e.prototype={constructor:e,init:function(){var e=this,i=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),void 0!==i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)},createDropdown:function(){var e=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",s=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"",o=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">Select All</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">Deselect All</button></div></div>':"",r='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+n+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+a+s+o+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return t(r)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menu.find("ul").append(t)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var e=this,i=[],n="";return this.$element.find("option").each(function(){var n=t(this),a=n.attr("class")||"",s=n.attr("style")||"",o=n.data("content")?n.data("content"):n.html(),r=void 0!==n.data("subtext")?'<small class="muted text-muted">'+n.data("subtext")+"</small>":"",l=void 0!==n.data("icon")?'<i class="'+e.options.iconBase+" "+n.data("icon")+'"></i> ':"";if(""!==l&&(n.is(":disabled")||n.parent().is(":disabled"))&&(l="<span>"+l+"</span>"),n.data("content")||(o=l+'<span class="text">'+o+r+"</span>"),e.options.hideDisabled&&(n.is(":disabled")||n.parent().is(":disabled")))i.push('<a style="min-height: 0; padding: 0"></a>');else if(n.parent().is("optgroup")&&n.data("divider")!==!0)if(0===n.index()){var c=n.parent().attr("label"),d=void 0!==n.parent().data("subtext")?'<small class="muted text-muted">'+n.parent().data("subtext")+"</small>":"",u=n.parent().data("icon")?'<i class="'+n.parent().data("icon")+'"></i> ':"";c=u+'<span class="text">'+c+d+"</span>",0!==n[0].index?i.push('<div class="div-contain"><div class="divider"></div></div><dt>'+c+"</dt>"+e.createA(o,"opt "+a,s)):i.push("<dt>"+c+"</dt>"+e.createA(o,"opt "+a,s))}else i.push(e.createA(o,"opt "+a,s));else n.data("divider")===!0?i.push('<div class="div-contain"><div class="divider"></div></div>'):t(this).data("hidden")===!0?i.push("<a></a>"):i.push(e.createA(o,a,s))}),t.each(i,function(t,e){var i="<a></a>"===e?'class="hide is-hidden"':"";n+='<li rel="'+t+'"'+i+">"+e+"</li>"}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t(n)},createA:function(t,e,i){return'<a tabindex="0" class="'+e+'" style="'+i+'">'+t+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(e){var i=this;e!==!1&&this.$element.find("option").each(function(e){i.setDisabled(e,t(this).is(":disabled")||t(this).parent().is(":disabled")),i.setSelected(e,t(this).is(":selected"))}),this.tabIndex();var n=this.$element.find("option:selected").map(function(){var e,n=t(this),a=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&n.attr("data-subtext")&&!i.multiple?' <small class="muted text-muted">'+n.data("subtext")+"</small>":"",n.data("content")&&i.options.showContent?n.data("content"):void 0!==n.attr("title")?n.attr("title"):a+n.html()+e}).toArray(),a=this.multiple?n.join(this.options.multipleSeparator):n[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var s=this.options.selectedTextFormat.split(">"),o=this.options.hideDisabled?":not([disabled])":"";(s.length>1&&n.length>s[1]||1==s.length&&n.length>=2)&&(a=this.options.countSelectedText.replace("{0}",n.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+o).length))}this.options.title=this.$element.attr("title"),a||(a=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(a)),this.$newElement.find(".filter-option").html(a)},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(this.options.size!==!1){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),e=t.addClass("open").find("> .dropdown-menu"),i=e.find("li > a").outerHeight(),n=this.options.header?e.find(".popover-title").outerHeight():0,a=this.options.liveSearch?e.find(".bootstrap-select-searchbox").outerHeight():0,s=this.options.actionsBox?e.find(".bs-actionsbox").outerHeight():0;t.remove(),this.$newElement.data("liHeight",i).data("headerHeight",n).data("searchHeight",a).data("actionsHeight",s)}},setSize:function(){var e,i,n,a=this,s=this.$menu,o=s.find(".inner"),r=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),d=this.$newElement.data("searchHeight"),u=this.$newElement.data("actionsHeight"),h=s.find("li .divider").outerHeight(!0),p=parseInt(s.css("padding-top"))+parseInt(s.css("padding-bottom"))+parseInt(s.css("border-top-width"))+parseInt(s.css("border-bottom-width")),f=this.options.hideDisabled?":not(.disabled)":"",g=t(window),m=p+parseInt(s.css("margin-top"))+parseInt(s.css("margin-bottom"))+2,v=function(){i=a.$newElement.offset().top-g.scrollTop(),n=g.height()-i-r};if(v(),this.options.header&&s.css("padding-top",0),"auto"==this.options.size){var b=function(){var t,r=a.$lis.not(".hide");v(),e=n-m,a.options.dropupAuto&&a.$newElement.toggleClass("dropup",i>n&&e-m<s.height()),a.$newElement.hasClass("dropup")&&(e=i-m),t=r.length+r.find("dt").length>3?3*l+m-2:0,s.css({"max-height":e+"px",overflow:"hidden","min-height":t+c+d+u+"px"}),o.css({"max-height":e-c-d-u-p+"px","overflow-y":"auto","min-height":Math.max(t-p,0)+"px"})};b(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",b),t(window).off("resize.getSize").on("resize.getSize",b),t(window).off("scroll.getSize").on("scroll.getSize",b)}else if(this.options.size&&"auto"!=this.options.size&&s.find("li"+f).length>this.options.size){var $=s.find("li"+f+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),y=s.find("li").slice(0,$+1).find(".div-contain").length;e=l*this.options.size+y*h+p,a.options.dropupAuto&&this.$newElement.toggleClass("dropup",i>n&&e<s.height()),s.css({"max-height":e+c+d+u+"px",overflow:"hidden"}),o.css({"max-height":e-p+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var t=this.$newElement.clone().appendTo("body"),e=t.find("> .dropdown-menu").css("width"),i=t.css("width","auto").find("> button").css("width");t.remove(),this.$newElement.css("width",Math.max(parseInt(e),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,i,n=this,a="<div />",s=t(a),o=function(t){s.addClass(t.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,s.css({top:e.top+i,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(o(t(this)),s.appendTo(n.options.container),s.toggleClass("open",!t(this).hasClass("open")),s.append(n.$menu))}),t(window).resize(function(){o(n.$newElement)}),t(window).on("scroll",function(){o(n.$newElement)}),t("html").on("click",function(e){t(e.target).closest(n.$newElement).length<1&&s.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(e,i){null==this.$lis&&(this.$lis=this.$menu.find("li")),t(this.$lis[e]).toggleClass("selected",i)},setDisabled:function(e,i){null==this.$lis&&(this.$lis=this.$menu.find("li")),i?t(this.$lis[e]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):t(this.$lis[e]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var t=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var e=this;t("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click",function(){e.setSize(),e.options.liveSearch||e.multiple||setTimeout(function(){e.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(i){var n=t(this).parent().index(),a=e.$element.val(),s=e.$element.prop("selectedIndex");if(e.multiple&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!t(this).parent().hasClass("disabled")){var o=e.$element.find("option"),r=o.eq(n),l=r.prop("selected"),c=r.parent("optgroup"),d=e.options.maxOptions,u=c.data("maxOptions")||!1;if(e.multiple){if(r.prop("selected",!l),e.setSelected(n,!l),d!==!1||u!==!1){var h=d<o.filter(":selected").length,p=u<c.find("option:selected").length,f=e.options.maxOptionsText,g=f[0].replace("{n}",d),m=f[1].replace("{n}",u),v=t('<div class="notify"></div>');(d&&h||u&&p)&&(f[2]&&(g=g.replace("{var}",f[2][d>1?0:1]),m=m.replace("{var}",f[2][u>1?0:1])),r.prop("selected",!1),e.$menu.append(v),d&&h&&(v.append(t("<div>"+g+"</div>")),e.$element.trigger("maxReached.bs.select")),u&&p&&(v.append(t("<div>"+m+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(n,!1)},10),v.delay(750).fadeOut(300,function(){t(this).remove()}))}}else o.prop("selected",!1),r.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(n,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(a!=e.$element.val()&&e.multiple||s!=e.$element.prop("selectedIndex")&&!e.multiple)&&e.$element.change()}}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(t){t.target==this&&(t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus())}),this.$menu.on("click",".popover-title .close",function(){e.$button.focus()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).is(".bs-select-all")?e.selectAll():e.deselectAll(),e.$element.change()}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var e=this,i=t('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){e.$menu.find(".active").removeClass("active"),e.$searchbox.val()&&(e.$searchbox.val(""),e.$lis.not(".is-hidden").removeClass("hide"),i.parent().length&&i.remove()),e.multiple||e.$menu.find(".selected").addClass("active"),setTimeout(function(){e.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){e.$searchbox.val()?(e.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+e.$searchbox.val()+")").parent().addClass("hide"),e.$menu.find("li").filter(":visible:not(.no-results)").length?i.parent().length&&i.remove():(i.parent().length&&i.remove(),i.html(e.options.noneResultsText+' "'+e.$searchbox.val()+'"').show(),e.$menu.find("li").last().after(i))):(e.$lis.not(".is-hidden").removeClass("hide"),i.parent().length&&i.remove()),e.$menu.find("li.active").removeClass("active"),e.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),t(this).focus()}),this.$menu.on("mouseenter","a",function(i){e.$menu.find(".active").removeClass("active"),t(i.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){e.$menu.find(".active").removeClass("active")})},val:function(t){return void 0!==t?(this.$element.val(t),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!0),t(this.$lis).filter(":not(.disabled)").addClass("selected"),this.render(!1)},deselectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!1),t(this.$lis).filter(":not(.disabled)").removeClass("selected"),this.render(!1)},keydown:function(e){var i,n,a,s,o,r,l,c,d,u,h,p,f={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(i=t(this),a=i.parent(),i.is("input")&&(a=i.parent().parent()),u=a.data("this"),u.options.liveSearch&&(a=i.parent().parent()),u.options.container&&(a=u.$menu),n=t("[role=menu] li:not(.divider) a",a),p=u.$menu.parent().hasClass("open"),!p&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))&&(u.options.container?u.$newElement.trigger("click"):(u.setSize(),u.$menu.parent().addClass("open"),p=u.$menu.parent().hasClass("open")),u.$searchbox.focus()),u.options.liveSearch&&(/(^9$|27)/.test(e.keyCode)&&p&&0===u.$menu.find(".active").length&&(e.preventDefault(),u.$menu.parent().removeClass("open"),u.$button.focus()),n=t("[role=menu] li:not(.divider):visible",a),i.val()||/(38|40)/.test(e.keyCode)||0===n.filter(".active").length&&(n=u.$newElement.find("li").filter(":icontains("+f[e.keyCode]+")"))),n.length){if(/(38|40)/.test(e.keyCode))s=n.index(n.filter(":focus")),r=n.parent(":not(.disabled):visible").first().index(),l=n.parent(":not(.disabled):visible").last().index(),o=n.eq(s).parent().nextAll(":not(.disabled):visible").eq(0).index(),c=n.eq(s).parent().prevAll(":not(.disabled):visible").eq(0).index(),d=n.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index(),u.options.liveSearch&&(n.each(function(e){t(this).is(":not(.disabled)")&&t(this).data("index",e)}),s=n.index(n.filter(".active")),r=n.filter(":not(.disabled):visible").first().data("index"),l=n.filter(":not(.disabled):visible").last().data("index"),o=n.eq(s).nextAll(":not(.disabled):visible").eq(0).data("index"),c=n.eq(s).prevAll(":not(.disabled):visible").eq(0).data("index"),d=n.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index")),h=i.data("prevIndex"),38==e.keyCode&&(u.options.liveSearch&&(s-=1),s!=d&&s>c&&(s=c),r>s&&(s=r),s==h&&(s=l)),40==e.keyCode&&(u.options.liveSearch&&(s+=1),-1==s&&(s=0),s!=d&&o>s&&(s=o),s>l&&(s=l),s==h&&(s=r)),i.data("prevIndex",s),u.options.liveSearch?(e.preventDefault(),i.is(".dropdown-toggle")||(n.removeClass("active"),n.eq(s).addClass("active").find("a").focus(),i.focus())):n.eq(s).focus();else if(!i.is("input")){var g,m,v=[];n.each(function(){t(this).parent().is(":not(.disabled)")&&t.trim(t(this).text().toLowerCase()).substring(0,1)==f[e.keyCode]&&v.push(t(this).parent().index())}),g=t(document).data("keycount"),g++,t(document).data("keycount",g),m=t.trim(t(":focus").text().toLowerCase()).substring(0,1),m!=f[e.keyCode]?(g=1,t(document).data("keycount",g)):g>=v.length&&(t(document).data("keycount",0),g>v.length&&(g=1)),n.eq(v[g-1]).focus()}/(13|32|^9$)/.test(e.keyCode)&&p&&(/(32)/.test(e.keyCode)||e.preventDefault(),u.options.liveSearch?/(32)/.test(e.keyCode)||(u.$menu.find(".active a").click(),i.focus()):t(":focus").click(),t(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode)&&p&&(u.multiple||u.options.liveSearch)||/(27)/.test(e.keyCode)&&!p)&&(u.$menu.parent().removeClass("open"),u.$button.focus())}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},t.fn.selectpicker=function(i,n){var a,s=arguments,o=this.each(function(){if(t(this).is("select")){var o=t(this),r=o.data("selectpicker"),l="object"==typeof i&&i;if(r){if(l)for(var c in l)r.options[c]=l[c]}else o.data("selectpicker",r=new e(this,l,n));if("string"==typeof i){var d=i;r[d]instanceof Function?([].shift.apply(s),a=r[d].apply(r,s)):a=r.options[d]}}});return void 0!==a?a:o},t.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",maxOptionsText:["Limit reached ({n} {var} max)","Group limit reached ({n} {var} max)",["items","item"]],width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,multipleSeparator:", ",iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1},t(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",e.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(t){t.stopPropagation()})}(window.jQuery),!function(t){"use strict";function e(e,i){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(i)}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function n(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function a(t){return t?r.text(t).html():""}function s(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var o={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};e.prototype={constructor:e,add:function(e,i){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags||e!==!1&&!e)){if("object"==typeof e&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&n.itemsArray.length>0&&n.remove(n.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var s=e.split(",");if(s.length>1){for(var o=0;o<s.length;o++)this.add(s[o],!0);return void(i||n.pushVal())}}var r=n.options.itemValue(e),l=n.options.itemText(e),c=n.options.tagClass(e),d=t.grep(n.itemsArray,function(t){return n.options.itemValue(t)===r})[0];if(d){if(n.options.onTagExists){var u=t(".tag",n.$container).filter(function(){return t(this).data("item")===d});n.options.onTagExists(e,u)}}else{n.itemsArray.push(e);var h=t('<span class="tag '+a(c)+'">'+a(l)+'<span data-role="remove"></span></span>');if(h.data("item",e),n.findInputWrapper().before(h),h.after(" "),n.isSelect&&!t('option[value="'+escape(r)+'"]',n.$element)[0]){var p=t("<option selected>"+a(l)+"</option>");p.data("item",e),p.attr("value",r),n.$element.append(p)}i||n.pushVal(),n.options.maxTags===n.itemsArray.length&&n.$container.addClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemAdded",{item:e}))}}}},remove:function(e,i){var n=this;n.objectItems&&(e="object"==typeof e?t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)})[0]:t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e})[0]),e&&(t(".tag",n.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",n.$element).filter(function(){return t(this).data("item")===e}).remove(),n.itemsArray.splice(t.inArray(e,n.itemsArray),1)),i||n.pushVal(),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(),e.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var i=t(this),n=i.data("item"),s=e.options.itemValue(n),o=e.options.itemText(n),r=e.options.tagClass(n);if(i.attr("class",null),i.addClass("tag "+a(r)),i.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=a(o),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===n});l.attr("value",s)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(i,!0).trigger("change")},build:function(e){var a=this;a.options=t.extend({},o,e);var r=a.options.typeahead||{};a.objectItems&&(a.options.freeInput=!1),i(a.options,"itemValue"),i(a.options,"itemText"),i(a.options,"tagClass"),a.options.source&&(r.source=a.options.source),r.source&&t.fn.typeahead&&(n(r,"source"),a.$input.typeahead({source:function(e,i){function n(t){for(var e=[],n=0;n<t.length;n++){var o=a.options.itemText(t[n]);s[o]=t[n],e.push(o)}i(e)}this.map={};var s=this.map,o=r.source(e);t.isFunction(o.success)?o.success(n):t.when(o).then(n)},updater:function(t){a.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),a.$container.on("click",t.proxy(function(){a.$input.focus()},a)),a.$container.on("keydown","input",t.proxy(function(e){var i=t(e.target),n=a.findInputWrapper();switch(e.which){case 8:if(0===s(i[0])){var o=n.prev();o&&a.remove(o.data("item"))}break;case 46:if(0===s(i[0])){var r=n.next();r&&a.remove(r.data("item"))}break;case 37:var l=n.prev();0===i.val().length&&l[0]&&(l.before(n),i.focus());break;case 39:var c=n.next();0===i.val().length&&c[0]&&(c.after(n),i.focus());break;default:a.options.freeInput&&t.inArray(e.which,a.options.confirmKeys)>=0&&(a.add(i.val()),i.val(""),e.preventDefault())}i.attr("size",Math.max(this.inputSize,i.val().length))},a)),a.$container.on("click","[data-role=remove]",t.proxy(function(e){a.remove(t(e.target).closest(".tag").data("item"))},a)),a.options.itemValue===o.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):t("option",a.$element).each(function(){a.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],i=this.$container[0];e&&e.parentNode!==i;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(i,n){var a=[];return this.each(function(){var s=t(this).data("tagsinput");if(s){var o=s[i](n);void 0!==o&&a.push(o)}else s=new e(this,i),t(this).data("tagsinput",s),a.push(s),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof i?a.length>1?a:a[0]:a},t.fn.tagsinput.Constructor=e;var r=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(t){var e={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,a){return(n=i.call(null,a,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,a){return(n=i.call(null,a,t,e))?!1:void 0}),!!n):n},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,a;return function(){var s,o,r=this,l=arguments;return s=function(){n=null,i||(a=t.apply(r,l))},o=i&&!n,clearTimeout(n),n=setTimeout(s,e),o&&(a=t.apply(r,l)),a}},throttle:function(t,e){var i,n,a,s,o,r;return o=0,r=function(){o=new Date,a=null,s=t.apply(i,n)},function(){var l=new Date,c=e-(l-o);return i=this,n=arguments,0>=c?(clearTimeout(a),a=null,o=l,s=t.apply(i,n)):a||(a=setTimeout(r,c)),s}},noop:function(){}},i="0.10.2",n=function(){function t(t){return t.split(/\s+/)}function e(t){return t.split(/\W+/)}function i(t){return function(e){return function(i){return t(i[e])}}}return{nonword:e,whitespace:t,obj:{nonword:i(e),whitespace:i(t)}}}(),a=function(){function t(t){this.maxSize=t||100,this.size=0,this.hash={},this.list=new i}function i(){this.head=this.tail=null}function n(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(t.prototype,{set:function(t,e){var i,a=this.list.tail;this.size>=this.maxSize&&(this.list.remove(a),delete this.hash[a.key]),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new n(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),s=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function n(t){return JSON.stringify(e.isUndefined(t)?null:t)}function a(t){return JSON.parse(t)}var s,o;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(r){s=null}return o=s&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),a(s.getItem(this._prefix(t)))},set:function(t,a,o){return e.isNumber(o)?s.setItem(this._ttlKey(t),n(i()+o)):s.removeItem(this._ttlKey(t)),s.setItem(this._prefix(t),n(a))},remove:function(t){return s.removeItem(this._ttlKey(t)),s.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],n=s.length;for(t=0;n>t;t++)(e=s.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var n=a(s.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,o),t}(),o=function(){function i(e){e=e||{},this._send=e.transport?n(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get}function n(i){return function(n,a){function s(t){e.defer(function(){r.resolve(t)})}function o(t){e.defer(function(){r.reject(t)})}var r=t.Deferred();return i(n,a,s,o),r}}var s=0,o={},r=6,l=new a(10);return i.setMaxPendingRequests=function(t){r=t},i.resetCache=function(){l=new a(10)},e.mixin(i.prototype,{_get:function(t,e,i){function n(e){i&&i(null,e),l.set(t,e)}function a(){i&&i(!0)}function c(){s--,delete o[t],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var d,u=this;(d=o[t])?d.done(n).fail(a):r>s?(s++,o[t]=this._send(t,e).done(n).fail(a).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,i,n){var a;return e.isFunction(i)&&(n=i,i={}),(a=l.get(t))?e.defer(function(){n&&n(null,a)}):this._get(t,i,n),!!a}}),i}(),r=function(){function i(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function a(){return{ids:[],children:{}}}function s(t){for(var e={},i=[],n=0;n<t.length;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function o(t,e){function i(t,e){return t-e}var n=0,a=0,s=[];for(t=t.sort(i),e=e.sort(i);n<t.length&&a<e.length;)t[n]<e[a]?n++:t[n]>e[a]?a++:(s.push(t[n]),n++,a++);return s}return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,o;s=i.datums.push(t)-1,o=n(i.datumTokenizer(t)),e.each(o,function(t){var e,n,o;for(e=i.trie,n=t.split("");o=n.shift();)e=e.children[o]||(e.children[o]=a()),e.ids.push(s)})})},get:function(t){var i,a,r=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,s;if(a&&0===a.length)return!1;for(e=r.trie,i=t.split("");e&&(n=i.shift());)e=e.children[n];return e&&0===i.length?(s=e.ids.slice(0),void(a=a?o(a,s):s)):(a=[],!1)}),a?e.map(s(a),function(t){return r.datums[t]}):[]},reset:function(){this.datums=[],this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){function n(t){
return t.local||null}function a(n){var a,s;return s={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(a=n.prefetch||null)&&(a=e.isString(a)?{url:a}:a,a=e.mixin(s,a),a.thumbprint=i+a.thumbprint,a.ajax.type=a.ajax.type||"GET",a.ajax.dataType=a.ajax.dataType||"json",!a.url&&t.error("prefetch requires url to be set")),a}function s(i){function n(t){return function(i){return e.debounce(i,t)}}function a(t){return function(i){return e.throttle(i,t)}}var s,o;return o={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(s=i.remote||null)&&(s=e.isString(s)?{url:s}:s,s=e.mixin(o,s),s.rateLimiter=/^throttle$/i.test(s.rateLimitBy)?a(s.rateLimitWait):n(s.rateLimitWait),s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",delete s.rateLimitBy,delete s.rateLimitWait,!s.url&&t.error("remote requires url to be set")),s}return{local:n,prefetch:a,remote:s}}();!function(i){function a(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=c(e.sorter),this.dupDetector=e.dupDetector||d,this.local=l.local(e),this.prefetch=l.prefetch(e),this.remote=l.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new r({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new s(this.cacheKey):null}function c(t){function i(e){return e.sort(t)}function n(t){return t}return e.isFunction(t)?i:n}function d(){return!1}var u,h;return u=i.Bloodhound,h={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.Bloodhound=a,a.noConflict=function(){return i.Bloodhound=u,a},a.tokenizers=n,e.mixin(a.prototype,{_loadPrefetch:function(e){function i(t){s.clear(),s.add(e.filter?e.filter(t):t),s._saveToStorage(s.index.serialize(),e.thumbprint,e.ttl)}var n,a,s=this;return(n=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(n),a=t.Deferred().resolve()):a=t.ajax(e.url,e.ajax).done(i),a},_getFromRemote:function(t,e){function i(t,i){e(t?[]:s.remote.filter?s.remote.filter(i):i)}var n,a,s=this;return t=t||"",a=encodeURIComponent(t),n=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,a),this.transport.get(n,this.remote.ajax,i)},_saveToStorage:function(t,e,i){this.storage&&(this.storage.set(h.data,t,i),this.storage.set(h.protocol,location.protocol,i),this.storage.set(h.thumbprint,e,i))},_readFromStorage:function(t){var e,i={};return this.storage&&(i.data=this.storage.get(h.data),i.protocol=this.storage.get(h.protocol),i.thumbprint=this.storage.get(h.thumbprint)),e=i.thumbprint!==t||i.protocol!==location.protocol,i.data&&!e?i.data:null},_initialize:function(){function i(){a.add(e.isFunction(s)?s():s)}var n,a=this,s=this.local;return n=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),s&&n.done(i),this.transport=this.remote?new o(this.remote):null,this.initPromise=n.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,i){function n(t){var n=s.slice(0);e.each(t,function(t){var i;return i=e.some(n,function(e){return a.dupDetector(t,e)}),!i&&n.push(t),n.length<a.limit}),i&&i(a.sorter(n))}var a=this,s=[],o=!1;s=this.index.get(t),s=this.sorter(s).slice(0,this.limit),s.length<this.limit&&this.transport&&(o=this._getFromRemote(t,n)),o||(s.length>0||!this.transport)&&i&&i(s)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&o.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}}),a}(this);var c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},d={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};e.isMsie()&&e.mixin(d.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(d.input,{marginTop:"-1px"});var u=function(){function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n="typeahead:";return e.mixin(i.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(n+t,e)}}),i}(),h=function(){function t(t,e,i,n){var a;if(!i)return this;for(e=e.split(l),i=n?r(i,n):i,this._callbacks=this._callbacks||{};a=e.shift();)this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]},this._callbacks[a][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function a(t){var e,i,n,a,o;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)a=s(i.sync,this,[e].concat(n)),o=s(i.async,this,[e].concat(n)),a()&&c(o);return this}function s(t,e,i){function n(){for(var n,a=0;!n&&a<t.length;a+=1)n=t[a].apply(e,i)===!1;return!n}return n}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function r(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=o();return{onSync:i,onAsync:e,off:n,trigger:a}}(),p=function(t){function i(t,i,n){for(var a,s=[],o=0;o<t.length;o++)s.push(e.escapeRegExChars(t[o]));return a=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(a):new RegExp(a,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(a){function s(e){var i,n;return(i=r.exec(e.data))&&(wrapperNode=t.createElement(a.tagName),a.className&&(wrapperNode.className=a.className),n=e.splitText(i.index),n.splitText(i[0].length),wrapperNode.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(wrapperNode,n)),!!i}function o(t,e){for(var i,n=3,a=0;a<t.childNodes.length;a++)i=t.childNodes[a],i.nodeType===n?a+=e(i)?1:0:o(i,e)}var r;a=e.mixin({},n,a),a.node&&a.pattern&&(a.pattern=e.isArray(a.pattern)?a.pattern:[a.pattern],r=i(a.pattern,a.caseSensitive,a.wordsOnly),o(a.node,s))}}(window.document),f=function(){function i(i){var a,s,r,l,c=this;i=i||{},i.input||t.error("input is missing"),a=e.bind(this._onBlur,this),s=e.bind(this._onFocus,this),r=e.bind(this._onKeydown,this),l=e.bind(this._onInput,this),this.$hint=t(i.hint),this.$input=t(i.input).on("blur.tt",a).on("focus.tt",s).on("keydown.tt",r),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||e.defer(e.bind(c._onInput,c,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function a(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,h,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var i,n,a;switch(t){case"tab":n=this.getHint(),a=this.getInputValue(),i=n&&n!==a&&!s(e);break;case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!s(e);break;default:i=!0}return i},_checkInputValue:function(){var t,e,i;t=this.getInputValue(),e=a(t,this.query),i=e?this.query.length!==t.length:!1,e?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=t)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:document.selection?(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),g=function(){function i(i){i=i||{},i.templates=i.templates||{},i.source||t.error("missing source"),i.name&&!s(i.name)&&t.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||e.getUniqueId(),this.source=i.source,this.displayFn=n(i.display||i.displayKey),this.templates=a(i.templates,this.displayFn),this.$el=t(c.dataset.replace("%CLASS%",this.name))}function n(t){function i(e){return e[t]}return t=t||"value",e.isFunction(t)?t:i}function a(t,i){function n(t){return"<p>"+i(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||n}}function s(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var o="ttDataset",r="ttValue",l="ttDatum";return i.extractDatasetName=function(e){return t(e).data(o)},i.extractValue=function(e){return t(e).data(r)},i.extractDatum=function(e){return t(e).data(l)},e.mixin(i.prototype,h,{_render:function(i,n){function a(){return g.templates.empty({query:i,isEmpty:!0})}function s(){function a(e){var i;return i=t(c.suggestion).append(g.templates.suggestion(e)).data(o,g.name).data(r,g.displayFn(e)).data(l,e),i.children().each(function(){t(this).css(d.suggestionChild)}),i}var s,u;return s=t(c.suggestions).css(d.suggestions),u=e.map(n,a),s.append.apply(s,u),g.highlight&&p({node:s[0],pattern:i}),s}function u(){return g.templates.header({query:i,isEmpty:!f})}function h(){return g.templates.footer({query:i,isEmpty:!f})}if(this.$el){var f,g=this;this.$el.empty(),f=n&&n.length,!f&&this.templates.empty?this.$el.html(a()).prepend(g.templates.header?u():null).append(g.templates.footer?h():null):f&&this.$el.html(s()).prepend(g.templates.header?u():null).append(g.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){i.canceled||t!==i.query||i._render(t,e)}var i=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),m=function(){function i(i){var a,s,o,r=this;i=i||{},i.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(i.datasets,n),a=e.bind(this._onSuggestionClick,this),s=e.bind(this._onSuggestionMouseEnter,this),o=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(i.menu).on("click.tt",".tt-suggestion",a).on("mouseenter.tt",".tt-suggestion",s).on("mouseleave.tt",".tt-suggestion",o),e.each(this.datasets,function(t){r.$menu.append(t.getRoot()),t.onSync("rendered",r._onRendered,r)})}function n(t){return new g(t)}return e.mixin(i.prototype,h,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,i,n,a;if(this.isOpen){if(i=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),n=e.index(i)+t,n=(n+1)%(e.length+1)-1,-1===n)return void this.trigger("cursorRemoved");-1>n&&(n=e.length-1),this._setCursor(a=e.eq(n)),this._ensureVisible(a)}},_ensureVisible:function(t){var e,i,n,a;e=t.position().top,i=e+t.outerHeight(!0),n=this.$menu.scrollTop(),a=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(n+e):i>a&&this.$menu.scrollTop(n+(i-a))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?d.ltr:d.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:g.extractDatum(t),value:g.extractValue(t),datasetName:g.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function i(e){e.update(t)}e.each(this.datasets,i)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),i}(),v=function(){function i(i){var a,s,o;i=i||{},i.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!i.autoselect,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.$node=n(i.input,i.withHint),a=this.$node.find(".tt-dropdown-menu"),s=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),s.on("blur.tt",function(t){var i,n,o;i=document.activeElement,n=a.is(i),o=a.has(i).length>0,e.isMsie()&&(n||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){s.focus()}))}),a.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=i.eventBus||new u({el:s}),this.dropdown=new m({menu:a,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new f({input:s,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function n(e,i){var n,s,r,l;n=t(e),s=t(c.wrapper).css(d.wrapper),r=t(c.dropdown).css(d.dropdown),l=n.clone().css(d.hint).css(a(n)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),n.data(o,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?d.input:d.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(u){}return n.wrap(s).parent().prepend(i?l:null).append(r)}function a(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function s(t){var i=t.find(".tt-input");e.each(i.data(o),function(t,n){e.isUndefined(t)?i.removeAttr(n):i.attr(n,t)}),i.detach().removeData(o).removeClass("tt-input").insertAfter(t),t.remove()}var o="ttAttrs";return e.mixin(i.prototype,{_onSuggestionClicked:function(t,e){var i;(i=this.dropdown.getDatumForSuggestion(e))&&this._select(i)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,i,n,a,s,o;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(i=this.input.getInputValue(),n=f.normalizeQuery(i),a=e.escapeRegExChars(n),s=new RegExp("^(?:"+a+")(.+$)","i"),o=s.exec(t.value),o?this.input.setHint(i+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,i,n,a;e=this.input.getHint(),i=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&i!==e&&n&&(a=this.dropdown.getDatumForTopSuggestion(),a&&this.input.setInputValue(a.value),this.eventBus.trigger("autocompleted",a.raw,a.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),s(this.$node),this.$node=null}}),i}();!function(){var i,n,a;i=t.fn.typeahead,n="ttTypeahead",a={initialize:function(i,a){function s(){var s,o,r=t(this);e.each(a,function(t){t.highlight=!!i.highlight}),o=new v({input:r,eventBus:s=new u({el:r}),withHint:e.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:a}),r.data(n,o)}return a=e.isArray(a)?a:[].slice.call(arguments,1),i=i||{},this.each(s)},open:function(){function e(){var e,i=t(this);(e=i.data(n))&&e.open()}return this.each(e)},close:function(){function e(){var e,i=t(this);(e=i.data(n))&&e.close()}return this.each(e)},val:function(e){function i(){var i,a=t(this);(i=a.data(n))&&i.setVal(e)}function a(t){var e,i;return(e=t.data(n))&&(i=e.getVal()),i}return arguments.length?this.each(i):a(this.first())},destroy:function(){function e(){var e,i=t(this);(e=i.data(n))&&(e.destroy(),i.removeData(n))}return this.each(e)}},t.fn.typeahead=function(t){return a[t]?a[t].apply(this,[].slice.call(arguments,1)):a.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this}}()}(window.jQuery),function(t){t.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var e=this;this.element.is("input")?(this.tagList=t("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=t('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=function(e,i){var n=e.term.toLowerCase(),a=t.grep(this.options.availableTags,function(t){return 0===t.toLowerCase().indexOf(n)});this.options.allowDuplicates||(a=this._subtractArray(a,this.assignedTags())),i(a)}),this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(){e._showAutocomplete()}),"undefined"==typeof this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0)),t.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=t.proxy(this.options.autocomplete.source,this)),t.isFunction(this.options.tagSource)&&(this.options.tagSource=t.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(t('<li class="tagit-new"></li>').append(this.tagInput)).click(function(i){var n=t(i.target);n.hasClass("tagit-label")?(n=n.closest(".tagit-choice"),n.hasClass("removed")||e._trigger("onTagClicked",i,{tag:n,tagLabel:e.tagLabel(n)})):e.tagInput.focus()});var i=!1;if(this.options.singleField)if(this.options.singleFieldNode){var n=t(this.options.singleFieldNode),a=n.val().split(this.options.singleFieldDelimiter);n.val(""),t.each(a,function(t,n){e.createTag(n,null,!0),i=!0})}else this.options.singleFieldNode=t('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode);i||this.tagList.children("li").each(function(){t(this).hasClass("tagit-new")||(e.createTag(t(this).text(),t(this).attr("class"),!0),t(this).remove())}),this.tagInput.keydown(function(i){if(i.which==t.ui.keyCode.BACKSPACE&&""===e.tagInput.val()){var n=e._lastTag();!e.options.removeConfirmation||n.hasClass("remove")?e.removeTag(n):e.options.removeConfirmation&&n.addClass("remove ui-state-highlight")}else e.options.removeConfirmation&&e._lastTag().removeClass("remove ui-state-highlight");(i.which===t.ui.keyCode.COMMA&&!1===i.shiftKey||i.which===t.ui.keyCode.ENTER||i.which==t.ui.keyCode.TAB&&""!==e.tagInput.val()||i.which==t.ui.keyCode.SPACE&&!0!==e.options.allowSpaces&&('"'!=t.trim(e.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==t.trim(e.tagInput.val()).charAt(0)&&'"'==t.trim(e.tagInput.val()).charAt(t.trim(e.tagInput.val()).length-1)&&0!==t.trim(e.tagInput.val()).length-1))&&(i.which===t.ui.keyCode.ENTER&&""===e.tagInput.val()||i.preventDefault(),e.options.autocomplete.autoFocus&&e.tagInput.data("autocomplete-open")||(e.tagInput.autocomplete("close"),e.createTag(e._cleanedInput())))}).blur(function(){e.tagInput.data("autocomplete-open")||e.createTag(e._cleanedInput())}),(this.options.availableTags||this.options.tagSource||this.options.autocomplete.source)&&(n={select:function(t,i){return e.createTag(i.item.value),!1}},t.extend(n,this.options.autocomplete),n.source=this.options.tagSource||n.source,this.tagInput.autocomplete(n).bind("autocompleteopen.tagit",function(){e.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose.tagit",function(){e.tagInput.data("autocomplete-open",!1)}),this.tagInput.autocomplete("widget").addClass("tagit-autocomplete"))},destroy:function(){return t.Widget.prototype.destroy.call(this),this.element.unbind(".tagit"),this.tagList.unbind(".tagit"),this.tagInput.removeData("autocomplete-open"),this.tagList.removeClass("tagit ui-widget ui-widget-content ui-corner-all tagit-hidden-field"),this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each(function(){t(this).hasClass("tagit-new")?t(this).remove():(t(this).removeClass("tagit-choice ui-widget-content ui-state-default ui-state-highlight ui-corner-all remove tagit-choice-editable tagit-choice-read-only"),t(this).text(t(this).children(".tagit-label").text()))}),this.singleFieldNode&&this.singleFieldNode.remove()),this},_cleanedInput:function(){return t.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var e=this,i=[];return this.options.singleField?(i=t(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===i[0]&&(i=[])):this._tags().each(function(){i.push(e.tagLabel(this))}),i},_updateSingleTagsField:function(e){t(this.options.singleFieldNode).val(e.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(e,i){for(var n=[],a=0;a<e.length;a++)-1==t.inArray(e[a],i)&&n.push(e[a]);return n},tagLabel:function(e){return this.options.singleField?t(e).find(".tagit-label:first").text():t(e).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(e){var i=this,n=null;return this._tags().each(function(){return i._formatStr(e)==i._formatStr(i.tagLabel(this))?(n=t(this),!1):void 0}),n},_isNew:function(t){return!this._findTagByLabel(t)},_formatStr:function(e){return this.options.caseSensitive?e:t.trim(e.toLowerCase())},_effectExists:function(e){return Boolean(t.effects&&(t.effects[e]||t.effects.effect&&t.effects.effect[e]))},createTag:function(e,i,n){var a=this;if(e=t.trim(e),this.options.preprocessTag&&(e=this.options.preprocessTag(e)),""===e)return!1;if(!this.options.allowDuplicates&&!this._isNew(e))return e=this._findTagByLabel(e),!1!==this._trigger("onTagExists",null,{existingTag:e,duringInitialization:n})&&this._effectExists("highlight")&&e.effect("highlight"),!1;if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit)return this._trigger("onTagLimitExceeded",null,{duringInitialization:n}),!1;var s=t(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(e),o=t("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(i).append(s);this.options.readOnly?o.addClass("tagit-choice-read-only"):(o.addClass("tagit-choice-editable"),i=t("<span></span>").addClass("ui-icon ui-icon-close"),i=t('<a><span class="text-icon">\xd7</span></a>').addClass("tagit-close").append(i).click(function(){a.removeTag(o)}),o.append(i)),this.options.singleField||(s=s.html(),o.append('<input type="hidden" value="'+s+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')),!1!==this._trigger("beforeTagAdded",null,{tag:o,tagLabel:this.tagLabel(o),duringInitialization:n})&&(this.options.singleField&&(s=this.assignedTags(),s.push(e),this._updateSingleTagsField(s)),this._trigger("onTagAdded",null,o),this.tagInput.val(""),this.tagInput.parent().before(o),this._trigger("afterTagAdded",null,{tag:o,tagLabel:this.tagLabel(o),duringInitialization:n}),this.options.showAutocompleteOnFocus&&!n&&setTimeout(function(){a._showAutocomplete()},0))},removeTag:function(e,i){if(i="undefined"==typeof i?this.options.animate:i,e=t(e),this._trigger("onTagRemoved",null,e),!1!==this._trigger("beforeTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})){if(this.options.singleField){var n=this.assignedTags(),a=this.tagLabel(e),n=t.grep(n,function(t){return t!=a});this._updateSingleTagsField(n)}if(i){e.addClass("removed");var n=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],s=this;n.push(function(){e.remove(),s._trigger("afterTagRemoved",null,{tag:e,tagLabel:s.tagLabel(e)})}),e.fadeOut("fast").hide.apply(e,n).dequeue()}else e.remove(),this._trigger("afterTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})}},removeTagByLabel:function(t,e){var i=this._findTagByLabel(t);if(!i)throw"No such tag exists with the name '"+t+"'";this.removeTag(i,e)},removeAll:function(){var t=this;this._tags().each(function(e,i){t.removeTag(i,!1)})}})}(jQuery);var blue="#348fe2",blueLight="#5da5e8",blueDark="#1993E4",aqua="#49b6d6",aquaLight="#6dc5de",aquaDark="#3a92ab",green="#00acac",greenLight="#33bdbd",greenDark="#008a8a",orange="#f59c1a",orangeLight="#f7b048",orangeDark="#c47d15",dark="#2d353c",grey="#b6c2c9",purple="#727cb6",purpleLight="#8e96c5",purpleDark="#5b6392",red="#ff5b57",handleVectorMap=function(){"use strict";0!==$("#world-map").length&&$("#world-map").vectorMap({map:"world_mill_en",scaleColors:["#e74c3c","#0071a4"],normalizeFunction:"polynomial",hoverOpacity:.5,hoverColor:!1,markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},focusOn:{x:.5,y:.5,scale:0},backgroundColor:"#2d353c",markers:[{latLng:[41.9,12.45],name:"Vatican City"},{latLng:[43.73,7.41],name:"Monaco"},{latLng:[-.52,166.93],name:"Nauru"},{latLng:[-8.51,179.21],name:"Tuvalu"},{latLng:[43.93,12.46],name:"San Marino"},{latLng:[47.14,9.52],name:"Liechtenstein"},{latLng:[7.11,171.06],name:"Marshall Islands"},{latLng:[17.3,-62.73],name:"Saint Kitts and Nevis"},{latLng:[3.2,73.22],name:"Maldives"},{latLng:[35.88,14.5],name:"Malta"},{latLng:[12.05,-61.75],name:"Grenada"},{latLng:[13.16,-61.23],name:"Saint Vincent and the Grenadines"},{latLng:[13.16,-59.55],name:"Barbados"},{latLng:[17.11,-61.85],name:"Antigua and Barbuda"},{latLng:[-4.61,55.45],name:"Seychelles"},{latLng:[7.35,134.46],
name:"Palau"},{latLng:[42.5,1.51],name:"Andorra"},{latLng:[14.01,-60.98],name:"Saint Lucia"},{latLng:[6.91,158.18],name:"Federated States of Micronesia"},{latLng:[1.3,103.8],name:"Singapore"},{latLng:[1.46,173.03],name:"Kiribati"},{latLng:[-21.13,-175.2],name:"Tonga"},{latLng:[15.3,-61.38],name:"Dominica"},{latLng:[-20.2,57.5],name:"Mauritius"},{latLng:[26.02,50.55],name:"Bahrain"},{latLng:[.33,6.73],name:"S\xe3o Tom\xe9 and Pr\xedncipe"}]})},handleInteractiveChart=function(){"use strict";function t(t,e,i){$('<div id="tooltip" class="flot-tooltip">'+i+"</div>").css({top:e-45,left:t-55}).appendTo("body").fadeIn(200)}if(0!==$("#interactive-chart").length){var e=[[1,40],[2,50],[3,60],[4,60],[5,60],[6,65],[7,75],[8,90],[9,100],[10,105],[11,110],[12,110],[13,120],[14,130],[15,135],[16,145],[17,132],[18,123],[19,135],[20,150]],i=[[1,10],[2,6],[3,10],[4,12],[5,18],[6,20],[7,25],[8,23],[9,24],[10,25],[11,18],[12,30],[13,25],[14,25],[15,30],[16,27],[17,20],[18,18],[19,31],[20,23]],n=[[1,""],[2,""],[3,"May&nbsp;15"],[4,""],[5,""],[6,"May&nbsp;19"],[7,""],[8,""],[9,"May&nbsp;22"],[10,""],[11,""],[12,"May&nbsp;25"],[13,""],[14,""],[15,"May&nbsp;28"],[16,""],[17,""],[18,"May&nbsp;31"],[19,""],[20,""]];$.plot($("#interactive-chart"),[{data:e,label:"Page Views",color:blue,lines:{show:!0,fill:!1,lineWidth:2},points:{show:!0,radius:3,fillColor:"#fff"},shadowSize:0},{data:i,label:"Visitors",color:green,lines:{show:!0,fill:!1,lineWidth:2},points:{show:!0,radius:3,fillColor:"#fff"},shadowSize:0}],{xaxis:{ticks:n,tickDecimals:0,tickColor:"#ddd"},yaxis:{ticks:10,tickColor:"#ddd",min:0,max:200},grid:{hoverable:!0,clickable:!0,tickColor:"#ddd",borderWidth:1,backgroundColor:"#fff",borderColor:"#ddd"},legend:{labelBoxBorderColor:"#ddd",margin:10,noColumns:1,show:!0}});var a=null;$("#interactive-chart").bind("plothover",function(e,i,n){if($("#x").text(i.x.toFixed(2)),$("#y").text(i.y.toFixed(2)),n){if(a!==n.dataIndex){a=n.dataIndex,$("#tooltip").remove();var s=n.datapoint[1].toFixed(2),o=n.series.label+" "+s;t(n.pageX,n.pageY,o)}}else $("#tooltip").remove(),a=null;e.preventDefault()})}},handleDonutChart=function(){"use strict";if(0!==$("#donut-chart").length){var t=[{label:"Chrome",data:35,color:purpleDark},{label:"Firefox",data:30,color:purple},{label:"Safari",data:15,color:purpleLight},{label:"Opera",data:10,color:blue},{label:"IE",data:5,color:blueDark}];$.plot("#donut-chart",t,{series:{pie:{innerRadius:.5,show:!0,label:{show:!0}}},legend:{show:!0}})}},handleDashboardSparkline=function(){"use strict";function t(){var t=[50,30,45,40,50,20,35,40,50,70,90,40];e.type="line",e.height="23px",e.lineColor=red,e.highlightLineColor=red,e.highlightSpotColor=red;var i=$("#sparkline-unique-visitor").width();i>=200?e.width="200px":e.width="100%",$("#sparkline-unique-visitor").sparkline(t,e),e.lineColor=orange,e.highlightLineColor=orange,e.highlightSpotColor=orange,$("#sparkline-bounce-rate").sparkline(t,e),e.lineColor=green,e.highlightLineColor=green,e.highlightSpotColor=green,$("#sparkline-total-page-views").sparkline(t,e),e.lineColor=blue,e.highlightLineColor=blue,e.highlightSpotColor=blue,$("#sparkline-avg-time-on-site").sparkline(t,e),e.lineColor=grey,e.highlightLineColor=grey,e.highlightSpotColor=grey,$("#sparkline-new-visits").sparkline(t,e),e.lineColor=dark,e.highlightLineColor=dark,e.highlightSpotColor=grey,$("#sparkline-return-visitors").sparkline(t,e)}var e={height:"50px",width:"100%",fillColor:"transparent",lineWidth:2,spotRadius:"4",highlightLineColor:blue,highlightSpotColor:blue,spotColor:!1,minSpotColor:!1,maxSpotColor:!1};t(),$(window).on("resize",function(){$("#sparkline-unique-visitor").empty(),$("#sparkline-bounce-rate").empty(),$("#sparkline-total-page-views").empty(),$("#sparkline-avg-time-on-site").empty(),$("#sparkline-new-visits").empty(),$("#sparkline-return-visitors").empty(),t()})},handleDashboardDatepicker=function(){"use strict";$("#datepicker-inline").datepicker({todayHighlight:!0})},handleDashboardTodolist=function(){"use strict";$("[data-click=todolist]").click(function(){var t=$(this).closest("li");$(t).hasClass("active")?$(t).removeClass("active"):$(t).addClass("active")})},handleDashboardGritterNotification=function(){$(window).load(function(){setTimeout(function(){$.gritter.add({title:"Welcome back, Admin!",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempus lacus ut lectus rutrum placerat.",image:"assets/img/user-2.jpg",sticky:!0,time:"",class_name:"my-sticky-class"})},1e3)})},Dashboard=function(){"use strict";return{init:function(){$.getScript("assets/plugins/gritter/js/jquery.gritter.js").done(function(){handleDashboardGritterNotification()}),$.getScript("assets/plugins/flot/jquery.flot.min.js").done(function(){$.getScript("assets/plugins/flot/jquery.flot.time.min.js").done(function(){$.getScript("assets/plugins/flot/jquery.flot.resize.min.js").done(function(){$.getScript("assets/plugins/flot/jquery.flot.pie.min.js").done(function(){handleInteractiveChart(),handleDonutChart()})})})}),$.getScript("assets/plugins/sparkline/jquery.sparkline.js").done(function(){handleDashboardSparkline()}),$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.min.js").done(function(){$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-world-mill-en.js").done(function(){handleVectorMap()})}),$.getScript("assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js").done(function(){handleDashboardDatepicker()}),handleDashboardTodolist()}}}(),getMonthName=function(t){var e=[];return e[0]="January",e[1]="February",e[2]="March",e[3]="April",e[4]="May",e[5]="Jun",e[6]="July",e[7]="August",e[8]="September",e[9]="October",e[10]="November",e[11]="December",e[t]},getDate=function(t){var e=new Date(t),i=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return 10>i&&(i="0"+i),10>n&&(n="0"+n),e=a+"-"+n+"-"+i},handleVisitorsLineChart=function(){var t="#0D888B",e="#00ACAC",i="#3273B1",n="#348FE2",a="rgba(0,0,0,0.6)",s="rgba(255,255,255,0.4)";Morris.Line({element:"visitors-line-chart",data:[{x:"2014-02-01",y:60,z:30},{x:"2014-03-01",y:70,z:40},{x:"2014-04-01",y:40,z:10},{x:"2014-05-01",y:100,z:70},{x:"2014-06-01",y:40,z:10},{x:"2014-07-01",y:80,z:50},{x:"2014-08-01",y:70,z:40}],xkey:"x",ykeys:["y","z"],xLabelFormat:function(t){return t=getMonthName(t.getMonth()),t.toString()},labels:["Page Views","Unique Visitors"],lineColors:[t,i],pointFillColors:[e,n],lineWidth:"2px",pointStrokeColors:[a,a],resize:!0,gridTextFamily:"Open Sans",gridTextColor:s,gridTextWeight:"normal",gridTextSize:"11px",gridLineColor:"rgba(0,0,0,0.5)",hideHover:"auto"})},handleVisitorsDonutChart=function(){var t="#00acac",e="#348fe2";Morris.Donut({element:"visitors-donut-chart",data:[{label:"New Visitors",value:900},{label:"Return Visitors",value:1200}],colors:[t,e],labelFamily:"Open Sans",labelColor:"rgba(255,255,255,0.4)",labelTextSize:"12px",backgroundColor:"#242a30"})},handleVisitorsVectorMap=function(){0!==$("#visitors-map").length&&(map=new jvm.WorldMap({map:"world_merc_en",scaleColors:["#e74c3c","#0071a4"],container:$("#visitors-map"),normalizeFunction:"linear",hoverOpacity:.5,hoverColor:!1,markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},regions:[{attribute:"fill"}],regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},series:{regions:[{values:{IN:"#00acac",US:"#00acac",KR:"#00acac"}}]},focusOn:{x:.5,y:.5,scale:2},backgroundColor:"#2d353c"}))},handleScheduleCalendar=function(){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["S","M","T","W","T","F","S"],i=new Date,n=i.getMonth()+1,a=i.getFullYear(),s=[["2/"+n+"/"+a,"Popover Title","#","#00acac","Some contents here"],["5/"+n+"/"+a,"Tooltip with link","http://www.seantheme.com/color-admin-v1.3","#2d353c"],["18/"+n+"/"+a,"Popover with HTML Content","#","#2d353c",'Some contents here <div class="text-right"><a href="http://www.google.com">view more >>></a></div>'],["28/"+n+"/"+a,"Color Admin V1.3 Launched","http://www.seantheme.com/color-admin-v1.3","#2d353c"]],o=$("#schedule-calendar");$(o).calendar({months:t,days:e,events:s,popover_options:{placement:"top",html:!0}}),$(o).find("td.event").each(function(){var t=$(this).css("background-color");$(this).removeAttr("style"),$(this).find("a").css("background-color",t)}),$(o).find(".icon-arrow-left, .icon-arrow-right").parent().on("click",function(){$(o).find("td.event").each(function(){var t=$(this).css("background-color");$(this).removeAttr("style"),$(this).find("a").css("background-color",t)})})},handleDashboardGritterNotification=function(){$(window).load(function(){setTimeout(function(){$.gritter.add({title:"Welcome back, Admin!",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempus lacus ut lectus rutrum placerat.",image:"assets/img/user-14.jpg",sticky:!0,time:"",class_name:"my-sticky-class"})},1e3)})},DashboardV2=function(){"use strict";return{init:function(){$.getScript("assets/plugins/morris/raphael.min.js").done(function(){$.getScript("assets/plugins/morris/morris.js").done(function(){handleVisitorsLineChart(),handleVisitorsDonutChart()})}),$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.min.js").done(function(){$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-world-merc-en.js").done(function(){handleVisitorsVectorMap()})}),$.getScript("assets/plugins/bootstrap-calendar/js/bootstrap_calendar.min.js").done(function(){handleScheduleCalendar()}),$.getScript("assets/plugins/gritter/js/jquery.gritter.js").done(function(){handleDashboardGritterNotification()})}}}(),handleSlimScroll=function(){"use strict";$("[data-scrollbar=true]").each(function(){generateSlimScroll($(this))})},generateSlimScroll=function(t){if(!$(t).attr("data-init")){var e=$(t).attr("data-height");e=e?e:$(t).height();var i={height:e,alwaysVisible:!0};/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($(t).css("height",e),$(t).css("overflow-x","scroll")):$(t).slimScroll(i),$(t).attr("data-init",!0)}},handleSidebarMenu=function(){"use strict";$(".sidebar .nav > .has-sub > a").click(function(){var t=$(this).next(".sub-menu"),e=".sidebar .nav > li.has-sub > .sub-menu";0===$(".page-sidebar-minified").length&&($(e).not(t).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(t).slideToggle(250,function(){var t=$(this).closest("li");$(t).hasClass("expand")?$(t).removeClass("expand"):$(t).addClass("expand")}))}),$(".sidebar .nav > .has-sub .sub-menu li.has-sub > a").click(function(){if(0===$(".page-sidebar-minified").length){var t=$(this).next(".sub-menu");$(t).slideToggle(250)}})},handleMobileSidebarToggle=function(){var t=!1;$(".sidebar").bind("click touchstart",function(e){0!==$(e.target).closest(".sidebar").length?t=!0:(t=!1,e.stopPropagation())}),$(document).bind("click touchstart",function(e){0===$(e.target).closest(".sidebar").length&&(t=!1),e.isPropagationStopped()||t===!0||($("#page-container").hasClass("page-sidebar-toggled")&&(t=!0,$("#page-container").removeClass("page-sidebar-toggled")),$(window).width()<=767&&$("#page-container").hasClass("page-right-sidebar-toggled")&&(t=!0,$("#page-container").removeClass("page-right-sidebar-toggled")))}),$("[data-click=right-sidebar-toggled]").click(function(e){e.stopPropagation();var i="#page-container",n="page-right-sidebar-collapsed";n=$(window).width()<979?"page-right-sidebar-toggled":n,$(i).hasClass(n)?$(i).removeClass(n):t!==!0?$(i).addClass(n):t=!1,$(window).width()<480&&$("#page-container").removeClass("page-sidebar-toggled")}),$("[data-click=sidebar-toggled]").click(function(e){e.stopPropagation();var i="page-sidebar-toggled",n="#page-container";$(n).hasClass(i)?$(n).removeClass(i):t!==!0?$(n).addClass(i):t=!1,$(window).width()<480&&$("#page-container").removeClass("page-right-sidebar-toggled")})},handleSidebarMinify=function(){$("[data-click=sidebar-minify]").click(function(t){t.preventDefault();var e="page-sidebar-minified",i="#page-container";$('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').removeAttr("data-init"),$("#sidebar [data-scrollbar=true]").stop(),$(i).hasClass(e)?($(i).removeClass(e),$(i).hasClass("page-sidebar-fixed")?(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')),$("#sidebar [data-scrollbar=true]").trigger("mouseover")):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')))):($(i).addClass(e),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').css("overflow","visible")):($(i).hasClass("page-sidebar-fixed")&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),$("#sidebar [data-scrollbar=true]").trigger("mouseover"))),$(window).trigger("resize")})},handlePageContentView=function(){"use strict";$.when($("#page-loader").addClass("hide")).done(function(){$("#page-container").addClass("in")})},panelActionRunning=!1,handlePanelAction=function(){"use strict";return panelActionRunning?!1:(panelActionRunning=!0,$(document).on("hover","[data-click=panel-remove]",function(){$(this).tooltip({title:"Remove",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-remove]",function(t){t.preventDefault(),$(this).tooltip("destroy"),$(this).closest(".panel").remove()}),$(document).on("hover","[data-click=panel-collapse]",function(){$(this).tooltip({title:"Collapse / Expand",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-collapse]",function(t){t.preventDefault(),$(this).closest(".panel").find(".panel-body").slideToggle()}),$(document).on("hover","[data-click=panel-reload]",function(){$(this).tooltip({title:"Reload",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-reload]",function(t){t.preventDefault();var e=$(this).closest(".panel");if(!$(e).hasClass("panel-loading")){var i=$(e).find(".panel-body"),n='<div class="panel-loader"><span class="spinner-small"></span></div>';$(e).addClass("panel-loading"),$(i).prepend(n),setTimeout(function(){$(e).removeClass("panel-loading"),$(e).find(".panel-loader").remove()},2e3)}}),$(document).on("hover","[data-click=panel-expand]",function(){$(this).tooltip({title:"Expand / Compress",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),void $(document).on("click","[data-click=panel-expand]",function(t){t.preventDefault();var e=$(this).closest(".panel"),i=$(e).find(".panel-body"),n=40;if(0!==$(i).length){var a=$(e).offset().top,s=$(i).offset().top;n=s-a}if($("body").hasClass("panel-expand")&&$(e).hasClass("panel-expand"))$("body, .panel").removeClass("panel-expand"),$(".panel").removeAttr("style"),$(i).removeAttr("style");else if($("body").addClass("panel-expand"),$(this).closest(".panel").addClass("panel-expand"),0!==$(i).length&&40!=n){var o=40;$(e).find(" > *").each(function(){var t=$(this).attr("class");"panel-heading"!=t&&"panel-body"!=t&&(o+=$(this).height()+30)}),40!=o&&$(i).css("top",o+"px")}$(window).trigger("resize")}))},handleDraggablePanel=function(){"use strict";var t=$(".panel").parent("[class*=col]"),e=".panel-heading",i=".row > [class*=col]";$(t).sortable({handle:e,connectWith:i,stop:function(t,e){e.item.find(".panel-title").append('<i class="fa fa-refresh fa-spin m-l-5" data-id="title-spinner"></i>'),handleSavePanelPosition(e.item)}})},handelTooltipPopoverActivation=function(){"use strict";$("[data-toggle=tooltip]").tooltip(),$("[data-toggle=popover]").popover()},handleScrollToTopButton=function(){"use strict";$(document).scroll(function(){var t=$(document).scrollTop();t>=200?$("[data-click=scroll-top]").addClass("in"):$("[data-click=scroll-top]").removeClass("in")}),$("[data-click=scroll-top]").click(function(t){t.preventDefault(),$("html, body").animate({scrollTop:$("body").offset().top},500)})},handleThemePageStructureControl=function(){if($.cookie&&$.cookie("theme")){0!==$(".theme-list").length&&($(".theme-list [data-theme]").closest("li").removeClass("active"),$('.theme-list [data-theme="'+$.cookie("theme")+'"]').closest("li").addClass("active"));var t="assets/css/theme/"+$.cookie("theme")+".css";$("#theme").attr("href",t)}$.cookie&&$.cookie("sidebar-styling")&&0!==$(".sidebar").length&&"grid"==$.cookie("sidebar-styling")&&($(".sidebar").addClass("sidebar-grid"),$('[name=sidebar-styling] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("header-styling")&&0!==$(".header").length&&"navbar-inverse"==$.cookie("header-styling")&&($(".header").addClass("navbar-inverse"),$('[name=header-styling] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("content-gradient")&&0!==$("#page-container").length&&"enabled"==$.cookie("content-gradient")&&($("#page-container").addClass("gradient-enabled"),$('[name=content-gradient] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("content-styling")&&0!==$("body").length&&"black"==$.cookie("content-styling")&&($("body").addClass("flat-black"),$('[name=content-styling] option[value="2"]').prop("selected",!0)),$(".theme-list [data-theme]").click(function(){var t="assets/css/theme/"+$(this).attr("data-theme")+".css";$("#theme").attr("href",t),$(".theme-list [data-theme]").not(this).closest("li").removeClass("active"),$(this).closest("li").addClass("active"),$.cookie("theme",$(this).attr("data-theme"))}),$(".theme-panel [name=header-styling]").on("change",function(){var t=1==$(this).val()?"navbar-default":"navbar-inverse",e=1==$(this).val()?"navbar-inverse":"navbar-default";$("#header").removeClass(e).addClass(t),$.cookie("header-styling",t)}),$(".theme-panel [name=sidebar-styling]").on("change",function(){2==$(this).val()?($("#sidebar").addClass("sidebar-grid"),$.cookie("sidebar-styling","grid")):($("#sidebar").removeClass("sidebar-grid"),$.cookie("sidebar-styling","default"))}),$(".theme-panel [name=content-gradient]").on("change",function(){2==$(this).val()?($("#page-container").addClass("gradient-enabled"),$.cookie("content-gradient","enabled")):($("#page-container").removeClass("gradient-enabled"),$.cookie("content-gradient","disabled"))}),$(document).on("change",".theme-panel [name=content-styling]",function(){2==$(this).val()?($("body").addClass("flat-black"),$.cookie("content-styling","black")):($("body").removeClass("flat-black"),$.cookie("content-styling","default"))}),$(document).on("change",".theme-panel [name=sidebar-fixed]",function(){1==$(this).val()?(2==$(".theme-panel [name=header-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),$('.theme-panel [name=header-fixed] option[value="1"]').prop("selected",!0),$("#header").addClass("navbar-fixed-top"),$("#page-container").addClass("page-header-fixed")),$("#page-container").addClass("page-sidebar-fixed"),$("#page-container").hasClass("page-sidebar-minified")||generateSlimScroll($('.sidebar [data-scrollbar="true"]'))):($("#page-container").removeClass("page-sidebar-fixed"),0!==$(".sidebar .slimScrollDiv").length&&($(window).width()<=979?$(".sidebar").each(function(){if(!$("#page-container").hasClass("page-with-two-sidebar")||!$(this).hasClass("sidebar-right")){$(this).find(".slimScrollBar").remove(),$(this).find(".slimScrollRail").remove(),$(this).find('[data-scrollbar="true"]').removeAttr("style");var t=$(this).find('[data-scrollbar="true"]').parent(),e=$(t).html();$(t).replaceWith(e)}}):$(window).width()>979&&($('.sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.sidebar [data-scrollbar="true"]').removeAttr("style"))),0===$("#page-container .sidebar-bg").length&&$("#page-container").append('<div class="sidebar-bg"></div>'))}),$(document).on("change",".theme-panel [name=header-fixed]",function(){1==$(this).val()?($("#header").addClass("navbar-fixed-top"),$("#page-container").addClass("page-header-fixed"),$.cookie("header-fixed",!0)):(1==$(".theme-panel [name=sidebar-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Default Header with Default Sidebar."),$('.theme-panel [name=sidebar-fixed] option[value="2"]').prop("selected",!0),$("#page-container").removeClass("page-sidebar-fixed"),0===$("#page-container .sidebar-bg").length&&$("#page-container").append('<div class="sidebar-bg"></div>')),$("#header").removeClass("navbar-fixed-top"),$("#page-container").removeClass("page-header-fixed"),$.cookie("header-fixed",!1))})},handleThemePanelExpand=function(){$(document).on("click",'[data-click="theme-panel-expand"]',function(){var t=".theme-panel",e="active";$(t).hasClass(e)?$(t).removeClass(e):$(t).addClass(e)})},handleAfterPageLoadAddClass=function(){0!==$("[data-pageload-addclass]").length&&$(window).load(function(){$("[data-pageload-addclass]").each(function(){var t=$(this).attr("data-pageload-addclass");$(this).addClass(t)})})},handleSavePanelPosition=function(t){"use strict";if(0!==$(".ui-sortable").length){var e=[],i=0;$.when($(".ui-sortable").each(function(){var t=$(this).find("[data-sortable-id]");if(0!==t.length){var n=[];$(t).each(function(){var t=$(this).attr("data-sortable-id");n.push({id:t})}),e.push(n)}else e.push([]);i++})).done(function(){var i=window.location.href;i=i.split("?"),i=i[0],localStorage.setItem(i,JSON.stringify(e)),$(t).find('[data-id="title-spinner"]').delay(500).fadeOut(500,function(){$(this).remove()})})}},handleLocalStorage=function(){"use strict";if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage){var t=window.location.href;t=t.split("?"),t=t[0];var e=localStorage.getItem(t);if(e){e=JSON.parse(e);var i=0;$(".panel").parent('[class*="col-"]').each(function(){var t=e[i],n=$(this);t&&$.each(t,function(t,e){var i=$('[data-sortable-id="'+e.id+'"]').not('[data-init="true"]');if(0!==$(i).length){var a=$(i).clone();$(i).remove(),$(n).append(a),$('[data-sortable-id="'+e.id+'"]').attr("data-init","true")}}),i++})}}else alert("Your browser is not supported with the local storage")},handleResetLocalStorage=function(){"use strict";$(document).on("click","[data-click=reset-local-storage]",function(t){t.preventDefault();var e='<div class="modal fade" data-modal-id="reset-local-storage-confirmation">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>                <h4 class="modal-title"><i class="fa fa-refresh m-r-5"></i> Reset Local Storage Confirmation</h4>            </div>            <div class="modal-body">                <div class="alert alert-info m-b-0">Would you like to RESET all your saved widgets and clear Local Storage?</div>            </div>            <div class="modal-footer">                <a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal"><i class="fa fa-close"></i> No</a>                <a href="javascript:;" class="btn btn-sm btn-inverse" data-click="confirm-reset-local-storage"><i class="fa fa-check"></i> Yes</a>            </div>        </div>    </div></div>';$("body").append(e),$('[data-modal-id="reset-local-storage-confirmation"]').modal("show")}),$(document).on("hidden.bs.modal",'[data-modal-id="reset-local-storage-confirmation"]',function(){$('[data-modal-id="reset-local-storage-confirmation"]').remove()}),$(document).on("click","[data-click=confirm-reset-local-storage]",function(t){t.preventDefault();var e=window.location.href;e=e.split("?"),e=e[0],localStorage.removeItem(e),location.reload()})},default_content='<div class="p-t-40 p-b-40 text-center f-s-20 content"><i class="fa fa-warning fa-lg text-muted m-r-5"></i> <span class="f-w-600 text-inverse">Error 404! Page not found.</span></div>',handleLoadPage=function(t){Pace.restart();var e=t.replace("#","");$(".jvectormap-label, .jvector-label, .AutoFill_border ,#gritter-notice-wrapper, .ui-autocomplete, .colorpicker, .FixedHeader_Header, .FixedHeader_Cloned .lightboxOverlay, .lightbox").remove(),$.ajax({type:"POST",url:e,dataType:"html",success:function(t){$("#ajax-content").html(t),$("html, body").animate({scrollTop:$("body").offset().top},250)},error:function(){$("#ajax-content").html(default_content)}})},handleCheckPageLoadUrl=function(t){t=t?t:"#ajax/index_v2.html",""===t?$("#ajax-content").html(default_content):($('.sidebar [href="'+t+'"][data-toggle=ajax]').trigger("click"),handleLoadPage(t))},handleSidebarAjaxClick=function(){$(".sidebar [data-toggle=ajax]").click(function(){var t=$(this).closest("li"),e=$(this).parents();$(".sidebar li").not(t).not(e).removeClass("active"),$(t).addClass("active"),$(e).addClass("active")})},handleHashChange=function(){$(window).hashchange(function(){window.location.hash&&handleLoadPage(window.location.hash)})},handlePaceLoadingPlugins=function(){Pace.on("hide",function(){$(".pace").addClass("hide")})},handleIEFullHeightContent=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");(e>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&$('.vertical-box-row [data-scrollbar="true"][data-height="100%"]').each(function(){var t=$(this).closest(".vertical-box-row"),e=$(t).height();$(t).find(".vertical-box-cell").height(e)})},handleUnlimitedTabsRender=function(){function t(t,e){var i=(parseInt($(t).css("margin-left")),$(t).width()),n=$(t).find("li.active").width(),a=e>-1?e:150,s=0;if($(t).find("li.active").prevAll().each(function(){n+=$(this).width()}),$(t).find("li").each(function(){s+=$(this).width()}),n>=i){var o=n-i;s!=n&&(o+=40),$(t).find(".nav.nav-tabs").animate({marginLeft:"-"+o+"px"},a)}n!=s&&s>=i?$(t).addClass("overflow-right"):$(t).removeClass("overflow-right"),n>=i&&s>=i?$(t).addClass("overflow-left"):$(t).removeClass("overflow-left")}function e(t,e){var i=$(t).closest(".tab-overflow"),n=parseInt($(i).find(".nav.nav-tabs").css("margin-left")),a=$(i).width(),s=0,o=0;switch($(i).find("li").each(function(){$(this).hasClass("next-button")||$(this).hasClass("prev-button")||(s+=$(this).width())}),e){case"next":var r=s+n-a;a>=r?(o=r-n,setTimeout(function(){$(i).removeClass("overflow-right")},150)):o=a-n-80,0!=o&&$(i).find(".nav.nav-tabs").animate({marginLeft:"-"+o+"px"},150,function(){$(i).addClass("overflow-left")});break;case"prev":var r=-n;a>=r?($(i).removeClass("overflow-left"),o=0):o=r-a+80,$(i).find(".nav.nav-tabs").animate({marginLeft:"-"+o+"px"},150,function(){$(i).addClass("overflow-right")})}}function i(){$(".tab-overflow").each(function(){var e=$(this).width(),i=0,n=$(this),a=e;$(n).find("li").each(function(){var t=$(this);i+=$(t).width(),$(t).hasClass("active")&&i>e&&(a-=i)}),t(this,0)})}$(document).on("click",'[data-click="next-tab"]',function(t){t.preventDefault(),e(this,"next")}),$(document).on("click",'[data-click="prev-tab"]',function(t){t.preventDefault(),e(this,"prev")}),$(window).resize(function(){$(".tab-overflow .nav.nav-tabs").removeAttr("style"),i()}),i()},handleMobileSidebar=function(){"use strict";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("#page-container").hasClass("page-sidebar-minified")&&($('#sidebar [data-scrollbar="true"]').css("overflow","visible"),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').removeAttr("style"),$(".page-sidebar-minified #sidebar [data-scrollbar=true]").trigger("mouseover"));var t=0;$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchstart",function(e){var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n=i.pageY;t=n-parseInt($(this).closest("[data-scrollbar=true]").css("margin-top"))}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchmove",function(e){if(e.preventDefault(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n=i.pageY,a=n-t;$(this).closest("[data-scrollbar=true]").css("margin-top",a+"px")}}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchend",function(){var e=$(this).closest("[data-scrollbar=true]"),i=$(window).height(),n=parseInt($("#sidebar").css("padding-top")),a=$("#sidebar").height();t=$(e).css("margin-top");var s=n;$(".sidebar").not(".sidebar-right").find(".nav").each(function(){s+=$(this).height()});var o=-parseInt(t)+$(".sidebar").height();if(o>=s&&s>=i&&s>=a){var r=i-s-20;$(e).animate({marginTop:r+"px"})}else parseInt(t)>=0||a>=s?$(e).animate({marginTop:"0px"}):(r=t,$(e).animate({marginTop:r+"px"}))})},handleUnlimitedTopMenuRender=function(){"use strict";function t(t,e){var i=$(t).closest(".nav"),n=parseInt($(i).css("margin-left")),a=$(".top-menu").width()-88,s=0,o=0;switch($(i).find("li").each(function(){$(this).hasClass("menu-control")||(s+=$(this).width())}),e){case"next":var r=s+n-a;a>=r?(o=r-n+128,setTimeout(function(){$(i).find(".menu-control.menu-control-right").removeClass("show")},150)):o=a-n-128,0!=o&&$(i).animate({marginLeft:"-"+o+"px"},150,function(){$(i).find(".menu-control.menu-control-left").addClass("show")});break;case"prev":var r=-n;a>=r?($(i).find(".menu-control.menu-control-left").removeClass("show"),o=0):o=r-a+88,$(i).animate({marginLeft:"-"+o+"px"},150,function(){$(i).find(".menu-control.menu-control-right").addClass("show")})}}function e(){var t=$(".top-menu .nav"),e=$(".top-menu .nav > li"),i=$(".top-menu .nav > li.active"),n=$(".top-menu"),a=(parseInt($(t).css("margin-left")),$(n).width()-128),s=$(".top-menu .nav > li.active").width(),o=0,r=0;if($(i).prevAll().each(function(){s+=$(this).width()}),$(e).each(function(){$(this).hasClass("menu-control")||(r+=$(this).width())}),s>=a){var l=s-a+128;$(t).animate({marginLeft:"-"+l+"px"},o)}s!=r&&r>=a?$(t).find(".menu-control.menu-control-right").addClass("show"):$(t).find(".menu-control.menu-control-right").removeClass("show"),s>=a&&r>=a?$(t).find(".menu-control.menu-control-left").addClass("show"):$(t).find(".menu-control.menu-control-left").removeClass("show")}$(document).on("click",'[data-click="next-menu"]',function(e){e.preventDefault(),t(this,"next")}),$(document).on("click",'[data-click="prev-menu"]',function(e){e.preventDefault(),t(this,"prev")}),$(window).resize(function(){$(".top-menu .nav").removeAttr("style"),e()}),e()},handleTopMenuSubMenu=function(){"use strict";$(".top-menu .sub-menu .has-sub > a").click(function(){var t=$(this).closest("li").find(".sub-menu").first(),e=$(this).closest("ul").find(".sub-menu").not(t);$(e).not(t).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(t).slideToggle(250,function(){var t=$(this).closest("li");$(t).hasClass("expand")?$(t).removeClass("expand"):$(t).addClass("expand")})})},handleMobileTopMenuSubMenu=function(){"use strict";$(".top-menu .nav > li.has-sub > a").click(function(){if($(window).width()<=767){var t=$(this).closest("li").find(".sub-menu").first(),e=$(this).closest("ul").find(".sub-menu").not(t);$(e).not(t).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(t).slideToggle(250,function(){var t=$(this).closest("li");$(t).hasClass("expand")?$(t).removeClass("expand"):$(t).addClass("expand")})}})},handleTopMenuMobileToggle=function(){"use strict";$('[data-click="top-menu-toggled"]').click(function(){$(".top-menu").slideToggle(250)})},handleClearSidebarSelection=function(){$(".sidebar .nav > li, .sidebar .nav .sub-menu").removeClass("expand").removeAttr("style")},handleClearSidebarMobileSelection=function(){$("#page-container").removeClass("page-sidebar-toggled")},App=function(){"use strict";return{init:function(){this.initSidebar(),this.initTopMenu(),this.initPageLoad(),this.initComponent(),this.initLocalStorage()},initSidebar:function(){handleSidebarMenu(),handleMobileSidebarToggle(),handleSidebarMinify(),handleMobileSidebar()},initSidebarSelection:function(){handleClearSidebarSelection()},initSidebarMobileSelection:function(){handleClearSidebarMobileSelection()},initTopMenu:function(){handleUnlimitedTopMenuRender(),handleTopMenuSubMenu(),handleMobileTopMenuSubMenu(),handleTopMenuMobileToggle();
},initPageLoad:function(){handlePageContentView()},initComponent:function(){handleIEFullHeightContent(),handleSlimScroll(),handleUnlimitedTabsRender(),handlePanelAction(),handelTooltipPopoverActivation(),handleScrollToTopButton(),handleAfterPageLoadAddClass(),handleDraggablePanel()},initLocalStorage:function(){handleLocalStorage()},initThemePanel:function(){handleThemePageStructureControl(),handleThemePanelExpand(),handleResetLocalStorage()},initAjaxFunction:function(){handleSidebarAjaxClick(),handleCheckPageLoadUrl(window.location.hash),handleHashChange(),$.ajaxSetup({cache:!0})},setPageTitle:function(t){document.title=t},restartGlobalFunction:function(){this.initComponent(),this.initTopMenu(),this.initLocalStorage()},scrollTop:function(){$("html, body").animate({scrollTop:$("body").offset().top},0)}}}();