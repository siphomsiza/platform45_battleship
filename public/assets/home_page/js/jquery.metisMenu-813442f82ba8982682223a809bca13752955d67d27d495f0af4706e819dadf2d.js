!function(a){"use strict";function i(){var i=document.createElement("mm"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}function n(e){return this.each(function(){var i=a(this),n=i.data("mm"),t=a.extend({},l.DEFAULTS,i.data(),"object"==typeof e&&e);n||i.data("mm",n=new l(this,t)),"string"==typeof e&&n[e]()})}a.fn.emulateTransitionEnd=function(i){var n=!1,t=this;return a(this).one("mmTransitionEnd",function(){n=!0}),setTimeout(function(){n||a(t).trigger(o.end)},i),this};var o=i();o&&(a.event.special.mmTransitionEnd={bindType:o.end,delegateType:o.end,handle:function(i){return a(i.target).is(this)?i.handleObj.handler.apply(this,arguments):void 0}});var l=function(i,n){this.$element=a(i),this.options=a.extend({},l.DEFAULTS,n),this.transitioning=null,this.init()};l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},l.prototype.init=function(){var s=this,o=this.options.activeClass;this.$element.find("li."+o).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+o).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+o).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(i){var n=a(this),t=n.parent("li"),e=t.children("ul");return i.preventDefault(),t.hasClass(o)?s.hide(e):s.show(e),s.options.doubleTapToGo&&s.doubleTapToGo(n)&&"#"!==n.attr("href")&&""!==n.attr("href")?(i.stopPropagation(),void(document.location=n.attr("href"))):void 0})},l.prototype.doubleTapToGo=function(i){var n=this.$element;return i.hasClass("doubleTapToGo")?(i.removeClass("doubleTapToGo"),!0):i.parent().children("ul").length?(n.find(".doubleTapToGo").removeClass("doubleTapToGo"),i.addClass("doubleTapToGo"),!1):void 0},l.prototype.show=function(i){var n=this.options.activeClass,t=a(i),e=t.parent("li");if(!this.transitioning&&!t.hasClass("in")){e.addClass(n),this.options.toggle&&this.hide(e.siblings().children("ul.in")),t.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var s=function(){t.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return o?void t.one("mmTransitionEnd",a.proxy(s,this)).emulateTransitionEnd(l.TRANSITION_DURATION).height(t[0].scrollHeight):s.call(this)}},l.prototype.hide=function(i){var n=this.options.activeClass,t=a(i);if(!this.transitioning&&t.hasClass("in")){t.parent("li").removeClass(n),t.height(t.height())[0].offsetHeight,t.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var e=function(){this.transitioning=0,t.removeClass("collapsing").addClass("collapse")};return o?void t.height(0).one("mmTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(l.TRANSITION_DURATION):e.call(this)}};var t=a.fn.metisMenu;a.fn.metisMenu=n,a.fn.metisMenu.Constructor=l,a.fn.metisMenu.noConflict=function(){return a.fn.metisMenu=t,this}}(jQuery);