!function(b,h,v,m){"use strict";function y(e,t,o){var i,n=this,a="cbp";if(b.data(e,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");b.data(e,"cubeportfolio",n),n.options=b.extend({},b.fn.cubeportfolio.options,t),n.isAnimating=!0,n.defaultFilter=n.options.defaultFilter,n.registeredEvents=[],n.skipEvents=[],n.addedWrapp=!1,b.isFunction(o)&&n._registerEvent("initFinish",o,!0),n.obj=e,n.$obj=b(e),i=n.$obj.children(),n.options.caption&&(y.Private.modernBrowser||(n.options.caption="minimal"),a+=" cbp-caption-active cbp-caption-"+n.options.caption),n.$obj.addClass(a),(0===i.length||i.first().hasClass("cbp-item"))&&(n.wrapInner(n.obj,"cbp-wrapper"),n.addedWrapp=!0),n.$ul=n.$obj.children().addClass("cbp-wrapper"),n.wrapInner(n.obj,"cbp-wrapper-outer"),n.wrapper=n.$obj.children(".cbp-wrapper-outer"),n.blocks=n.$ul.children(".cbp-item"),n.wrapInner(n.blocks,"cbp-item-wrapper"),n.width=n.$obj.outerWidth(),n._load(n.$obj,n._display)}b.extend(y.prototype,{storeData:function(e){e.each(function(e,t){var o=b(t);o.data("cbp",{wrapper:o.children(".cbp-item-wrapper"),widthInitial:o.outerWidth(),heightInitial:o.outerHeight(),width:null,height:null,left:null,leftNew:null,top:null,topNew:null})})},wrapInner:function(e,t){var o,i,n;if(t=t||"",!(e.length&&e.length<1))for(e.length===m&&(e=[e]),i=e.length-1;0<=i;i--){for(o=e[i],(n=v.createElement("div")).setAttribute("class",t);o.childNodes.length;)n.appendChild(o.childNodes[0]);o.appendChild(n)}},_captionDestroy:function(){var e=this;e.$obj.removeClass("cbp-caption-active cbp-caption-"+e.options.caption)},resizeEvent:function(){var e,t,o=this;b(h).on("resize.cbp",function(){clearTimeout(e),e=setTimeout(function(){h.innerHeight!=screen.height&&("alignCenter"===o.options.gridAdjustment&&(o.obj.style.maxWidth=""),t=o.$obj.outerWidth(),o.width!==t&&(o.width=t,o._gridAdjust(),o._layout(),o.positionateItems(),o._resizeMainContainer(),"slider"===o.options.layoutMode&&o._updateSlider(),o._triggerEvent("resizeGrid")),o._triggerEvent("resizeWindow"))},80)})},_load:function(e,i,n){var t,a,r=this,l=0;n=n||[],t=e.find("img:uncached").map(function(){return this.src}),0===(a=t.length)&&i.apply(r,n),b.each(t,function(e,t){var o=new Image;b(o).one("load.cbp error.cbp",function(){if(b(this).off("load.cbp error.cbp"),++l===a)return i.apply(r,n),!1}),o.src=t})},_filterFromUrl:function(){var e=this,t=/#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);null!==t&&(e.defaultFilter=t[1])},_display:function(){var t=this;t.storeData(t.blocks),"grid"===t.options.layoutMode&&t._filterFromUrl(),"*"!==t.defaultFilter?(t.blocksOn=t.blocks.filter(t.defaultFilter),t.blocks.not(t.defaultFilter).addClass("cbp-item-off")):t.blocksOn=t.blocks,t._plugins=b.map(y.Plugins,function(e){return e(t)}),t._triggerEvent("initStartRead"),t._triggerEvent("initStartWrite"),t.localColumnWidth=t.options.gapVertical,t.blocks.length&&(t.localColumnWidth+=t.blocks.first().data("cbp").widthInitial),t.getColumnsType=b.isArray(t.options.mediaQueries)?"_getColumnsBreakpoints":"_getColumnsAuto",t._gridAdjust(),t["_"+t.options.layoutMode+"Markup"](),t._layout(),t.positionateItems(),t._resizeMainContainer(),t._triggerEvent("initEndRead"),t._triggerEvent("initEndWrite"),t.$obj.addClass("cbp-ready"),t._registerEvent("delayFrame",t.delayFrame),t._triggerEvent("delayFrame")},positionateItems:function(){var o;this.blocksOn.each(function(e,t){(o=b(t).data("cbp")).left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px"})},delayFrame:function(){var e=this;requestAnimationFrame(function(){e.resizeEvent(),e._triggerEvent("initFinish"),e.isAnimating=!1,e.$obj.trigger("initComplete.cbp")})},_gridAdjust:function(){var e=this;"responsive"===e.options.gridAdjustment?e._responsiveLayout():e.blocks.each(function(e,t){var o=b(t).data("cbp");o.width=o.widthInitial,o.height=o.heightInitial})},_layout:function(){var e=this;e["_"+e.options.layoutMode+"LayoutReset"](),e["_"+e.options.layoutMode+"Layout"](),e.$obj.removeClass(function(e,t){return(t.match(/\bcbp-cols-\d+/gi)||[]).join(" ")}),e.$obj.addClass("cbp-cols-"+e.cols)},_sliderMarkup:function(){var i=this;i.sliderStopEvents=!1,i.sliderActive=0,i._registerEvent("updateSliderPosition",function(){i.$obj.addClass("cbp-mode-slider")},!0),i.nav=b("<div/>",{"class":"cbp-nav"}),i.nav.on("click.cbp","[data-slider-action]",function(e){if(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!i.sliderStopEvents){var t=b(this),o=t.attr("data-slider-action");i["_"+o+"Slider"]&&i["_"+o+"Slider"](t)}}),i.options.showNavigation&&(i.controls=b("<div/>",{"class":"cbp-nav-controls"}),i.navPrev=b("<div/>",{"class":"cbp-nav-prev","data-slider-action":"prev"}).appendTo(i.controls),i.navNext=b("<div/>",{"class":"cbp-nav-next","data-slider-action":"next"}).appendTo(i.controls),i.controls.appendTo(i.nav)),i.options.showPagination&&(i.navPagination=b("<div/>",{"class":"cbp-nav-pagination"}).appendTo(i.nav)),(i.controls||i.navPagination)&&i.nav.appendTo(i.$obj),i._updateSliderPagination(),i.options.auto&&(i.options.autoPauseOnHover&&(i.mouseIsEntered=!1,i.$obj.on("mouseenter.cbp",function(){i.mouseIsEntered=!0,i._stopSliderAuto()}).on("mouseleave.cbp",function(){i.mouseIsEntered=!1,i._startSliderAuto()})),i._startSliderAuto()),i.options.drag&&y.Private.modernBrowser&&i._dragSlider()},_updateSlider:function(){var e=this;e._updateSliderPosition(),e._updateSliderPagination()},_updateSliderPagination:function(){var e,t,o=this;if(o.options.showPagination){for(e=Math.ceil(o.blocksOn.length/o.cols),o.navPagination.empty(),t=e-1;0<=t;t--)b("<div/>",{"class":"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(o.navPagination);o.navPaginationItems=o.navPagination.children()}o._enableDisableNavSlider()},_destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.off("click.cbp"),e.$obj.removeClass("cbp-mode-slider"),e.options.showNavigation&&e.nav.remove(),e.navPagination&&e.navPagination.remove())},_nextSlider:function(){var e=this;if(e._isEndSlider()){if(!e.isRewindNav())return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksOn.length-e.cols):e.sliderActive+=1;e._goToSlider()},_prevSlider:function(){var e=this;if(e._isStartSlider()){if(!e.isRewindNav())return;e.sliderActive=e.blocksOn.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):e.sliderActive-=1;e._goToSlider()},_jumpToSlider:function(e){var t=this,o=Math.min(e.index()*t.cols,t.blocksOn.length-t.cols);o!==t.sliderActive&&(t.sliderActive=o,t._goToSlider())},_jumpDragToSlider:function(e){var t,o,i,n=this,a=0<e;n.options.scrollByPage?(t=n.cols*n.localColumnWidth,o=n.cols):(t=n.localColumnWidth,o=1),e=Math.abs(e),i=Math.floor(e/t)*o,20<e%t&&(i+=o),n.sliderActive=a?Math.min(n.sliderActive+i,n.blocksOn.length-n.cols):Math.max(0,n.sliderActive-i),n._goToSlider()},_isStartSlider:function(){return 0===this.sliderActive},_isEndSlider:function(){var e=this;return e.sliderActive+e.cols>e.blocksOn.length-1},_goToSlider:function(){var e=this;e._enableDisableNavSlider(),e._updateSliderPosition()},_startSliderAuto:function(){var e=this;e.isDrag?e._stopSliderAuto():e.timeout=setTimeout(function(){e._nextSlider(),e._startSliderAuto()},e.options.autoTimeout)},_stopSliderAuto:function(){clearTimeout(this.timeout)},_enableDisableNavSlider:function(){var e,t,o=this;o.isRewindNav()||(t=o._isStartSlider()?"addClass":"removeClass",o.navPrev[t]("cbp-nav-stop"),t=o._isEndSlider()?"addClass":"removeClass",o.navNext[t]("cbp-nav-stop")),o.options.showPagination&&(e=o.options.scrollByPage?Math.ceil(o.sliderActive/o.cols):o._isEndSlider()?o.navPaginationItems.length-1:Math.floor(o.sliderActive/o.cols),o.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(e).addClass("cbp-nav-pagination-active"))},isRewindNav:function(){var e=this;return!e.options.showNavigation||!(e.blocksOn.length<=e.cols)&&!!e.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},_sliderLayout:function(){var i=this;i.blocksOn.each(function(e,t){var o=b(t).data("cbp");o.leftNew=Math.round(i.localColumnWidth*e),o.topNew=0,i.colVert.push(o.height+i.options.gapHorizontal)}),i.sliderColVert=i.colVert.slice(i.sliderActive,i.sliderActive+i.cols),i.ulWidth=i.localColumnWidth*i.blocksOn.length-i.options.gapVertical,i.$ul.width(i.ulWidth)},_updateSliderPosition:function(){var e=this,t=-e.sliderActive*e.localColumnWidth;e._triggerEvent("updateSliderPosition"),y.Private.modernBrowser?e.$ul[0].style[y.Private.transform]="translate3d("+t+"px, 0px, 0)":e.$ul[0].style.left=t+"px",e.sliderColVert=e.colVert.slice(e.sliderActive,e.sliderActive+e.cols),e._resizeMainContainer()},_dragSlider:function(){function e(e){c.sliderItemsLength()||(g?e:e.preventDefault(),c.options.auto&&c._stopSliderAuto(),d?b(l).one("click.cbp",function(){return!1}):(l=b(e.target),a=n(e).x,r=0,s=-c.sliderActive*c.localColumnWidth,p=c.localColumnWidth*(c.blocksOn.length-c.cols),u.on(f.move,o),u.on(f.end,t),c.$obj.addClass("cbp-mode-slider-dragStart")))}function t(){c.$obj.removeClass("cbp-mode-slider-dragStart"),d=!0,0!==r?(l.one("click.cbp",function(){return!1}),c._jumpDragToSlider(r),c.$ul.one(y.Private.transitionend,i)):i.call(c),u.off(f.move),u.off(f.end)}function o(e){(8<(r=a-n(e).x)||r<-8)&&e.preventDefault(),c.isDrag=!0;var t=s-r;r<0&&r<s?t=(s-r)/5:0<r&&s-r<-p&&(t=(p+s-r)/5-p),y.Private.modernBrowser?c.$ul[0].style[y.Private.transform]="translate3d("+t+"px, 0px, 0)":c.$ul[0].style.left=t+"px"}function i(){if(d=!1,c.isDrag=!1,c.options.auto){if(c.mouseIsEntered)return;c._startSliderAuto()}}function n(e){return e.originalEvent!==m&&e.originalEvent.touches!==m&&(e=e.originalEvent.touches[0]),{x:e.pageX,y:e.pageY}}var a,r,l,s,p,c=this,u=b(v),d=!1,f={},g=!1;c.isDrag=!1,"ontouchstart"in h||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(f={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},g=!0):f={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},c.$ul.on(f.start,e)},_sliderLayoutReset:function(){this.colVert=[]},_gridMarkup:function(){},_gridLayout:function(){var p=this;p.blocksOn.each(function(e,t){var o,i,n,a,r=Math.min.apply(Math,p.colVert),l=0,s=b(t).data("cbp");for(n=0,a=p.colVert.length;n<a;n++)if(p.colVert[n]===r){l=n;break}for(s.leftNew=Math.round(p.localColumnWidth*l),s.topNew=Math.round(r),o=r+s.height+p.options.gapHorizontal,i=p.cols+1-a,n=0;n<i;n++)p.colVert[l+n]=o})},_gridLayoutReset:function(){var e,t=this;for("alignCenter"===t.options.gridAdjustment?(t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1),t.width=t.cols*t.localColumnWidth-t.options.gapVertical,t.$obj.css("max-width",t.width)):t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1),t.colVert=[],e=t.cols;e--;)t.colVert.push(0)},_responsiveLayout:function(){var e,o,t=this;t.columnWidthCache?t.localColumnWidth=t.columnWidthCache:t.columnWidthCache=t.localColumnWidth,t.cols=t[t.getColumnsType](),e=t.width-t.options.gapVertical*(t.cols-1),t.localColumnWidth=parseInt(e/t.cols,10)+t.options.gapVertical,o=t.localColumnWidth-t.options.gapVertical,t.blocks.each(function(e,t){t.style.width=o+"px",b(t).data("cbp").width=o}),t.blocks.each(function(e,t){var o=b(t);o.data("cbp").height=o.outerHeight()})},_getColumnsAuto:function(){var e=this;return Math.max(Math.round(e.width/e.localColumnWidth),1)},_getColumnsBreakpoints:function(){var o,e=this,i=e.width-e.options.gapVertical;return b.each(e.options.mediaQueries,function(e,t){if(i>=t.width)return o=t.cols,!1}),o===m&&(o=e.options.mediaQueries[e.options.mediaQueries.length-1].cols),o},_resizeMainContainer:function(){var e,t=this,o=t.sliderColVert||t.colVert;(e=Math.max(Math.max.apply(Math,o)-t.options.gapHorizontal,0))!==t.height&&(t.obj.style.height=e+"px",t.height!==m&&(y.Private.modernBrowser?t.$obj.one(y.Private.transitionend,function(){t.$obj.trigger("pluginResize.cbp")}):t.$obj.trigger("pluginResize.cbp")),t.height=e)},_filter:function(e){var t=this;t.blocksOnInitial=t.blocksOn,t.blocksOn=t.blocks.filter(e),t.blocksOff=t.blocks.not(e),t._layout(),t.filterLayout(e)},filterLayout:function(){var e=this;e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(e,t){var o=b(t).data("cbp");o.left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px"}),e._resizeMainContainer(),e.filterFinish()},filterFinish:function(){var e=this;e.isAnimating=!1,e.$obj.trigger("filterComplete.cbp"),e._triggerEvent("filterFinish")},_registerEvent:function(e,t,o){var i=this;i.registeredEvents[e]||(i.registeredEvents[e]=[]),i.registeredEvents[e].push({func:t,oneTime:o||!1})},_triggerEvent:function(e,t){var o,i,n=this;if(n.skipEvents[e])delete n.skipEvents[e];else if(n.registeredEvents[e])for(o=0,i=n.registeredEvents[e].length;o<i;o++)n.registeredEvents[e][o].func.call(n,t),n.registeredEvents[e][o].oneTime&&(n.registeredEvents[e].splice(o,1),o--,i--)},_skipNextEvent:function(e){this.skipEvents[e]=!0},_addItems:function(e,t){var o=this,i=b(e).filter(".cbp-item").addClass("cbp-loading-fadeIn").css("top","1000%").wrapInner('<div class="cbp-item-wrapper"></div>');if(!i.length)return o.isAnimating=!1,void(b.isFunction(t)&&t.call(o));o._load(i,function(){o.$obj.addClass("cbp-addItems"),i.appendTo(o.$ul),b.merge(o.blocks,i),o.storeData(i),"*"!==o.defaultFilter?(o.blocksOn=o.blocks.filter(o.defaultFilter),o.blocks.not(o.defaultFilter).addClass("cbp-item-off")):o.blocksOn=o.blocks,i.on(y.Private.animationend,function(){o.$obj.find(".cbp-loading-fadeIn").removeClass("cbp-loading-fadeIn"),o.$obj.removeClass("cbp-addItems")}),o._triggerEvent("addItemsToDOM",i),o._gridAdjust(),o._layout(),o.positionateItems(),o._resizeMainContainer(),"slider"===o.options.layoutMode&&o._updateSlider(),o.elems&&y.Public.showCounter.call(o.obj,o.elems),y.Private.modernBrowser?i.last().one(y.Private.animationend,function(){o.isAnimating=!1,b.isFunction(t)&&t.call(o)}):(o.isAnimating=!1,b.isFunction(t)&&t.call(o))})}}),b.fn.cubeportfolio=function(e,t,o){return this.each(function(){if("object"==typeof e||!e)return y.Public.init.call(this,e,o);if(y.Public[e])return y.Public[e].call(this,t,o);throw new Error("Method "+e+" does not exist on jquery.cubeportfolio.js")})},b.fn.cubeportfolio.options={filters:"",loadMore:"",loadMoreAction:"click",layoutMode:"grid",drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"lazyLoading",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:function(){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:function(){}},y.Plugins={},b.fn.cubeportfolio.Constructor=y}(jQuery,window,document),function(l){"use strict";function t(e){var t=this;t.parent=e,t.filters=l(e.options.filters),t.wrap=l(),t.registerFilter()}var e=l.fn.cubeportfolio.Constructor;t.prototype.registerFilter=function(){var n,a=this,r=a.parent;a.filters.each(function(e,t){var o,i=l(t);i.hasClass("cbp-l-filters-dropdown")?((o=i.find(".cbp-l-filters-dropdownWrap")).on({"mouseover.cbp":function(){o.addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){o.removeClass("cbp-l-filters-dropdownWrap-open")}}),n=function(e){o.find(".cbp-filter-item").removeClass("cbp-filter-item-active"),o.find(".cbp-l-filters-dropdownHeader").text(e.text()),e.addClass("cbp-filter-item-active"),o.trigger("mouseleave.cbp")},a.wrap.add(o)):n=function(e){e.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},n(i.find(".cbp-filter-item").filter('[data-filter="'+r.defaultFilter+'"]')),i.on("click.cbp",".cbp-filter-item",function(){var e=l(this);e.hasClass("cbp-filter-item-active")||(r.isAnimating||n.call(null,e),r.$obj.cubeportfolio("filter",e.data("filter")))}),r.$obj.cubeportfolio("showCounter",i.find(".cbp-filter-item"),function(){var e,t=/#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);null!==t&&(e=i.find(".cbp-filter-item").filter('[data-filter="'+t[1]+'"]')).length&&n.call(null,e)})})},t.prototype.destroy=function(){var e=this;e.filters.off(".cbp"),e.wrap&&e.wrap.off(".cbp")},e.Plugins.Filters=function(e){return""===e.options.filters?null:new t(e)}}(jQuery,window,document),function(a,t){"use strict";function o(e){var t=this;t.parent=e,t.loadMore=a(e.options.loadMore).find(".cbp-l-loadMore-link"),e.options.loadMoreAction.length&&t[e.options.loadMoreAction]()}var e=a.fn.cubeportfolio.Constructor;o.prototype.click=function(){var i=this,n=0;i.loadMore.on("click.cbp",function(e){var o=a(this);e.preventDefault(),o.hasClass("cbp-l-loadMore-stop")||(o.addClass("cbp-l-loadMore-loading"),n++,a.ajax({url:i.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done(function(e){var t;t=a(e).filter(function(){return a(this).is("div.cbp-loadMore-block"+n)}),i.parent.$obj.cubeportfolio("appendItems",t.html(),function(){o.removeClass("cbp-l-loadMore-loading"),0===a(e).filter(function(){return a(this).is("div.cbp-loadMore-block"+(n+1))}).length&&o.addClass("cbp-l-loadMore-stop")})}).fail(function(){}))})},o.prototype.auto=function(){var i=this;i.parent.$obj.on("initComplete.cbp",function(){Object.create({init:function(){var e=this;e.isActive=!1,e.numberOfClicks=0,i.loadMore.addClass("cbp-l-loadMore-loading"),e.window=a(t),e.addEvents(),e.getNewItems()},addEvents:function(){var e,t=this;i.loadMore.on("click.cbp",function(e){e.preventDefault()}),t.window.on("scroll.loadMoreObject",function(){clearTimeout(e),e=setTimeout(function(){i.parent.isAnimating||t.getNewItems()},80)}),i.parent.$obj.on("filterComplete.cbp",function(){t.getNewItems()})},getNewItems:function(){var e,o=this;o.isActive||i.loadMore.hasClass("cbp-l-loadMore-stop")||(e=i.loadMore.offset().top,o.window.scrollTop()+o.window.height()<e||(o.isActive=!0,o.numberOfClicks++,a.ajax({url:i.loadMore.attr("href"),type:"GET",dataType:"HTML",cache:!0}).done(function(e){var t;t=a(e).filter(function(){return a(this).is("div.cbp-loadMore-block"+o.numberOfClicks)}),i.parent.$obj.cubeportfolio("appendItems",t.html(),function(){0===a(e).filter(function(){return a(this).is("div.cbp-loadMore-block"+(o.numberOfClicks+1))}).length?(i.loadMore.addClass("cbp-l-loadMore-stop"),o.window.off("scroll.loadMoreObject"),i.parent.$obj.off("filterComplete.cbp")):(o.isActive=!1,o.window.trigger("scroll.loadMoreObject"))})}).fail(function(){o.isActive=!1})))}}).init()})},o.prototype.destroy=function(){this.loadMore.off(".cbp"),a(t).off("scroll.loadMoreObject")},e.Plugins.LoadMore=function(e){return""===e.options.loadMore?null:new o(e)}}(jQuery,window,document),function(c,u,d){"use strict";function t(e){var t=this;!1===(t.parent=e).options.lightboxShowCounter&&(e.options.lightboxCounter=""),!1===e.options.singlePageShowCounter&&(e.options.singlePageCounter=""),t.run()}var l=c.fn.cubeportfolio.Constructor,o={init:function(e,t){var n,a=this;if(a.cubeportfolio=e,a.type=t,a.isOpen=!1,a.options=a.cubeportfolio.options,"lightbox"===t&&a.cubeportfolio._registerEvent("resizeWindow",function(){a.resizeImage()}),"singlePageInline"===t)return a.startInline=-1,a.height=0,a._createMarkupSinglePageInline(),void a.cubeportfolio._registerEvent("resizeGrid",function(){a.isOpen&&a.close()});if(a._createMarkup(),"singlePage"===t&&(a.cubeportfolio._registerEvent("resizeWindow",function(){if(a.options.singlePageStickyNavigation){var e=a.wrap[0].clientWidth;0<e&&(a.navigationWrap.width(e),a.navigation.width(e))}}),a.options.singlePageDeeplinking)){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));var o=a.url.split("#cbp="),i=o.shift();if(c.each(o,function(e,i){if(a.cubeportfolio.blocksOn.each(function(e,t){var o=c(t).find(a.options.singlePageDelegate+'[href="'+i+'"]');if(o.length)return n=o,!1}),n)return!1}),n){a.url=i;var r=n,l=r.attr("data-cbp-singlePage"),s=[];l?s=r.closest(c(".cbp-item")).find('[data-cbp-singlePage="'+l+'"]'):a.cubeportfolio.blocksOn.each(function(e,t){var o=c(t);o.not(".cbp-item-off")&&o.find(a.options.singlePageDelegate).each(function(e,t){c(t).attr("data-cbp-singlePage")||s.push(t)})}),a.openSinglePage(s,n[0])}else if(o.length){var p=d.createElement("a");p.setAttribute("href",o[0]),a.openSinglePage([p],p)}}},_createMarkup:function(){var n=this,e="";"singlePage"===n.type&&"left"!==n.options.singlePageAnimation&&(e=" cbp-popup-singlePage-"+n.options.singlePageAnimation),n.wrap=c("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+n.type+e,"data-action":"lightbox"===n.type?"close":""}).on("click.cbp",function(e){if(!n.stopEvents){var t=c(e.target).attr("data-action");n[t]&&(n[t](),e.preventDefault())}}),n.content=c("<div/>",{"class":"cbp-popup-content"}).appendTo(n.wrap),c("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(n.wrap),"ie8"===l.Private.browser&&(n.bg=c("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===n.type?"close":""}).appendTo(n.wrap)),n.navigationWrap=c("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(n.wrap),n.navigation=c("<div/>",{"class":"cbp-popup-navigation"}).appendTo(n.navigationWrap),n.closeButton=c("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(n.navigation),n.nextButton=c("<div/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(n.navigation),n.prevButton=c("<div/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(n.navigation),"singlePage"===n.type&&(n.options.singlePageCounter&&(n.counter=c(n.options.singlePageCounter).appendTo(n.navigation),n.counter.text("")),n.content.on("click.cbp",n.options.singlePageDelegate,function(e){e.preventDefault();var t,o=n.dataArray.length,i=this.getAttribute("href");for(t=0;t<o&&n.dataArray[t].url!==i;t++);n.singlePageJumpTo(t-n.current)}),n.wrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(e){e.stopImmediatePropagation()})),c(d).on("keydown.cbp",function(e){n.isOpen&&(n.stopEvents||(37===e.keyCode?n.prev():39===e.keyCode?n.next():27===e.keyCode&&n.close()))})},_createMarkupSinglePageInline:function(){var o=this;o.wrap=c("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click.cbp",function(e){if(!o.stopEvents){var t=c(e.target).attr("data-action");t&&o[t]&&(o[t](),e.preventDefault())}}),o.content=c("<div/>",{"class":"cbp-popup-content"}).appendTo(o.wrap),o.navigation=c("<div/>",{"class":"cbp-popup-navigation"}).appendTo(o.wrap),o.closeButton=c("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(o.navigation)},destroy:function(){var e=this,t=c("body");c(d).off("keydown.cbp"),t.off("click.cbp",e.options.lightboxDelegate),t.off("click.cbp",e.options.singlePageDelegate),e.content.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageInlineDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.lightboxDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),e.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),e.wrap.remove()},openLightbox:function(e,t){var r,o,l=this,s=0,p=[];if(!l.isOpen){if(l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],(l.current=null)===(r=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");c.each(e,function(e,t){var o,i=t.getAttribute("href"),n=i,a="isImage";if(-1===c.inArray(i,p)){if(r===i)l.current=s;else if(!l.options.lightboxGallery)return;/youtube/i.test(i)?(o=i.substring(i.lastIndexOf("v=")+2),/autoplay=/i.test(o)||(o+="&autoplay=1"),n="//www.youtube.com/embed/"+(o=o.replace(/\?|&/,"?")),a="isYoutube"):/vimeo/i.test(i)?(o=i.substring(i.lastIndexOf("/")+1),/autoplay=/i.test(o)||(o+="&autoplay=1"),n="//player.vimeo.com/video/"+(o=o.replace(/\?|&/,"?")),a="isVimeo"):/ted\.com/i.test(i)?(n="http://embed.ted.com/talks/"+i.substring(i.lastIndexOf("/")+1)+".html",a="isTed"):/soundcloud\.com/i.test(i)?(n=i,a="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(i)?(n=-1!==i.indexOf("|")?i.split("|"):i.split("%7C"),a="isSelfHostedVideo"):/\.mp3$/i.test(i)&&(n=i,a="isSelfHostedAudio"),l.dataArray.push({src:n,title:t.getAttribute(l.options.lightboxTitleSrc),type:a}),s++}p.push(i)}),l.counterTotal=l.dataArray.length,1===l.counterTotal?(l.nextButton.hide(),l.prevButton.hide(),l.dataActionImg=""):(l.nextButton.show(),l.prevButton.show(),l.dataActionImg='data-action="next"'),l.wrap.appendTo(d.body),l.scrollTop=c(u).scrollTop(),l.originalStyle=c("html").attr("style"),c("html").css({overflow:"hidden",paddingRight:u.innerWidth-c(d).width()}),l.wrap.show(),o=l.dataArray[l.current],l[o.type](o)}},openSinglePage:function(e,t){var i,n=this,a=0,r=[];if(!n.isOpen){if(n.cubeportfolio.singlePageInline&&n.cubeportfolio.singlePageInline.isOpen&&n.cubeportfolio.singlePageInline.close(),n.isOpen=!0,n.stopEvents=!1,n.dataArray=[],(n.current=null)===(i=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(c.each(e,function(e,t){var o=t.getAttribute("href");-1===c.inArray(o,r)&&(i===o&&(n.current=a),n.dataArray.push({url:o,element:t}),a++),r.push(o)}),n.counterTotal=n.dataArray.length,1===n.counterTotal?(n.nextButton.hide(),n.prevButton.hide()):(n.nextButton.show(),n.prevButton.show()),n.wrap.appendTo(d.body),n.scrollTop=c(u).scrollTop(),c("html").css({overflow:"hidden",paddingRight:u.innerWidth-c(d).width()}),n.wrap.scrollTop(0),n.wrap.show(),n.finishOpen=2,n.navigationMobile=c(),n.wrap.one(l.Private.transitionend,function(){var e;n.options.singlePageStickyNavigation&&(n.wrap.addClass("cbp-popup-singlePage-sticky"),e=n.wrap[0].clientWidth,n.navigationWrap.width(e),"android"!==l.Private.browser&&"ios"!==l.Private.browser||(n.navigationMobile=c("<div/>",{"class":"cbp-popup-singlePage cbp-popup-singlePage-sticky",id:n.wrap.attr("id")}).on("click.cbp",function(e){if(!n.stopEvents){var t=c(e.target).attr("data-action");n[t]&&(n[t](),e.preventDefault())}}),n.navigationMobile.appendTo(d.body).append(n.navigationWrap))),n.finishOpen--,n.finishOpen<=0&&n.updateSinglePageIsOpen.call(n)}),"ie8"===l.Private.browser||"ie9"===l.Private.browser){if(n.options.singlePageStickyNavigation){var o=n.wrap[0].clientWidth;n.navigationWrap.width(o),setTimeout(function(){n.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)}n.finishOpen--}n.wrap.addClass("cbp-popup-loading"),n.wrap.offset(),n.wrap.addClass("cbp-popup-singlePage-open"),n.options.singlePageDeeplinking&&(n.url=n.url.split("#cbp=")[0],location.href=n.url+"#cbp="+n.dataArray[n.current].url),c.isFunction(n.options.singlePageCallback)&&n.options.singlePageCallback.call(n,n.dataArray[n.current].url,n.dataArray[n.current].element)}},openSinglePageInline:function(e,t,o){var i,n,a,r=this;if(o=o||!1,r.fromOpen=o,r.storeBlocks=e,r.storeCurrentBlock=t,r.isOpen)return n=c(t).closest(".cbp-item").index(),void(r.dataArray[r.current].url!==t.getAttribute("href")||r.current!==n?r.cubeportfolio.singlePageInline.close("open",{blocks:e,currentBlock:t,fromOpen:!0}):r.close());if(r.isOpen=!0,r.stopEvents=!1,r.dataArray=[],(r.current=null)===(i=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(a=c(t).closest(".cbp-item")[0],e.each(function(e,t){a===t&&(r.current=e)}),r.dataArray[r.current]={url:i,element:t},c(r.dataArray[r.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),r.counterTotal=e.length,r.wrap.insertBefore(r.cubeportfolio.wrapper),"top"===r.options.singlePageInlinePosition?(r.startInline=0,r.top=0,r.firstRow=!0,r.lastRow=!1):"bottom"===r.options.singlePageInlinePosition?(r.startInline=r.counterTotal,r.top=r.cubeportfolio.height,r.firstRow=!1,r.lastRow=!0):"above"===r.options.singlePageInlinePosition?(r.startInline=r.cubeportfolio.cols*Math.floor(r.current/r.cubeportfolio.cols),r.top=c(e[r.current]).data("cbp").top,0===r.startInline?r.firstRow=!0:(r.top-=r.options.gapHorizontal,r.firstRow=!1),r.lastRow=!1):(r.top=c(e[r.current]).data("cbp").top+c(e[r.current]).data("cbp").height,r.startInline=Math.min(r.cubeportfolio.cols*(Math.floor(r.current/r.cubeportfolio.cols)+1),r.counterTotal),r.firstRow=!1,r.lastRow=r.startInline===r.counterTotal),r.wrap[0].style.height=r.wrap.outerHeight(!0)+"px",r.deferredInline=c.Deferred(),r.options.singlePageInlineInFocus){r.scrollTop=c(u).scrollTop();var l=r.cubeportfolio.$obj.offset().top+r.top-100;r.scrollTop!==l?c("html,body").animate({scrollTop:l},350).promise().then(function(){r._resizeSinglePageInline(),r.deferredInline.resolve()}):(r._resizeSinglePageInline(),r.deferredInline.resolve())}else r._resizeSinglePageInline(),r.deferredInline.resolve();r.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),r.wrap.css({top:r.top}),c.isFunction(r.options.singlePageInlineCallback)&&r.options.singlePageInlineCallback.call(r,r.dataArray[r.current].url,r.dataArray[r.current].element)},_resizeSinglePageInline:function(){var o=this;o.height=o.firstRow||o.lastRow?o.wrap.outerHeight(!0):o.wrap.outerHeight(!0)-o.options.gapHorizontal,o.storeBlocks.each(function(e,t){e<o.startInline?l.Private.modernBrowser?t.style[l.Private.transform]="":t.style.marginTop="":l.Private.modernBrowser?t.style[l.Private.transform]="translate3d(0px, "+o.height+"px, 0)":t.style.marginTop=o.height+"px"}),o.cubeportfolio.obj.style.height=o.cubeportfolio.height+o.height+"px"},_revertResizeSinglePageInline:function(){var e=this;e.deferredInline=c.Deferred(),e.storeBlocks.each(function(e,t){l.Private.modernBrowser?t.style[l.Private.transform]="":t.style.marginTop=""}),e.cubeportfolio.obj.style.height=e.cubeportfolio.height+"px"},appendScriptsToWrap:function(i){var n=this,a=0,r=function(e){var t=d.createElement("script"),o=e.src;t.type="text/javascript",t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,i[++a]&&r(i[a]))}:t.onload=function(){i[++a]&&r(i[a])},o?t.src=o:t.text=e.text,n.content[0].appendChild(t)};r(i[0])},updateSinglePage:function(e,t,o){var i,n=this;n.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===o&&n.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),n.counter&&(i=c(n._getCounterMarkup(n.options.singlePageCounter,n.current+1,n.counterTotal)),n.counter.text(i.text())),n.content.html(e),t&&n.appendScriptsToWrap(t),n.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),n.finishOpen--,n.finishOpen<=0&&n.updateSinglePageIsOpen.call(n)},updateSinglePageIsOpen:function(){var e,t=this;t.wrap.addClass("cbp-popup-ready"),t.wrap.removeClass("cbp-popup-loading"),(e=t.content.find(".cbp-slider"))?(e.find(".cbp-slider-item").addClass("cbp-item"),t.slider=e.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):t.slider=null,"android"!==l.Private.browser&&"ios"!==l.Private.browser||c("html").css({position:"fixed"}),t.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},updateSinglePageInline:function(e,t){var o=this;o.content.html(e),t&&o.appendScriptsToWrap(t),o.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),o.singlePageInlineIsOpen.call(o)},singlePageInlineIsOpen:function(){function t(){o.wrap.addClass("cbp-popup-singlePageInline-ready"),o.wrap[0].style.height="",o._resizeSinglePageInline(),o.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var o=this;o.cubeportfolio._load(o.wrap,function(){var e=o.content.find(".cbp-slider");e.length?(e.find(".cbp-slider-item").addClass("cbp-item"),e.one("initComplete.cbp",function(){o.deferredInline.done(t)}),e.on("pluginResize.cbp",function(){o.deferredInline.done(t)}),o.slider=e.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(o.slider=null,o.deferredInline.done(t))})},isImage:function(e){var t=this,o=new Image;t.tooggleLoading(!0),c('<img src="'+e.src+'">').is("img:uncached")?(c(o).on("load.cbp error.cbp",function(){t.updateImagesMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal)),t.tooggleLoading(!1)}),o.src=e.src):(t.updateImagesMarkup(
e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal)),t.tooggleLoading(!1))},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSoundCloud:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedVideo:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedAudio:function(e){var t=this;t.updateSelfHostedAudio(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},_getCounterMarkup:function(e,t,o){if(!e.length)return"";var i={current:t,total:o};return e.replace(/\{\{current}}|\{\{total}}/gi,function(e){return i[e.slice(2,-2)]})},updateSelfHostedVideo:function(e,t,o){var i,n=this;n.wrap.addClass("cbp-popup-lightbox-isIframe");var a='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(i=0;i<e.length;i++)/(\.mp4)/i.test(e[i])?a+='<source src="'+e[i]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[i])?a+='<source src="'+e[i]+'" type="video/ogg">':/(\.webm)/i.test(e[i])&&(a+='<source src="'+e[i]+'" type="video/webm">');a+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+o+"</div></div>",n.content.html(a),n.wrap.addClass("cbp-popup-ready"),n.preloadNearbyImages()},updateSelfHostedAudio:function(e,t,o){var i=this;i.wrap.addClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-iframe"><audio controls="controls" height="auto" style="width: 100%"><source src="'+e+'" type="audio/mpeg">Your browser does not support the audio tag.</audio><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+o+"</div></div>";i.content.html(n),i.wrap.addClass("cbp-popup-ready"),i.preloadNearbyImages()},updateVideoMarkup:function(e,t,o){var i=this;i.wrap.addClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+o+"</div></div>";i.content.html(n),i.wrap.addClass("cbp-popup-ready"),i.preloadNearbyImages()},updateImagesMarkup:function(e,t,o){var i=this;i.wrap.removeClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+i.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+o+"</div></div>";i.content.html(n),i.wrap.addClass("cbp-popup-ready"),i.resizeImage(),i.preloadNearbyImages()},next:function(){var e=this;e[e.type+"JumpTo"](1)},prev:function(){var e=this;e[e.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,o=this;o.current=o.getIndex(o.current+e),o[(t=o.dataArray[o.current]).type](t)},singlePageJumpTo:function(e){var t=this;t.current=t.getIndex(t.current+e),c.isFunction(t.options.singlePageCallback)&&(t.resetWrap(),t.wrap.scrollTop(0),t.wrap.addClass("cbp-popup-loading"),t.options.singlePageCallback.call(t,t.dataArray[t.current].url,t.dataArray[t.current].element),t.options.singlePageDeeplinking&&(location.href=t.url+"#cbp="+t.dataArray[t.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){var t=this;return(e%=t.counterTotal)<0&&(e=t.counterTotal+e),e},close:function(e,t){function o(){n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===e&&c.isFunction(t.callback)&&t.callback.call(n.cubeportfolio)}function i(){n.options.singlePageInlineInFocus&&"promise"!==e?c("html,body").animate({scrollTop:n.scrollTop},350).promise().then(function(){o()}):o()}var n=this;n.isOpen=!1,"singlePageInline"===n.type?"open"===e?(n.wrap.removeClass("cbp-popup-singlePageInline-ready"),c(n.dataArray[n.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),n.openSinglePageInline(t.blocks,t.currentBlock,t.fromOpen)):(n.height=0,n._revertResizeSinglePageInline(),n.wrap.removeClass("cbp-popup-singlePageInline-ready"),n.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),n.startInline=-1,n.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),l.Private.modernBrowser?n.wrap.one(l.Private.transitionend,function(){i()}):i()):"singlePage"===n.type?(n.resetWrap(),n.wrap.removeClass("cbp-popup-ready"),"android"!==l.Private.browser&&"ios"!==l.Private.browser||(c("html").css({position:""}),n.navigationWrap.appendTo(n.wrap),n.navigationMobile.remove()),c(u).scrollTop(n.scrollTop),setTimeout(function(){n.stopScroll=!0,n.navigationWrap.css({top:n.wrap.scrollTop()}),n.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),"ie8"!==l.Private.browser&&"ie9"!==l.Private.browser||(n.content.html(""),n.wrap.detach(),c("html").css({overflow:"",paddingRight:"",position:""}),n.navigationWrap.removeAttr("style"))},0),n.wrap.one(l.Private.transitionend,function(){n.content.html(""),n.wrap.detach(),c("html").css({overflow:"",paddingRight:"",position:""}),n.navigationWrap.removeAttr("style")})):(n.originalStyle?c("html").attr("style",n.originalStyle):c("html").css({overflow:"",paddingRight:""}),c(u).scrollTop(n.scrollTop),n.content.html(""),n.wrap.detach())},tooggleLoading:function(e){var t=this;t.stopEvents=e,t.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var e=c(u).height(),t=this.content.find("img"),o=parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10);t.css("max-height",e-o+"px")}},preloadNearbyImages:function(){var e,t,o=[],i=this;o.push(i.getIndex(i.current+1)),o.push(i.getIndex(i.current+2)),o.push(i.getIndex(i.current+3)),o.push(i.getIndex(i.current-1)),o.push(i.getIndex(i.current-2)),o.push(i.getIndex(i.current-3));for(var n=o.length-1;0<=n;n--)"isImage"===i.dataArray[o[n]].type&&(t=i.dataArray[o[n]].src,e=new Image,c('<img src="'+t+'">').is("img:uncached")&&(e.src=t))}},i=!1,n=!1;t.prototype.run=function(){var r=this,l=r.parent,e=c(d.body);l.lightbox=null,l.options.lightboxDelegate&&!i&&(i=!0,l.lightbox=Object.create(o),l.lightbox.init(l,"lightbox"),e.on("click.cbp",l.options.lightboxDelegate,function(e){e.preventDefault();var t=c(this),i=t.attr("data-cbp-lightbox"),o=r.detectScope(t),n=o.data("cubeportfolio"),a=[];n?n.blocksOn.each(function(e,t){var o=c(t);o.not(".cbp-item-off")&&o.find(l.options.lightboxDelegate).each(function(e,t){i?c(t).attr("data-cbp-lightbox")===i&&a.push(t):a.push(t)})}):a=i?o.find(l.options.lightboxDelegate+"[data-cbp-lightbox="+i+"]"):o.find(l.options.lightboxDelegate),l.lightbox.openLightbox(a,t[0])})),l.singlePage=null,l.options.singlePageDelegate&&!n&&(n=!0,l.singlePage=Object.create(o),l.singlePage.init(l,"singlePage"),e.on("click.cbp",l.options.singlePageDelegate,function(e){e.preventDefault();var t=c(this),i=t.attr("data-cbp-singlePage"),o=r.detectScope(t),n=o.data("cubeportfolio"),a=[];n?n.blocksOn.each(function(e,t){var o=c(t);o.not(".cbp-item-off")&&o.find(l.options.singlePageDelegate).each(function(e,t){i?c(t).attr("data-cbp-singlePage")===i&&a.push(t):a.push(t)})}):a=i?o.find(l.options.singlePageDelegate+"[data-cbp-singlePage="+i+"]"):o.find(l.options.singlePageDelegate),l.singlePage.openSinglePage(a,t[0])})),l.singlePageInline=null,l.options.singlePageDelegate&&(l.singlePageInline=Object.create(o),l.singlePageInline.init(l,"singlePageInline"),l.$obj.on("click.cbp",l.options.singlePageInlineDelegate,function(e){e.preventDefault(),l.singlePageInline.openSinglePageInline(l.blocksOn,this)}))},t.prototype.detectScope=function(e){var t,o,i;return(t=e.closest(".cbp-popup-singlePageInline")).length?(i=e.closest(".cbp",t[0])).length?i:t:(o=e.closest(".cbp-popup-singlePage")).length?(i=e.closest(".cbp",o[0])).length?i:o:(i=e.closest(".cbp")).length?i:c(d.body)},t.prototype.destroy=function(){var e=this.parent;c(d.body).off("click.cbp"),n=i=!1,e.lightbox&&e.lightbox.destroy(),e.singlePage&&e.singlePage.destroy(),e.singlePageInline&&e.singlePageInline.destroy()},l.Plugins.PopUp=function(e){return new t(e)}}(jQuery,window,document),function(o,n,a,r){"use strict";var l=o.fn.cubeportfolio.Constructor;l.Private={checkInstance:function(e){var t=o.data(this,"cubeportfolio");if(!t)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+e+" method!");return t},browserInfo:function(){var e,t,o=l.Private,i=navigator.appVersion;-1!==i.indexOf("MSIE 8.")?o.browser="ie8":-1!==i.indexOf("MSIE 9.")?o.browser="ie9":-1!==i.indexOf("MSIE 10.")?o.browser="ie10":n.ActiveXObject||"ActiveXObject"in n?o.browser="ie11":/android/gi.test(i)?o.browser="android":/iphone|ipad|ipod/gi.test(i)?o.browser="ios":/chrome/gi.test(i)?o.browser="chrome":o.browser="",typeof o.styleSupport("perspective")!==r&&(e=o.styleSupport("transition"),o.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e],t=o.styleSupport("animation"),o.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[t],o.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[t],o.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[t],o.transform=o.styleSupport("transform"),e&&t&&o.transform&&(o.modernBrowser=!0))},styleSupport:function(e){var t,o="Webkit"+e.charAt(0).toUpperCase()+e.slice(1),i=a.createElement("div");return e in i.style?t=e:o in i.style&&(t=o),i=null,t}},l.Private.browserInfo()}(jQuery,window,document),function(n,o,i){"use strict";var a=n.fn.cubeportfolio.Constructor;a.Public={init:function(e,t){new a(this,e,t)},destroy:function(e){var t=a.Private.checkInstance.call(this,"destroy");t._triggerEvent("beforeDestroy"),n.removeData(this,"cubeportfolio"),t.blocks.each(function(){n.removeData(this,"cbp-wxh")}),t.$obj.removeClass("cbp-ready cbp-addItemscbp-cols-"+t.cols).removeAttr("style"),t.$ul.removeClass("cbp-wrapper"),n(o).off("resize.cbp"),t.$obj.off(".cbp"),n(i).off(".cbp"),t.blocks.removeClass("cbp-item-off").removeAttr("style"),t.blocks.find(".cbp-item-wrapper").children().unwrap(),t.options.caption&&t._captionDestroy(),t._destroySlider(),t.$ul.unwrap(),t.addedWrapp&&t.blocks.unwrap(),n.each(t._plugins,function(e,t){"function"==typeof t.destroy&&t.destroy()}),n.isFunction(e)&&e.call(t),t._triggerEvent("afterDestroy")},filter:function(e,t){var o,i=a.Private.checkInstance.call(this,"filter");n.isFunction(t)&&i._registerEvent("filterFinish",t,!0),i.isAnimating||i.defaultFilter===e||(i.isAnimating=!0,i.defaultFilter=e,i.singlePageInline&&i.singlePageInline.isOpen?i.singlePageInline.close("promise",{callback:function(){i._filter(e)}}):i._filter(e),i.options.filterDeeplinking&&(o=location.href.replace(/#cbpf=(.*?)([#|?&]|$)/gi,""),location.href=o+"#cbpf="+e,i.singlePage&&i.singlePage.url&&(i.singlePage.url=location.href)))},showCounter:function(e,t){var i=a.Private.checkInstance.call(this,"showCounter");i.elems=e,n.each(e,function(){var e,t=n(this),o=t.data("filter");e=i.blocks.filter(o).length,t.find(".cbp-filter-counter").text(e)}),n.isFunction(t)&&t.call(i)},appendItems:function(e,t){var o=a.Private.checkInstance.call(this,"appendItems");o.isAnimating||(o.isAnimating=!0,o.singlePageInline&&o.singlePageInline.isOpen?o.singlePageInline.close("promise",{callback:function(){o._addItems(e,t)}}):o._addItems(e,t))}}}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),jQuery.expr[":"].uncached=function(e){if(!jQuery(e).is('img[src][src!=""]'))return!1;var t=new Image;return t.src=e.src,!t.complete||t.naturalWidth!==undefined&&0===t.naturalWidth},function(){for(var n=0,e=["moz","webkit"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),o=Math.max(0,16-(t-n)),i=window.setTimeout(function(){e(t+o)},o);return n=t+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(i){"use strict";function t(e){var t=this;(t.parent=e).filterLayout=t.filterLayout}var n=i.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(e){function t(){o.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(e,t){var o=i(t).data("cbp");o.left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px",t.style[n.Private.transform]=""}),o.blocksOff.addClass("cbp-item-off"),o.$obj.removeClass("cbp-animation-"+o.options.animationType),o.filterFinish()}var o=this;o.$obj.addClass("cbp-animation-"+o.options.animationType),o.blocksOnInitial.filter(e).addClass("cbp-item-on2on").each(function(e,t){var o=i(t).data("cbp");t.style[n.Private.transform]="translate3d("+(o.leftNew-o.left)+"px, "+(o.topNew-o.top)+"px, 0)"}),o.blocksOn2Off=o.blocksOnInitial.not(e).addClass("cbp-item-on2off"),o.blocksOff2On=o.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(e,t){var o=i(t).data("cbp");o.left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px"}),o.blocksOn2Off.length?o.blocksOn2Off.last().data("cbp").wrapper.one(n.Private.animationend,t):o.blocksOff2On.length?o.blocksOff2On.last().data("cbp").wrapper.one(n.Private.animationend,t):t(),o._resizeMainContainer()},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.Plugins.AnimationClassic=function(e){return!n.Private.modernBrowser||i.inArray(e.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new t(e)}}(jQuery,window,document),function(n){"use strict";function t(e){var t=this;(t.parent=e).filterLayout=t.filterLayout}var a=n.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(){function e(){i.wrapper[0].removeChild(t),"sequentially"===i.options.animationType&&i.blocksOn.each(function(e,t){n(t).data("cbp").wrapper[0].style[a.Private.animationDelay]=""}),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,t=i.$ul[0].cloneNode(!0);t.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(t,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(e,t){var o=n(t).data("cbp");o.left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px","sequentially"===i.options.animationType&&(o.wrapper[0].style[a.Private.animationDelay]=60*e+"ms")}),i.blocksOn.length?i.blocksOn.last().data("cbp").wrapper.one(a.Private.animationend,e):i.blocksOnInitial.length?i.blocksOnInitial.last().data("cbp").wrapper.one(a.Private.animationend,e):e(),i._resizeMainContainer()})},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},a.Plugins.AnimationClone=function(e){return!a.Private.modernBrowser||n.inArray(e.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new t(e)}}(jQuery,window,document),function(i){"use strict";function t(e){var t=this;(t.parent=e).filterLayout=t.filterLayout}var n=i.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(){function e(){o.wrapper[0].removeChild(t),o.$obj.removeClass("cbp-animation-"+o.options.animationType),o.blocks.each(function(e,t){i(t).data("cbp").wrapper[0].style[n.Private.animationDelay]=""}),o.filterFinish()}var t,o=this;(t=o.$ul[0].cloneNode(!0)).setAttribute("class","cbp-wrapper-helper"),o.wrapper[0].insertBefore(t,o.$ul[0]),i(t).find(".cbp-item").not(".cbp-item-off").children(".cbp-item-wrapper").each(function(e,t){t.style[n.Private.animationDelay]=50*e+"ms"}),requestAnimationFrame(function(){o.$obj.addClass("cbp-animation-"+o.options.animationType),o.blocksOff.addClass("cbp-item-off"),o.blocksOn.removeClass("cbp-item-off").each(function(e,t){var o=i(t).data("cbp");o.left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px",o.wrapper[0].style[n.Private.animationDelay]=50*e+"ms"}),o.blocksOn.length?o.blocksOn.last().data("cbp").wrapper.one(n.Private.animationend,e):o.blocksOnInitial.length?o.blocksOnInitial.last().data("cbp").wrapper.one(n.Private.animationend,e):e(),o._resizeMainContainer()})},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.Plugins.AnimationCloneDelay=function(e){return!n.Private.modernBrowser||i.inArray(e.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new t(e)}}(jQuery,window,document),function(i){"use strict";function t(e){var t=this;(t.parent=e).filterLayout=t.filterLayout}var n=i.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(){function e(){t.wrapper[0].removeChild(o),t.$obj.removeClass("cbp-animation-"+t.options.animationType),t.filterFinish()}var t=this,o=t.$ul[0].cloneNode(!0);o.setAttribute("class","cbp-wrapper-helper"),t.wrapper[0].insertBefore(o,t.$ul[0]),requestAnimationFrame(function(){t.$obj.addClass("cbp-animation-"+t.options.animationType),t.blocksOff.addClass("cbp-item-off"),t.blocksOn.removeClass("cbp-item-off").each(function(e,t){var o=i(t).data("cbp");o.left=o.leftNew,o.top=o.topNew,t.style.left=o.left+"px",t.style.top=o.top+"px"}),t.blocksOn.length?t.$ul.one(n.Private.animationend,e):t.blocksOnInitial.length?i(o).one(n.Private.animationend,e):e(),t._resizeMainContainer()})},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.Plugins.AnimationWrapper=function(e){return!n.Private.modernBrowser||i.inArray(e.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new t(e)}}(jQuery,window,document),function(s){"use strict";function t(l){(this.parent=l)._registerEvent("initFinish",function(){l.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(e){if(e.preventDefault(),!l.isAnimating){l.isAnimating=!0;var t=s(this),o=t.next(),i=t.parent(),n={position:"relative",height:o.outerHeight(!0)},a={position:"relative",height:0};if(l.$obj.addClass("cbp-caption-expand-active"),i.hasClass("cbp-caption-expand-open")){var r=a;a=n,n=r,i.removeClass("cbp-caption-expand-open")}o.css(n),l._gridAdjust(),l._layout(),l.positionateItems(),l._resizeMainContainer(),o.css(a),requestAnimationFrame(function(){i.addClass("cbp-caption-expand-open"),o.one(p.Private.transitionend,function(){l.isAnimating=!1,l.$obj.removeClass("cbp-caption-expand-active"),0===n.height&&(i.removeClass("cbp-caption-expand-open"),o.attr("style",""))}),o.css(n),"slider"===l.options.layoutMode&&l._updateSlider(),l._triggerEvent("resizeGrid")})}})},!0)}var p=s.fn.cubeportfolio.Constructor;t.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},p.Plugins.CaptionExpand=function(e){return"expand"!==e.options.caption?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(o){o._skipNextEvent("delayFrame"),o._registerEvent("initEndWrite",function(){o.blocksOn.each(function(e,t){t.style[i.Private.animationDelay]=e*o.options.displayTypeSpeed+"ms"}),o.$obj.addClass("cbp-displayType-bottomToTop"),o.blocksOn.last().one(i.Private.animationend,function(){o.$obj.removeClass("cbp-displayType-bottomToTop"),o.blocksOn.each(function(e,t){t.style[i.Private.animationDelay]=""}),o._triggerEvent("delayFrame")})},!0)}var i=e.fn.cubeportfolio.Constructor;i.Plugins.BottomToTop=function(e){return i.Private.modernBrowser&&"bottomToTop"===e.options.displayType&&0!==e.blocks.length?new t(e):null}}(jQuery,window,document),function(e){"use strict";function t(e){e._skipNextEvent("delayFrame"),e._registerEvent("initEndWrite",function(){e.obj.style[o.Private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(o.Private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[o.Private.animationDuration]="",e._triggerEvent("delayFrame")})},!0)}var o=e.fn.cubeportfolio.Constructor;o.Plugins.FadeInToTop=function(e){return o.Private.modernBrowser&&"fadeInToTop"===e.options.displayType&&0!==e.blocks.length?new t(e):null}}(jQuery,window,document),function(e){"use strict";function t(e){e._skipNextEvent("delayFrame"),e._registerEvent("initEndWrite",function(){e.obj.style[o.Private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-lazyLoading"),e.$obj.one(o.Private.animationend,function(){e.$obj.removeClass("cbp-displayType-lazyLoading"),e.obj.style[o.Private.animationDuration]="",e._triggerEvent("delayFrame")})},!0)}var o=e.fn.cubeportfolio.Constructor;o.Plugins.LazyLoading=function(e){return!o.Private.modernBrowser||"lazyLoading"!==e.options.displayType&&"fadeIn"!==e.options.displayType||0===e.blocks.length?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(o){o._skipNextEvent("delayFrame"),o._registerEvent("initEndWrite",function(){o.blocksOn.each(function(e,t){t.style[i.Private.animationDelay]=e*o.options.displayTypeSpeed+"ms"}),o.$obj.addClass("cbp-displayType-sequentially"),o.blocksOn.last().one(i.Private.animationend,function(){o.$obj.removeClass("cbp-displayType-sequentially"),o.blocksOn.each(function(e,t){t.style[i.Private.animationDelay]=""}),o._triggerEvent("delayFrame")})},!0)}var i=e.fn.cubeportfolio.Constructor;i.Plugins.DisplaySequentially=function(e){return i.Private.modernBrowser&&"sequentially"===e.options.displayType&&0!==e.blocks.length?new t(e):null}}(jQuery,window,document);