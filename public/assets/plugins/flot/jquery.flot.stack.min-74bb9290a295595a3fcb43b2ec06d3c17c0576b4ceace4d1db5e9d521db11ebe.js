!function(){function s(s){function Q(s,n){for(var t=null,i=0;i<n.length&&s!=n[i];++i)n[i].stack==s.stack&&(t=n[i]);return t}function n(s,n,t){if(null!=n.stack&&!1!==n.stack){var i=Q(n,s.getData());if(i){for(var l,o,e,u,f,a,p,r,h=t.pointsize,c=t.points,g=i.datapoints.pointsize,k=i.datapoints.points,v=[],m=n.lines.show,z=n.bars.horizontal,d=2<h&&(z?t.format[2].x:t.format[2].y),y=m&&n.lines.steps,D=!0,b=z?1:0,j=z?0:1,w=0,x=0;!(w>=c.length);){if(p=v.length,null==c[w]){for(r=0;r<h;++r)v.push(c[w+r]);w+=h}else if(x>=k.length){if(!m)for(r=0;r<h;++r)v.push(c[w+r]);w+=h}else if(null==k[x]){for(r=0;r<h;++r)v.push(null);D=!0,x+=g}else{if(l=c[w+b],o=c[w+j],u=k[x+b],f=k[x+j],a=0,l==u){for(r=0;r<h;++r)v.push(c[w+r]);v[p+j]+=f,a=f,w+=h,x+=g}else if(u<l){if(m&&0<w&&null!=c[w-h]){for(e=o+(c[w-h+j]-o)*(u-l)/(c[w-h+b]-l),v.push(u),v.push(e+f),r=2;r<h;++r)v.push(c[w+r]);a=f}x+=g}else{if(D&&m){w+=h;continue}for(r=0;r<h;++r)v.push(c[w+r]);m&&0<x&&null!=k[x-g]&&(a=f+(k[x-g+j]-f)*(l-u)/(k[x-g+b]-u)),v[p+j]+=a,w+=h}D=!1,p!=v.length&&d&&(v[p+2]+=a)}if(y&&p!=v.length&&0<p&&null!=v[p]&&v[p]!=v[p-h]&&v[p+1]!=v[p-h+1]){for(r=0;r<h;++r)v[p+h+r]=v[p+r];v[p+1]=v[p-h+1]}}t.points=v}}}s.hooks.processDatapoints.push(n)}var n={series:{stack:null}};jQuery.plot.plugins.push({init:s,options:n,name:"stack",version:"1.2"})}();