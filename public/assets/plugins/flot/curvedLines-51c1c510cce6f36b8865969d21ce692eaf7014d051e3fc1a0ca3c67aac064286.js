!function(n){function i(n){function i(n,i){i.series.curvedLines.active&&n.hooks.processDatapoints.unshift(e)}function e(n,i,e){var r=e.points.length/e.pointsize,t=.5;if(1==i.curvedLines.apply&&i.originSeries===undefined&&1+t<r)if(i.lines.fill){var s=v(e,i.curvedLines,1),o=v(e,i.curvedLines,2);e.pointsize=3,e.points=[];for(var p=0,a=0,u=0,f=2;u<s.length||p<o.length;)s[u]==o[p]?(e.points[a]=s[u],e.points[a+1]=s[u+1],e.points[a+2]=o[p+1],p+=f,u+=f):s[u]<o[p]?(e.points[a]=s[u],e.points[a+1]=s[u+1],e.points[a+2]=0<a?e.points[a-1]:null,u+=f):(e.points[a]=o[p],e.points[a+1]=1<a?e.points[a-2]:null,e.points[a+2]=o[p+1],p+=f),a+=3}else 0<i.lines.lineWidth&&(e.points=v(e,i.curvedLines,1),e.pointsize=2)}function v(n,i,e){var r=n.points,t=n.pointsize,s=i.curvePointFactor*(r.length/t),o=new Array,p=new Array,a=-1,u=-1,f=0;if(i.fit){var v;if("undefined"==typeof i.fitPointDist){var l=r[0];v=(r[r.length-t]-l)/5e4}else v=i.fitPointDist;for(var c=0;c<r.length;c+=t){var h,d;u=(a=c)+e,h=r[a]-v,d=r[a]+v;for(var y=2;h==r[a]||d==r[a];)h=r[a]-v*y,d=r[a]+v*y,y++;o[f]=h,p[f]=r[u],o[++f]=r[a],p[f]=r[u],o[++f]=d,p[f]=r[u],f++}}else for(c=0;c<r.length;c+=t)u=(a=c)+e,o[f]=r[a],p[f]=r[u],f++;var g=o.length,w=new Array,A=new Array;w[0]=0,A[w[g-1]=0]=0;for(c=1;c<g-1;++c){var L=o[c+1]-o[c-1];if(0==L)return[];var P=(o[c]-o[c-1])/L,z=P*w[c-1]+2;w[c]=(P-1)/z,A[c]=(p[c+1]-p[c])/(o[c+1]-o[c])-(p[c]-p[c-1])/(o[c]-o[c-1]),A[c]=(6*A[c]/(o[c+1]-o[c-1])-P*A[c-1])/z}for(f=g-2;0<=f;--f)w[f]=w[f]*w[f+1]+A[f];var D=(o[g-1]-o[0])/(s-1),k=new Array,F=new Array,j=new Array;for(k[0]=o[0],F[0]=p[0],j.push(k[0]),j.push(F[0]),f=1;f<s;++f){k[f]=k[0]+f*D;for(var m=g-1,M=0;1<m-M;){var O=Math.round((m+M)/2);o[O]>k[f]?m=O:M=O}var Q=o[m]-o[M];if(0==Q)return[];var S=(o[m]-k[f])/Q,W=(k[f]-o[M])/Q;F[f]=S*p[M]+W*p[m]+((S*S*S-S)*w[M]+(W*W*W-W)*w[m])*(Q*Q)/6,j.push(k[f]),j.push(F[f])}return j}n.hooks.processOptions.push(i)}var e={series:{curvedLines:{active:!1,apply:!1,fit:!1,curvePointFactor:20,fitPointDist:undefined}}};n.plot.plugins.push({init:i,options:e,name:"curvedLines",version:"0.5"})}(jQuery);