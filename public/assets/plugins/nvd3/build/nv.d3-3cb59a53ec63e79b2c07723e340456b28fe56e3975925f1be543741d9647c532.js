!function(){var pt={dev:!1};pt.tooltip=pt.tooltip||{},pt.utils=pt.utils||{},pt.models=pt.models||{},pt.charts={},pt.logs={},pt.dom={},pt.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),pt.dev&&(pt.dispatch.on("render_start",function(){pt.logs.startTime=+new Date}),pt.dispatch.on("render_end",function(){pt.logs.endTime=+new Date,pt.logs.totalTime=pt.logs.endTime-pt.logs.startTime,pt.log("total",pt.logs.totalTime)})),pt.log=function(){if(pt.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(pt.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},pt.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},pt.render=function t(r){r=r||1,pt.render.active=!0,pt.dispatch.render_start();var i=function(){for(var t,e,n=0;n<r&&(e=pt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);pt.render.queue.splice(0,n),pt.render.queue.length?setTimeout(i):(pt.dispatch.render_end(),pt.render.active=!1)};setTimeout(i)},pt.render.active=!1,pt.render.queue=[],pt.addGraph=function(t,e){typeof t==typeof Function&&(t={generate:t,callback:e}),pt.render.queue.push(t),pt.render.active||pt.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=pt),"undefined"!=typeof window&&(window.nv=pt),pt.dom.write=function(t){return window.fastdom!==undefined?fastdom.write(t):t()},pt.dom.read=function(t){return window.fastdom!==undefined?fastdom.read(t):t()},pt.interactiveGuideline=function(){"use strict";function l(t){t.each(function(t){function e(){var t=d3.mouse(this),e=t[0],n=t[1],r=!0,i=!1;if(g&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(i=!0)),r&&(e-=u.left,n-=u.top),e<0||n<0||o<e||s<n||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||i){if(g&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&(d3.event.relatedTarget.className===undefined||d3.event.relatedTarget.className.match(h.nvPointerEventsClass)))return;return d.elementMouseout({mouseX:e,mouseY:n}),l.renderGuideLine(null),void h.hidden(!0)}h.hidden(!1);var a=c.invert(e);d.elementMousemove({mouseX:e,mouseY:n,pointXValue:a}),"dblclick"===d3.event.type&&d.elementDblclick({mouseX:e,mouseY:n,pointXValue:a}),"click"===d3.event.type&&d.elementClick({mouseX:e,mouseY:n,pointXValue:a}),"mousedown"===d3.event.type&&d.elementMouseDown({mouseX:e,mouseY:n,pointXValue:a}),"mouseup"===d3.event.type&&d.elementMouseUp({mouseX:e,mouseY:n,pointXValue:a})}var n=d3.select(this),o=i||960,s=a||400,r=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);r.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),p&&(p.on("touchmove",e).on("mousemove",e,!0).on("mouseout",e,!0).on("mousedown",e,!0).on("mouseup",e,!0).on("dblclick",e).on("click",e),l.guideLine=null,l.renderGuideLine=function(e){f&&(l.guideLine&&l.guideLine.attr("x1")===e||pt.dom.write(function(){var t=r.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[pt.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",s).attr("y2",0),t.exit().remove()}))})})}var u={left:0,top:0},i=null,a=null,c=d3.scale.linear(),d=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),f=!0,p=null,h=pt.models.tooltip(),g="ActiveXObject"in window;return h.duration(0).hideDelay(0).hidden(!1),l.dispatch=d,l.tooltip=h,l.margin=function(t){return arguments.length?(u.top="undefined"!=typeof t.top?t.top:u.top,u.left="undefined"!=typeof t.left?t.left:u.left,l):u},l.width=function(t){return arguments.length?(i=t,l):i},l.height=function(t){return arguments.length?(a=t,l):a},l.xScale=function(t){return arguments.length?(c=t,l):c},l.showGuideLine=function(t){return arguments.length?(f=t,l):f},l.svgContainer=function(t){return arguments.length?(p=t,l):p},l},pt.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=function(t,e){return r(t)-e},a=d3.bisector(i).left,o=d3.max([0,a(t,e)-1]),s=r(t[o]);if(void 0===s&&(s=o),s===e)return o;var l=d3.min([o+1,t.length-1]),u=r(t[l]);return void 0===u&&(u=l),Math.abs(u-e)>=Math.abs(s-e)?o:l},pt.nearestValueIndex=function(t,r,i){"use strict";var a=Infinity,o=null;return t.forEach(function(t,e){var n=Math.abs(r-t);null!=t&&n<=a&&n<i&&(a=n,o=e)}),o},pt.models.tooltip=function(){"use strict";function e(){if(!f){var t=s||document.body;(f=d3.select(t).append("div").attr("class","nvtooltip "+(o||"xy-tooltip")).attr("id",r)).style("top",0).style("left",0),f.style("opacity",0),f.style("position","fixed"),f.selectAll("div, table, td, tr").classed(m,!0),f.classed(m,!0)}}function n(){if(h&&t(i))return pt.dom.write(function(){e();var t=w(i);t&&(f.node().innerHTML=t),A()}),n}var r="nvtooltip-"+Math.floor(1e5*Math.random()),i=null,l="w",u=25,a=0,o=null,s=null,c=!0,d=200,f=null,p={left:null,top:null},h=!0,g=100,v=!0,m="nv-pointer-events-none",x=function(){return{left:d3.event.clientX,top:d3.event.clientY}},y=function(t){return t},b=function(t){return t},k=function(t){return t},w=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));v&&e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(b(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return k(t.key,e)}),n.append("td").classed("value",!0).html(function(t,e){return y(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var r=e.node().outerHTML;return t.footer!==undefined&&(r+="<div class='footer'>"+t.footer+"</div>"),r},t=function(t){if(t&&t.series){if(t.series instanceof Array)return!!t.series.length;if(t.series instanceof Object)return t.series=[t.series],!0}return!1},M=function(t){var e,n,r,i=f.node().offsetHeight,a=f.node().offsetWidth,o=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(l){case"e":e=-a-u,n=-i/2,t.left+e<0&&(e=u),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"w":e=u,n=-i/2,t.left+e+a>o&&(e=-a-u),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"n":e=-a/2-5,n=u,t.top+n+i>s&&(n=-i-u),(r=t.left+e)<0&&(e-=r),(r=t.left+e+a)>o&&(e-=r-o);break;case"s":e=-a/2,n=-i-u,t.top+n<0&&(n=u),(r=t.left+e)<0&&(e-=r),(r=t.left+e+a)>o&&(e-=r-o);break;case"center":e=-a/2,n=-i/2;break;default:n=e=0}return{left:e,top:n}},A=function(){pt.dom.read(function(){var t=x(),e=M(t),n=t.left+e.left,r=t.top+e.top;if(c)f.interrupt().transition().delay(d).duration(0).style("opacity",0);else{var i="translate("+p.left+"px, "+p.top+"px)",a="translate("+n+"px, "+r+"px)",o=d3.interpolateString(i,a),s=f.style("opacity")<.1;f.interrupt().transition().duration(s?0:g).styleTween("transform",function(){return o},"important").styleTween("-webkit-transform",function(){return o}).style("-ms-transform",a).style("opacity",1)}p.left=n,p.top=r})};return n.nvPointerEventsClass=m,n.options=pt.utils.optionsFunc.bind(n),n._options=Object.create({},{duration:{get:function(){return g},set:function(t){g=t}},gravity:{get:function(){return l},set:function(t){l=t}},distance:{get:function(){return u},set:function(t){u=t}},snapDistance:{get:function(){return a},set:function(t){a=t}},classes:{get:function(){return o},set:function(t){o=t}},chartContainer:{get:function(){return s},set:function(t){s=t}},enabled:{get:function(){return h},set:function(t){h=t}},hideDelay:{get:function(){return d},set:function(t){d=t}},contentGenerator:{get:function(){return w},set:function(t){w=t}},valueFormatter:{get:function(){return y},set:function(t){y=t}},headerFormatter:{get:function(){return b},set:function(t){b=t}},keyFormatter:{get:function(){return k},set:function(t){k=t}},headerEnabled:{get:function(){return v},set:function(t){v=t}},position:{get:function(){return x},set:function(t){x=t}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,n())}},data:{get:function(){return i},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),i=t}},node:{get:function(){return f.node()},set:function(){}},id:{get:function(){return r},set:function(){}}}),pt.utils.initOptions(n),n},pt.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},pt.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):pt.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},pt.utils.getColor=function(t){if(t===undefined)return pt.utils.defaultColor();if(Array.isArray(t)){var r=d3.scale.ordinal().range(t);return function(t,e){var n=e===undefined?t:e;return t.color||r(n)}}return t},pt.utils.defaultColor=function(){return pt.utils.getColor(d3.scale.category20().range())},pt.utils.customTheme=function(n,r,i){r=r||function(t){return t.key};var a=(i=i||d3.scale.category20().range()).length;return function(t){var e=r(t);return"function"==typeof n[e]?n[e]():n[e]!==undefined?n[e]:(a||(a=i.length),i[a-=1])}},pt.utils.pjax=function(n,r){var t=function(t){d3.html(t,function(t){var e=d3.select(r).node();e.parentNode.replaceChild(d3.select(t).select(r).node(),e),pt.utils.pjax(n,r)})};d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},pt.utils.calcApproxTextWidth=function(t){if("function"!=typeof t.style||"function"!=typeof t.text)return 0;var e=parseInt(t.style("font-size").replace("px",""),10);return t.text().length*e*.5},pt.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===Infinity||t===-Infinity?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},pt.utils.renderWatch=function(t,e){if(!(this instanceof pt.utils.renderWatch))return new pt.utils.renderWatch(t,e);var i=e!==undefined?e:250,a=[],o=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(){e.__rendered=!0,o.renderEnd("model")}),a.indexOf(t)<0&&a.push(t)}),this},this.reset=function(t){t!==undefined&&(i=t),a=[]},this.transition=function(t,e,n){if(n=1<(e=1<arguments.length?[].slice.call(arguments,1):[]).length?e.pop():i!==undefined?i:250,t.__rendered=!1,a.indexOf(t)<0&&a.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var r=0;return t.transition().duration(n).each(function(){++r}).each("end",function(){0==--r&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){a.every(function(t){return t.__rendered})&&(a.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},pt.utils.deepExtend=function(a){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=a[e]instanceof Array,r="object"==typeof a[e],i="object"==typeof t[e];r&&!n&&i?pt.utils.deepExtend(a[e],t[e]):a[e]=t[e]}})},pt.utils.state=function(){if(!(this instanceof pt.utils.state))return new pt.utils.state;var n={},e=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(n,r){return r||(r=function(){}),e=function(t,e){n(t),e&&r()},this},this.init=function(t){i=i||{},pt.utils.deepExtend(i,t)};var t=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)n[e]===undefined&&(n[e]={}),n[e]=t[e],!0;return!0};this.update=function(){i&&(e(i,!1),i=null),t.call(this)&&this.dispatch.change(n)}},pt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},pt.utils.calcTicksX=function(t,e){for(var n=1,r=0;r<e.length;r+=1){var i=e[r]&&e[r].values?e[r].values.length:0;n=n<i?i:n}return pt.log("Requested number of ticks: ",t),pt.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),pt.log("Calculating tick count as: ",t),t},pt.utils.calcTicksY=function(t,e){return pt.utils.calcTicksX(t,e)},pt.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},pt.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var r in e=e.concat(n))pt.utils.initOption(t,e[r])},pt.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},pt.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},pt.utils.symbolMap=d3.map(),pt.utils.symbol=function(){function e(t,e){var n=i.call(this,t,e),r=a.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(r)():pt.utils.symbolMap.get(n)(r)}var i,a=64;return e.type=function(t){return arguments.length?(i=d3.functor(t),e):i},e.size=function(t){return arguments.length?(a=d3.functor(t),e):a},e},pt.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{}),i=e._inherited||[],a=e._d3options||[],o=n.concat(r).concat(i).concat(a);o.unshift(e),o.unshift(t),d3.rebind.apply(this,o),t._inherited=pt.utils.arrayUnique(n.concat(r).concat(i).concat(n).concat(t._inherited||[])),t._d3options=pt.utils.arrayUnique(a.concat(t._d3options||[]))},pt.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},pt.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},pt.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},pt.utils.availableHeight=function(t,e,n){return pt.utils.sanitizeHeight(t,e)-n.top-n.bottom},pt.utils.availableWidth=function(t,e,n){return pt.utils.sanitizeWidth(t,e)-n.left-n.right},pt.utils.noData=function(t,e){var n=t.options(),r=n.margin(),i=n.noData(),a=null==i?["No Data Available."]:[i],o=pt.utils.availableHeight(null,e,r),s=pt.utils.availableWidth(null,e,r),l=r.left+s/2,u=r.top+o/2;e.selectAll("g").remove();var c=e.selectAll(".nv-noData").data(a);c.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),c.attr("x",l).attr("y",u).text(function(t){return t})},pt.utils.wrapTicks=function(t,u){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],i=0,a=1.1,o=e.attr("y"),s=parseFloat(e.attr("dy")),l=e.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em");t=n.pop();)r.push(t),l.text(r.join(" ")),l.node().getComputedTextLength()>u&&(r.pop(),l.text(r.join(" ")),r=[t],l=e.append("tspan").attr("x",0).attr("y",o).attr("dy",++i*a+s+"em").text(t))})},pt.models.axis=function(){"use strict";function e(t){return F.reset(),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),r=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==S?v.ticks(S):"top"!=v.orient()&&"bottom"!=v.orient()||v.ticks(Math.abs(m.range()[1]-m.range()[0])/100),r.watchTransition(F,"axis").call(v),g=g||v.scale();var i=v.tickFormat();null==i&&(i=g.tickFormat());var a,o,s,l=r.selectAll("text.nv-axislabel").data([b||null]);switch(l.exit().remove(),v.orient()){case"top":l.enter().append("text").attr("class","nv-axislabel"),s=0,1===m.range().length?s=C?2*m.range()[0]+m.rangeBand():0:2===m.range().length?s=C?m.range()[0]+m.range()[1]+m.rangeBand():m.range()[1]:2<m.range().length&&(s=m.range()[m.range().length-1]+(m.range()[1]-m.range()[0])),l.attr("text-anchor","middle").attr("y",0).attr("x",s/2),k&&((o=n.selectAll("g.nv-axisMaxMin").data(m.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),o.exit().remove(),o.attr("transform",function(t){return"translate("+pt.utils.NaNtoZero(m(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-v.tickPadding()).attr("text-anchor","middle").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),o.watchTransition(F,"min-max top").attr("transform",function(t,e){return"translate("+pt.utils.NaNtoZero(m.range()[e])+",0)"}));break;case"bottom":a=W+36;var u=30,c=0,d=r.selectAll("g").select("text"),f="";if(w%360){d.each(function(){var t=this.getBoundingClientRect(),e=t.width;c=t.height,u<e&&(u=e)}),f="rotate("+w+" 0,"+(c/2+v.tickPadding())+")";var p=Math.abs(Math.sin(w*Math.PI/180));a=(p?p*u:u)+30,d.attr("transform",f).style("text-anchor",0<w%360?"start":"end")}l.enter().append("text").attr("class","nv-axislabel"),s=0,1===m.range().length?s=C?2*m.range()[0]+m.rangeBand():0:2===m.range().length?s=C?m.range()[0]+m.range()[1]+m.rangeBand():m.range()[1]:2<m.range().length&&(s=m.range()[m.range().length-1]+(m.range()[1]-m.range()[0])),l.attr("text-anchor","middle").attr("y",a).attr("x",s/2),k&&((o=n.selectAll("g.nv-axisMaxMin").data([m.domain()[0],m.domain()[m.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),o.exit().remove(),o.attr("transform",function(t){return"translate("+pt.utils.NaNtoZero(m(t)+(C?m.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",v.tickPadding()).attr("transform",f).style("text-anchor",w?0<w%360?"start":"end":"middle").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),o.watchTransition(F,"min-max bottom").attr("transform",function(t){return"translate("+pt.utils.NaNtoZero(m(t)+(C?m.rangeBand()/2:0))+",0)"})),A&&d.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",M?"middle":"begin").attr("transform",M?"rotate(90)":"").attr("y",M?12-Math.max(x.right,y):-10).attr("x",M?d3.max(m.range())/2:v.tickPadding()),k&&((o=n.selectAll("g.nv-axisMaxMin").data(m.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),o.exit().remove(),o.attr("transform",function(t){return"translate(0,"+pt.utils.NaNtoZero(m(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",v.tickPadding()).style("text-anchor","start").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),o.watchTransition(F,"min-max right").attr("transform",function(t,e){return"translate(0,"+pt.utils.NaNtoZero(m.range()[e])+")"}).select("text").style("opacity",1));break;case"left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",M?"middle":"end").attr("transform",M?"rotate(-90)":"").attr("y",M?25-Math.max(x.left,y)-(W||0):-10).attr("x",M?-d3.max(m.range())/2:-v.tickPadding()),k&&((o=n.selectAll("g.nv-axisMaxMin").data(m.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),o.exit().remove(),o.attr("transform",function(t){return"translate(0,"+pt.utils.NaNtoZero(g(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-v.tickPadding()).attr("text-anchor","end").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),o.watchTransition(F,"min-max right").attr("transform",function(t,e){return"translate(0,"+pt.utils.NaNtoZero(m.range()[e])+")"}).select("text").style("opacity",1))}if(l.text(function(t){return t}),!k||"left"!==v.orient()&&"right"!==v.orient()||(r.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(m(t)<m.range()[1]+10||m(t)>m.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),m.domain()[0]==m.domain()[1]&&0==m.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),k&&("top"===v.orient()||"bottom"===v.orient())){var h=[];n.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?h.push(m(t)-this.getBoundingClientRect().width-4):h.push(m(t)+this.getBoundingClientRect().width+4)}catch(n){e?h.push(m(t)-4):h.push(m(t)+4)}}),r.selectAll("g").each(function(t){(m(t)<h[0]||m(t)>h[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}r.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&t!==undefined}).classed("zero",!0),g=m.copy()}),F.renderEnd("axis immediate"),e}var g,v=d3.svg.axis(),m=d3.scale.linear(),x={top:0,right:0,bottom:0,left:0},y=75,n=60,b=null,k=!0,w=0,M=!0,A=!1,C=!1,S=null,W=0,r=250,t=d3.dispatch("renderEnd");v.scale(m).orient("bottom").tickFormat(function(t){return t});var F=pt.utils.renderWatch(t,r);return e.axis=v,e.dispatch=t,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return W},set:function(t){W=t}},staggerLabels:{get:function(){return A},set:function(t){A=t}},rotateLabels:{get:function(){return w},set:function(t){w=t}},rotateYLabel:{get:function(){return M},set:function(t){M=t}},showMaxMin:{get:function(){return k},set:function(t){k=t}},axisLabel:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return n},set:function(t){n=t}},ticks:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return x},set:function(t){x.top=t.top!==undefined?t.top:x.top,x.right=t.right!==undefined?t.right:x.right,x.bottom=t.bottom!==undefined?t.bottom:x.bottom,x.left=t.left!==undefined?t.left:x.left}},duration:{get:function(){return r},set:function(t){r=t,F.reset(r)}},scale:{get:function(){return m},set:function(t){m=t,v.scale(m),C="function"==typeof m.rangeBands,pt.utils.inheritOptionsD3(e,m,["domain","range","rangeBand","rangeBands"])}}}),pt.utils.initOptions(e),pt.utils.inheritOptionsD3(e,v,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),pt.utils.inheritOptionsD3(e,m,["domain","range","rangeBand","rangeBands"]),e},pt.models.boxPlot=function(){"use strict";function e(t){return F.reset(),t.each(function(n){var t=x-m.left-m.right,e=y-m.top-m.bottom;A=d3.select(this),pt.utils.initSVG(A),b.domain(d||n.map(function(t,e){return w(t,e)})).rangeBands(p||[0,t],.1);var r=[];f||(r=[d3.min(n.map(function(t){var e=[];return e.push(t.values.Q1),t.values.hasOwnProperty("whisker_low")&&null!==t.values.whisker_low&&e.push(t.values.whisker_low),t.values.hasOwnProperty("outliers")&&null!==t.values.outliers&&(e=e.concat(t.values.outliers)),d3.min(e)})),d3.max(n.map(function(t){var e=[];return e.push(t.values.Q3),t.values.hasOwnProperty("whisker_high")&&null!==t.values.whisker_high&&e.push(t.values.whisker_high),t.values.hasOwnProperty("outliers")&&null!==t.values.outliers&&(e=e.concat(t.values.outliers)),d3.max(e)}))]);k.domain(f||r),k.range(h||[e,0]),g=g||b,v=v||k.copy().range([k(0),k(0)]);var i=A.selectAll("g.nv-wrap").data([n]);i.enter().append("g").attr("class","nvd3 nv-wrap");i.attr("transform","translate("+m.left+","+m.top+")");var a=i.selectAll(".nv-boxplot").data(function(t){return t}),o=a.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);a.attr("class","nv-boxplot").attr("transform",function(t,e){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),a.watchTransition(F,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*S/n.length}).attr("transform",function(t,e){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", 0)"}),a.exit().remove(),o.each(function(e,n){var r=d3.select(this);["low","high"].forEach(function(t){e.values.hasOwnProperty("whisker_"+t)&&null!==e.values["whisker_"+t]&&(r.append("line").style("stroke",e.color?e.color:M(e,n)).attr("class","nv-boxplot-whisker nv-boxplot-"+t),r.append("line").style("stroke",e.color?e.color:M(e,n)).attr("class","nv-boxplot-tick nv-boxplot-"+t))})});var s=a.selectAll(".nv-boxplot-outlier").data(function(t){return t.values.hasOwnProperty("outliers")&&null!==t.values.outliers?t.values.outliers:[]});s.enter().append("circle").style("fill",function(t,e,n){return M(t,n)}).style("stroke",function(t,e,n){return M(t,n)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),C.elementMouseover({series:{key:t,color:M(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),C.elementMouseout({series:{key:t,color:M(t,n)},e:d3.event})}).on("mousemove",function(){C.elementMousemove({e:d3.event})}),s.attr("class","nv-boxplot-outlier"),s.watchTransition(F,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*b.rangeBand()).attr("cy",function(t){return k(t)}).attr("r","3"),s.exit().remove();var l=function(){return null===W?.9*b.rangeBand():Math.min(75,.9*b.rangeBand())},u=function(){return.45*b.rangeBand()-l()/2},c=function(){return.45*b.rangeBand()+l()/2};["low","high"].forEach(function(e){var n="low"===e?"Q1":"Q3";a.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(F,"nv-boxplot: boxplots").attr("x1",.45*b.rangeBand()).attr("y1",function(t){return k(t.values["whisker_"+e])}).attr("x2",.45*b.rangeBand()).attr("y2",function(t){return k(t.values[n])}),a.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(F,"nv-boxplot: boxplots").attr("x1",u).attr("y1",function(t){return k(t.values["whisker_"+e])}).attr("x2",c).attr("y2",function(t){return k(t.values["whisker_"+e])})}),["low","high"].forEach(function(r){o.selectAll(".nv-boxplot-"+r).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),C.elementMouseover({series:{key:t.values["whisker_"+r],color:M(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),C.elementMouseout({series:{key:t.values["whisker_"+r],color:M(t,n)},e:d3.event})}).on("mousemove",function(){C.elementMousemove({e:d3.event})})}),o.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),C.elementMouseover({key:t.label,value:t.label,series:[{key:"Q3",value:t.values.Q3,color:t.color||M(t,e)},{key:"Q2",value:t.values.Q2,color:t.color||M(t,e)},{key:"Q1",value:t.values.Q1,color:t.color||M(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),C.elementMouseout({key:t.label,value:t.label,series:[{key:"Q3",value:t.values.Q3,color:t.color||M(t,e)},{key:"Q2",value:t.values.Q2,color:t.color||M(t,e)},{key:"Q1",value:t.values.Q1,color:t.color||M(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(){C.elementMousemove({e:d3.event})}),a.select("rect.nv-boxplot-box").watchTransition(F,"nv-boxplot: boxes").attr("y",function(t){return k(t.values.Q3)}).attr("width",l).attr("x",u).attr("height",function(t){return Math.abs(k(t.values.Q3)-k(t.values.Q1))||1}).style("fill",function(t,e){return t.color||M(t,e)}).style("stroke",function(t,e){return t.color||M(t,e)}),o.append("line").attr("class","nv-boxplot-median"),a.select("line.nv-boxplot-median").watchTransition(F,"nv-boxplot: boxplots line").attr("x1",u).attr("y1",function(t){return k(t.values.Q2)}).attr("x2",c).attr("y2",function(t){return k(t.values.Q2)}),g=b.copy(),v=k.copy()}),F.renderEnd("nv-boxplot immediate"),e}var d,f,p,h,g,v,m={top:0,right:0,bottom:0,left:0},x=960,y=500,n=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),k=d3.scale.linear(),w=function(t){return t.x},r=function(t){return t.y},M=pt.utils.defaultColor(),A=null,C=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=250,W=null,F=pt.utils.renderWatch(C,S);return e.dispatch=C,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return y},set:function(t){y=t}},maxBoxWidth:{get:function(){return W},set:function(t){W=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return r},set:function(t){r=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return h},set:function(t){h=t}},id:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},color:{get:function(){return M},set:function(t){M=pt.utils.getColor(t)}},duration:{get:function(){return S},set:function(t){S=t,F.reset(S)}}}),pt.utils.initOptions(e),e},pt.models.boxPlotChart=function(){"use strict";function c(t){return r.reset(),r.models(p),y&&r.models(h),b&&r.models(g),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=(m||parseInt(e.style("width"))||960)-v.left-v.right,r=(x||parseInt(e.style("height"))||400)-v.top-v.bottom;if(c.update=function(){A.beforeUpdate(),e.transition().duration(C).call(c)},c.container=this,!(t&&t.length&&t.filter(function(t){return t.values.hasOwnProperty("Q1")&&t.values.hasOwnProperty("Q2")&&t.values.hasOwnProperty("Q3")}).length)){var i=e.selectAll(".nv-noData").data([M]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",v.left+n/2).attr("y",v.top+r/2).text(function(t){return t}),c}e.selectAll(".nv-noData").remove(),d=p.xScale(),f=p.yScale().clamp(!0);var a=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([t]),o=a.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),s=o.append("defs"),l=a.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),l.attr("transform","translate("+v.left+","+v.top+")"),k&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),p.width(n).height(r),l.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(p),s.append("clipPath").attr("id","nv-x-label-clip-"+p.id()).append("rect"),l.select("#nv-x-label-clip-"+p.id()+" rect").attr("width",d.rangeBand()*(w?2:1)).attr("height",16).attr("x",-d.rangeBand()/(w?1:2)),y){h.scale(d).ticks(pt.utils.calcTicksX(n/100,t)).tickSize(-r,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),l.select(".nv-x.nv-axis").call(h);var u=l.select(".nv-x.nv-axis").selectAll("g");w&&u.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}b&&(
g.scale(f).ticks(Math.floor(r/36)).tickSize(-n,0),l.select(".nv-y.nv-axis").call(g)),l.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",f(0)).attr("y2",f(0))}),r.renderEnd("nv-boxplot chart immediate"),c}var d,f,p=pt.models.boxPlot(),h=pt.models.axis(),g=pt.models.axis(),v={top:15,right:10,bottom:50,left:60},m=null,x=null,e=pt.utils.getColor(),y=!0,b=!0,k=!1,w=!1,n=pt.models.tooltip(),M="No Data Available.",A=d3.dispatch("beforeUpdate","renderEnd"),C=250;h.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),g.orient(k?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0);var r=pt.utils.renderWatch(A,C);return p.dispatch.on("elementMouseover.tooltip",function(t){n.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){n.data(t).hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(){n()}),c.dispatch=A,c.boxplot=p,c.xAxis=h,c.yAxis=g,c.tooltip=n,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return w},set:function(t){w=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},duration:{get:function(){return C},set:function(t){C=t,r.reset(C),p.duration(C),h.duration(C),g.duration(C)}},color:{get:function(){return e},set:function(t){e=pt.utils.getColor(t),p.color(e)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,g.orient(t?"right":"left")}}}),pt.utils.inheritOptions(c,p),pt.utils.initOptions(c),c},pt.models.bullet=function(){"use strict";function e(t){return t.each(function(t,e){var n=D-k.left-k.right,r=E-k.top-k.bottom;O=d3.select(this),pt.utils.initSVG(O);var i=M.call(this,t,e).slice().sort(d3.descending),a=A.call(this,t,e).slice().sort(d3.descending),o=C.call(this,t,e).slice().sort(d3.descending),s=S.call(this,t,e).slice(),l=W.call(this,t,e).slice(),u=F.call(this,t,e).slice(),c=d3.scale.linear().domain(d3.extent(d3.merge([_,i]))).range(w?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(c.range());this.__chart__=c;var d=d3.min(i),f=d3.max(i),p=i[1],h=O.selectAll("g.nv-wrap.nv-bullet").data([t]),g=h.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),v=h.select("g");g.append("rect").attr("class","nv-range nv-rangeMax"),g.append("rect").attr("class","nv-range nv-rangeAvg"),g.append("rect").attr("class","nv-range nv-rangeMin"),g.append("rect").attr("class","nv-measure"),h.attr("transform","translate("+k.left+","+k.top+")");var m=function(t){return Math.abs(c(t)-c(0))},x=function(t){return c(t<0?t:0)};v.select("rect.nv-rangeMax").attr("height",r).attr("width",m(0<f?f:d)).attr("x",x(0<f?f:d)).datum(0<f?f:d),v.select("rect.nv-rangeAvg").attr("height",r).attr("width",m(p)).attr("x",x(p)).datum(p),v.select("rect.nv-rangeMin").attr("height",r).attr("width",m(f)).attr("x",x(f)).attr("width",m(0<f?d:f)).attr("x",x(0<f?d:f)).datum(0<f?d:f),v.select("rect.nv-measure").style("fill",B).attr("height",r/3).attr("y",r/3).attr("width",o<0?c(0)-c(o[0]):c(o[0])-c(0)).attr("x",x(o)).on("mouseover",function(){L.elementMouseover({value:o[0],label:u[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){L.elementMousemove({value:o[0],label:u[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){L.elementMouseout({value:o[0],label:u[0]||"Current",color:d3.select(this).style("fill")})});var y=r/6,b=a.map(function(t,e){return{value:t,label:l[e]}});g.selectAll("path.nv-markerTriangle").data(b).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(t){return"translate("+c(t.value)+","+r/2+")"}).attr("d","M0,"+y+"L"+y+","+-y+" "+-y+","+-y+"Z").on("mouseover",function(t){L.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[c(t.value),r/2]})}).on("mousemove",function(t){L.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t){L.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),h.selectAll(".nv-range").on("mouseover",function(t,e){var n=s[e]||(e?1==e?"Mean":"Minimum":"Maximum");L.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){L.elementMousemove({value:o[0],label:u[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=s[e]||(e?1==e?"Mean":"Minimum":"Maximum");L.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),e}var k={top:0,right:0,bottom:0,left:0},n="left",w=!1,M=function(t){return t.ranges},A=function(t){return t.markers?t.markers:[0]},C=function(t){return t.measures},S=function(t){return t.rangeLabels?t.rangeLabels:[]},W=function(t){return t.markerLabels?t.markerLabels:[]},F=function(t){return t.measureLabels?t.measureLabels:[]},_=[0],D=380,E=30,O=null,r=null,B=pt.utils.getColor(["#1f77b4"]),L=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return e.dispatch=L,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return M},set:function(t){M=t}},markers:{get:function(){return A},set:function(t){A=t}},measures:{get:function(){return C},set:function(t){C=t}},forceX:{get:function(){return _},set:function(t){_=t}},width:{get:function(){return D},set:function(t){D=t}},height:{get:function(){return E},set:function(t){E=t}},tickFormat:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return k},set:function(t){k.top=t.top!==undefined?t.top:k.top,k.right=t.right!==undefined?t.right:k.right,k.bottom=t.bottom!==undefined?t.bottom:k.bottom,k.left=t.left!==undefined?t.left:k.left}},orient:{get:function(){return n},set:function(t){w="right"==(n=t)||"bottom"==n}},color:{get:function(){return B},set:function(t){B=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.bulletChart=function(){"use strict";function b(y){return y.each(function(t,e){var n=d3.select(this);pt.utils.initSVG(n);var r=pt.utils.availableWidth(W,n,M),i=F-M.top-M.bottom;if(b.update=function(){b(y)},b.container=this,!t||!A.call(this,t,e))return pt.utils.noData(b,n),b;n.selectAll(".nv-noData").remove();var a=A.call(this,t,e).slice().sort(d3.descending),o=C.call(this,t,e).slice().sort(d3.descending),s=S.call(this,t,e).slice().sort(d3.descending),l=n.selectAll("g.nv-wrap.nv-bulletChart").data([t]),u=l.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),c=l.select("g");u.append("g").attr("class","nv-bulletWrap"),u.append("g").attr("class","nv-titles"),l.attr("transform","translate("+M.left+","+M.top+")");var d=d3.scale.linear().domain([0,Math.max(a[0],o[0],s[0])]).range(w?[r,0]:[0,r]),f=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(d.range());this.__chart__=d;var p=u.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(F-M.top-M.bottom)/2+")");p.append("text").attr("class","nv-title").text(function(t){return t.title}),p.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),k.width(r).height(i);var h=c.select(".nv-bulletWrap");d3.transition(h).call(k);var g=_||d.tickFormat(r/100),v=c.selectAll("g.nv-tick").data(d.ticks(D||r/50),function(t){return this.textContent||g(t)}),m=v.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1e-6);m.append("line").attr("y1",i).attr("y2",7*i/6),m.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*i/6).text(g);var x=d3.transition(v).attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1);x.select("line").attr("y1",i).attr("y2",7*i/6),x.select("text").attr("y",7*i/6),d3.transition(v.exit()).attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),b}var k=pt.models.bullet(),e=pt.models.tooltip(),n="left",w=!1,M={top:5,right:40,bottom:20,left:120},A=function(t){return t.ranges},C=function(t){return t.markers?t.markers:[0]},S=function(t){return t.measures},W=null,F=55,_=null,D=null,r=null,t=d3.dispatch();return e.duration(0).headerEnabled(!1),k.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),k.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),k.dispatch.on("elementMousemove.tooltip",function(){e()}),b.bullet=k,b.dispatch=t,b.tooltip=e,b.options=pt.utils.optionsFunc.bind(b),b._options=Object.create({},{ranges:{get:function(){return A},set:function(t){A=t}},markers:{get:function(){return C},set:function(t){C=t}},measures:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return W},set:function(t){W=t}},height:{get:function(){return F},set:function(t){F=t}},tickFormat:{get:function(){return _},set:function(t){_=t}},ticks:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return M},set:function(t){M.top=t.top!==undefined?t.top:M.top,M.right=t.right!==undefined?t.right:M.right,M.bottom=t.bottom!==undefined?t.bottom:M.bottom,M.left=t.left!==undefined?t.left:M.left}},orient:{get:function(){return n},set:function(t){w="right"==(n=t)||"bottom"==n}}}),pt.utils.inheritOptions(b,k),pt.utils.initOptions(b),b},pt.models.candlestickBar=function(){"use strict";function n(t){return t.each(function(t){d=d3.select(this);var e=pt.utils.availableWidth(m,d,v),n=pt.utils.availableHeight(x,d,v);pt.utils.initSVG(d);var r=e/t[0].values.length*.45;b.domain(f||d3.extent(t[0].values.map(w).concat(F))),D?b.range(h||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):b.range(h||[5+r/2,e-r/2-5]),k.domain(p||[d3.min(t[0].values.map(W).concat(_)),d3.max(t[0].values.map(S).concat(_))]).range(g||[n,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]+.01*k.domain()[0],k.domain()[1]-.01*k.domain()[1]]):k.domain([-1,1]));var i=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),o=a.append("defs"),s=a.append("g"),l=i.select("g");s.append("g").attr("class","nv-ticks"),i.attr("transform","translate("+v.left+","+v.top+")"),d.on("click",function(t,e){O.chartClick({data:t,index:e,pos:d3.event,id:y})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+y).append("rect"),i.select("#nv-chart-clip-path-"+y+" rect").attr("width",e).attr("height",n),l.attr("clip-path",E?"url(#nv-chart-clip-path-"+y+")":"");var u=i.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});u.exit().remove();var c=u.enter().append("g");u.attr("class",function(t,e,n){return(A(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});c.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+b(w(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return k(S(t,e))}).attr("x2",0).attr("y2",function(t,e){return k(W(t,e))}),c.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(b(w(t,e))-r/2)+","+(k(M(t,e))-(A(t,e)>C(t,e)?k(C(t,e))-k(A(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(t,e){var n=A(t,e),r=C(t,e);return r<n?k(r)-k(n):k(n)-k(r)});u.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+b(w(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return k(S(t,e))}).attr("x2",0).attr("y2",function(t,e){return k(W(t,e))}),u.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(b(w(t,e))-r/2)+","+(k(M(t,e))-(A(t,e)>C(t,e)?k(C(t,e))-k(A(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(t,e){var n=A(t,e),r=C(t,e);return r<n?k(r)-k(n):k(n)-k(r)})}),n}var d,f,p,h,g,v={top:0,right:0,bottom:0,left:0},m=null,x=null,y=Math.floor(1e4*Math.random()),b=d3.scale.linear(),k=d3.scale.linear(),w=function(t){return t.x},M=function(t){return t.y},A=function(t){return t.open},C=function(t){return t.close},S=function(t){return t.high},W=function(t){return t.low},F=[],_=[],D=!1,E=!0,e=pt.utils.defaultColor(),r=!1,O=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),d.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){d.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},n.dispatch=O,n.options=pt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return f},set:function(t){f=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return F},set:function(t){F=t}},forceY:{get:function(){return _},set:function(t){_=t}},padData:{get:function(){return D},set:function(t){D=t}},clipEdge:{get:function(){return E},set:function(t){E=t}},id:{get:function(){return y},set:function(t){y=t}},interactive:{get:function(){return r},set:function(t){r=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return M},set:function(t){M=t}},open:{get:function(){return A()},set:function(t){A=t}},close:{get:function(){return C()},set:function(t){C=t}},high:{get:function(){return S},set:function(t){S=t}},low:{get:function(){return W},set:function(t){W=t}},margin:{get:function(){return v},set:function(t){v.top=t.top!=undefined?t.top:v.top,v.right=t.right!=undefined?t.right:v.right,v.bottom=t.bottom!=undefined?t.bottom:v.bottom,v.left=t.left!=undefined?t.left:v.left}},color:{get:function(){return e},set:function(t){e=pt.utils.getColor(t)}}}),pt.utils.initOptions(n),n},pt.models.cumulativeLineChart=function(){"use strict";function A(t){return r.reset(),r.models(F),V&&r.models(_),I&&r.models(D),t.each(function(u){function t(){d3.select(A.container).style("cursor","ew-resize")}function e(){J.x=d3.event.x,J.i=Math.round(U.invert(J.x)),r()}function n(){d3.select(A.container).style("cursor","auto"),R.index=J.i,K.stateChange(R)}function r(){M.data([J]);var t=A.duration();A.duration(0),A.update(),A.duration(t)}var i=d3.select(this);pt.utils.initSVG(i),i.classed("nv-chart-"+j,!0);var a,c=this,o=pt.utils.availableWidth(P,i,L),s=pt.utils.availableHeight(N,i,L);if(A.update=function(){0===q?i.call(A):i.transition().duration(q).call(A)},A.container=this,R.setter(tt(u),A.update).getter($(u)).update(),R.disabled=u.map(function(t){return!!t.disabled}),!Z)for(a in Z={},R)R[a]instanceof Array?Z[a]=R[a].slice(0):Z[a]=R[a];var l=d3.behavior.drag().on("dragstart",t).on("drag",e).on("dragend",n);if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return pt.utils.noData(A,i),A;if(i.selectAll(".nv-noData").remove(),S=F.xScale(),W=F.yScale(),X)F.yDomain(null);else{var d=u.filter(function(t){return!t.disabled}).map(function(t){var e=d3.extent(t.values,F.y());return e[0]<-.95&&(e[0]=-.95),[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),f=[d3.min(d,function(t){return t[0]}),d3.max(d,function(t){return t[1]})];F.yDomain(f)}U.domain([0,u[0].values.length-1]).range([0,o]).clamp(!0);u=C(J.i,u);var p=G?"none":"all",h=i.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),g=h.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),v=h.select("g");if(g.append("g").attr("class","nv-interactive"),g.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),g.append("g").attr("class","nv-y nv-axis"),g.append("g").attr("class","nv-background"),g.append("g").attr("class","nv-linesWrap").style("pointer-events",p),g.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),g.append("g").attr("class","nv-legendWrap"),g.append("g").attr("class","nv-controlsWrap"),z&&(E.width(o),v.select(".nv-legendWrap").datum(u).call(E),L.top!=E.height()&&(L.top=E.height(),s=pt.utils.availableHeight(N,i,L)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-L.top+")")),Y){var m=[{key:"Re-scale y-axis",disabled:!X}];O.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),v.select(".nv-controlsWrap").datum(m).attr("transform","translate(0,"+-L.top+")").call(O)}h.attr("transform","translate("+L.left+","+L.top+")"),H&&v.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)");var x=u.filter(function(t){return t.tempDisabled});h.select(".tempDisabled").remove(),x.length&&h.append("text").attr("class","tempDisabled").attr("x",o/2).attr("y","-.71em").style("text-anchor","end").text(x.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),G&&(B.width(o).height(s).margin({left:L.left,top:L.top}).svgContainer(i).xScale(S),h.select(".nv-interactive").call(B)),g.select(".nv-background").append("rect"),v.select(".nv-background rect").attr("width",o).attr("height",s),F.y(function(t){return t.display.y}).width(o).height(s).color(u.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var y=v.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));y.call(F),u.forEach(function(t,e){t.seriesIndex=e});var b=u.filter(function(t){return!t.disabled&&!!Q(t)}),k=v.select(".nv-avgLinesWrap").selectAll("line").data(b,function(t){return t.key}),w=function(t){var e=W(Q(t));return e<0?0:s<e?s:e};k.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return F.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",o).attr("y1",w).attr("y2",w),k.style("stroke-opacity",function(t){var e=W(Q(t));return e<0||s<e?0:1}).attr("x1",0).attr("x2",o).attr("y1",w).attr("y2",w),k.exit().remove();var M=y.selectAll(".nv-indexLine").data([J]);M.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(l),M.attr("transform",function(t){return"translate("+U(t.i)+",0)"}).attr("height",s),V&&(_.scale(S)._ticks(pt.utils.calcTicksX(o/70,u)).tickSize(-s,0),v.select(".nv-x.nv-axis").attr("transform","translate(0,"+W.range()[0]+")"),v.select(".nv-x.nv-axis").call(_)),I&&(D.scale(W)._ticks(pt.utils.calcTicksY(s/36,u)).tickSize(-o,0),v.select(".nv-y.nv-axis").call(D)),v.select(".nv-background rect").on("click",function(){J.x=d3.mouse(this)[0],J.i=Math.round(U.invert(J.x)),R.index=J.i,K.stateChange(R),r()}),F.dispatch.on("elementClick",function(t){J.i=t.pointIndex,J.x=U(J.i),R.index=J.i,K.stateChange(R),r()}),O.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,X=!t.disabled,R.rescaleY=X,K.stateChange(R),A.update()}),E.dispatch.on("stateChange",function(t){for(var e in t)R[e]=t[e];K.stateChange(R),A.update()}),B.dispatch.on("elementMousemove",function(r){F.clearHighlights();var i,a,o,s=[];if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){a=pt.interactiveBisect(t.values,r.pointXValue,A.x()),F.highlightPoint(e,a,!0);var n=t.values[a];void 0!==n&&(void 0===i&&(i=n),void 0===o&&(o=A.xScale()(A.x()(n,a))),s.push({key:t.key,value:A.y()(n,a),color:T(t,t.seriesIndex)}))}),2<s.length){var t=A.yScale().invert(r.mouseY),e=.03*Math.abs(A.yScale().domain()[0]-A.yScale().domain()[1]),n=pt.nearestValueIndex(s.map(function(t){return t.value}),t,e);null!==n&&(s[n].highlight=!0)}var l=_.tickFormat()(A.x()(i,a),a);B.tooltip.chartContainer(c.parentNode).valueFormatter(function(t){return D.tickFormat()(t)}).data({value:l,series:s})(),B.renderGuideLine(o)}),B.dispatch.on("elementMouseout",function(){F.clearHighlights()}),K.on("changeState",function(n){"undefined"!=typeof n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),R.disabled=n.disabled),"undefined"!=typeof n.index&&(J.i=n.index,J.x=U(J.i),R.index=n.index,M.data([J])),"undefined"!=typeof n.rescaleY&&(X=n.rescaleY),A.update()})}),r.renderEnd("cumulativeLineChart immediate"),A}function C(r,t){return a||(a=F.y()),t.map(function(t){if(!t.values)return t;var e=t.values[r];if(null==e)return t;var n=a(e,r);return n<-.95&&!i?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(a(t,e)-n)/(1+n)},t})),t})}var S,W,F=pt.models.line(),_=pt.models.axis(),D=pt.models.axis(),E=pt.models.legend(),O=pt.models.legend(),B=pt.interactiveGuideline(),n=pt.models.tooltip(),L={top:30,right:30,bottom:50,left:60},T=pt.utils.defaultColor(),P=null,N=null,z=!0,V=!0,I=!0,H=!1,Y=!0,G=!1,X=!0,j=F.id(),R=pt.utils.state(),Z=null,e=null,Q=function(t){return t.average},K=d3.dispatch("stateChange","changeState","renderEnd"),q=250,i=!1;R.index=0,R.rescaleY=X,_.orient("bottom").tickPadding(7),D.orient(H?"right":"left"),n.valueFormatter(function(t,e){return D.tickFormat()(t,e)}).headerFormatter(function(t,e){return _.tickFormat()(t,e)}),O.updateState(!1);var U=d3.scale.linear(),J={i:0,x:0},r=pt.utils.renderWatch(K,q),$=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:J.i,rescaleY:X}}},tt=function(t){return function(n){n.index!==undefined&&(J.i=n.index),n.rescaleY!==undefined&&(X=n.rescaleY),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};F.dispatch.on("elementMouseover.tooltip",function(t){var e={x:A.x()(t.point),y:A.y()(t.point),color:t.point.color};t.point=e,n.data(t).hidden(!1)}),F.dispatch.on("elementMouseout.tooltip",function(){n.hidden(!0)});var a=null;return A.dispatch=K,A.lines=F,A.legend=E,A.controls=O,A.xAxis=_,A.yAxis=D,A.interactiveLayer=B,A.state=R,A.tooltip=n,A.options=pt.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return P},set:function(t){P=t}},height:{get:function(){return N},set:function(t){N=t}},rescaleY:{get:function(){return X},set:function(t){X=t}},showControls:{get:function(){return Y},set:function(t){Y=t}},showLegend:{get:function(){return z},set:function(t){z=t}},average:{get:function(){return Q},set:function(t){Q=t}},defaultState:{get:function(){return Z},set:function(t){Z=t}},noData:{get:function(){return e},set:function(t){e=t}},showXAxis:{get:function(){return V},set:function(t){V=t}},showYAxis:{get:function(){return I},set:function(t){I=t}},noErrorCheck:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return L},set:function(t){L.top=t.top!==undefined?t.top:L.top,L.right=t.right!==undefined?t.right:L.right,L.bottom=t.bottom!==undefined?t.bottom:L.bottom,L.left=t.left!==undefined?t.left:L.left}},color:{get:function(){return T},set:function(t){T=pt.utils.getColor(t),E.color(T)}},useInteractiveGuideline:{get:function(){return G},set:function(t){!0===(G=t)&&(A.interactive(!1),A.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return H},set:function(t){H=t,D.orient(t?"right":"left")}},duration:{get:function(){return q},set:function(t){q=t,F.duration(q),_.duration(q),D.duration(q),r.reset(q)}}}),pt.utils.inheritOptions(A,F),pt.utils.initOptions(A),A},pt.models.discreteBar=function(){"use strict";function e(t){return _.reset(),t.each(function(t){var e=m-v.left-v.right,n=x-v.top-v.bottom;u=d3.select(this),pt.utils.initSVG(u),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var r=c&&d?[]:t.map(function(t){return t.values.map(function(t,e){return{x:k(t,e),y:w(t,e),y0:t.y0}})});y.domain(c||d3.merge(r).map(function(t){return t.x})).rangeBands(f||[0,e],.1),b.domain(d||d3.extent(d3.merge(r).map(function(t){return t.y}).concat(M))),C?b.range(p||[n-(b.domain()[0]<0?12:0),0<b.domain()[1]?12:0]):b.range(p||[n,0]),h=h||y,g=g||b.copy().range([b(0),b(0)]);var i=u.selectAll("g.nv-wrap.nv-discretebar").data([t]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");i.select("g");a.append("g").attr("class","nv-groups"),i.attr("transform","translate("+v.left+","+v.top+")");var o=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});o.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),o.exit().watchTransition(_,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),o.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),o.watchTransition(_,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var s=o.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var l=s.enter().append("g").attr("transform",function(t,e){return"translate("+(y(k(t,e))+.05*y.rangeBand())+", "+b(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),W.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),W.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){W.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){W.elementClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(t,e){W.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});l.append("rect").attr("height",0).attr("width",.9*y.rangeBand()/t.length),C?(l.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return S(w(t,e))}).watchTransition(_,"discreteBar: bars text").attr("x",.9*y.rangeBand()/2).attr("y",function(t,e){return w(t,e)<0?b(w(t,e))-b(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return w(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||A(t,e)}).style("stroke",function(t,e){return t.color||A(t,e)}).select("rect").attr("class",F).watchTransition(_,"discreteBar: bars rect").attr("width",.9*y.rangeBand()/t.length),s.watchTransition(_,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(y(k(t,e))+.05*y.rangeBand())+", "+(w(t,e)<0?b(0):b(0)-b(w(t,e))<1?b(0)-1:b(w(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(b(w(t,e))-b(d&&d[0]||0))||1)}),h=y.copy(),g=b.copy()}),_.renderEnd("discreteBar immediate"),e}var u,c,d,f,p,h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,n=Math.floor(1e4*Math.random()),y=d3.scale.ordinal(),b=d3.scale.linear(),k=function(t){return t.x},w=function(t){return t.y},M=[0],A=pt.utils.defaultColor(),C=!1,S=d3.format(",.2f"),W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F="discreteBar",r=250,_=pt.utils.renderWatch(W,r);return e.dispatch=W,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},forceY:{get:function(){return M},set:function(t){M=t}},showValues:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return k},set:function(t){k=t}},y:{get:function(){return w},set:function(t){w=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return b},set:function(t){b=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return n},set:function(t){n=t}},rectClass:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},color:{get:function(){return A},set:function(t){A=pt.utils.getColor(t)}},duration:{get:function(){return r},set:function(t){r=t,_.reset(r)}}}),pt.utils.initOptions(e),e},pt.models.discreteBarChart=function(){"use strict";function u(t){return i.reset(),i.models(f),x&&i.models(p),y&&i.models(h),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=pt.utils.availableWidth(v,e,g),r=pt.utils.availableHeight(m,e,g);if(u.update=function(){A.beforeUpdate(),e.transition().duration(C).call(u)},u.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return pt.utils.noData(u,e),u;e.selectAll(".nv-noData").remove(),c=f.xScale(),d=f.yScale().clamp(!0);var i=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),o=a.append("defs"),s=i.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),s.attr("transform","translate("+g.left+","+g.top+")"),b&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),f.width(n).height(r),s.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(f),o.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),s.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",c.rangeBand()*(k?2:1)).attr("height",16).attr("x",-c.rangeBand()/(k?1:2)),x){p.scale(c)._ticks(pt.utils.calcTicksX(n/100,t)).tickSize(-r,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+(d.range()[0]+(f.showValues()&&d.domain()[0]<0?16:0))+")"),s.select(".nv-x.nv-axis").call(p);var l=s.select(".nv-x.nv-axis").selectAll("g");k&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),M&&l.selectAll(".tick text").attr("transform","rotate("+M+" 0,0)").style("text-anchor",0<M?"start":"end"),w&&s.selectAll(".tick text").call(pt.utils.wrapTicks,u.xAxis.rangeBand())}y&&(h.scale(d)._ticks(pt.utils.calcTicksY(r/36,t)).tickSize(-n,0),s.select(".nv-y.nv-axis").call(h)),s.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",d(0)).attr("y2",d(0))}),i.renderEnd("discreteBar chart immediate"),u}var c,d,f=pt.models.discreteBar(),p=pt.models.axis(),h=pt.models.axis(),e=pt.models.tooltip(),g={top:15,right:10,bottom:50,left:60},v=null,m=null,n=pt.utils.getColor(),x=!0,y=!0,b=!1,k=!1,w=!1,M=0,r=null,A=d3.dispatch("beforeUpdate","renderEnd"),C=250;p.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),h.orient(b?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return h.tickFormat()(t,e)}).keyFormatter(function(t,e){return p.tickFormat()(t,e)});var i=pt.utils.renderWatch(A,C);return f.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:u.x()(t.data),value:u.y()(t.data),color:t.color},e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){e()}),u.dispatch=A,u.discretebar=f,u.xAxis=p,u.yAxis=h,u.tooltip=e,u.options=pt.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return w},set:function(t){w=!!t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},noData:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return g},set:function(t){g.top=t.top!==undefined?t.top:g.top,g.right=t.right!==undefined?t.right:g.right,g.bottom=t.bottom!==undefined?t.bottom:g.bottom,g.left=t.left!==undefined?t.left:g.left}},duration:{get:function(){return C},set:function(t){C=t,i.reset(C),f.duration(C),p.duration(C),h.duration(C)}},color:{get:function(){return n},set:function(t){n=pt.utils.getColor(t),f.color(n)}},rightAlignYAxis:{get:function(){
return b},set:function(t){b=t,h.orient(t?"right":"left")}}}),pt.utils.inheritOptions(u,f),pt.utils.initOptions(u),u},pt.models.distribution=function(){"use strict";function e(t){return h.reset(),t.each(function(t){"x"===c?(l.left,l.right):(l.top,l.bottom);var e="x"==c?"y":"x",n=d3.select(this);pt.utils.initSVG(n),s=s||p;var r=n.selectAll("g.nv-distribution").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),r.select("g"));r.attr("transform","translate("+l.left+","+l.top+")");var a=i.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});a.enter().append("g"),a.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return f(t,e)});var o=a.selectAll("line.nv-dist"+c).data(function(t){return t.values});o.enter().append("line").attr(c+"1",function(t,e){return s(d(t,e))}).attr(c+"2",function(t,e){return s(d(t,e))}),h.transition(a.exit().selectAll("line.nv-dist"+c),"dist exit").attr(c+"1",function(t,e){return p(d(t,e))}).attr(c+"2",function(t,e){return p(d(t,e))}).style("stroke-opacity",0).remove(),o.attr("class",function(t,e){return"nv-dist"+c+" nv-dist"+c+"-"+e}).attr(e+"1",0).attr(e+"2",u),h.transition(o,"dist").attr(c+"1",function(t,e){return p(d(t,e))}).attr(c+"2",function(t,e){return p(d(t,e))}),s=p.copy()}),h.renderEnd("distribution immediate"),e}var s,l={top:0,right:0,bottom:0,left:0},n=400,u=8,c="x",d=function(t){return t[c]},f=pt.utils.defaultColor(),p=d3.scale.linear(),r=250,t=d3.dispatch("renderEnd"),h=pt.utils.renderWatch(t,r);return e.options=pt.utils.optionsFunc.bind(e),e.dispatch=t,e.margin=function(t){return arguments.length?(l.top="undefined"!=typeof t.top?t.top:l.top,l.right="undefined"!=typeof t.right?t.right:l.right,l.bottom="undefined"!=typeof t.bottom?t.bottom:l.bottom,l.left="undefined"!=typeof t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(n=t,e):n},e.axis=function(t){return arguments.length?(c=t,e):c},e.size=function(t){return arguments.length?(u=t,e):u},e.getData=function(t){return arguments.length?(d=d3.functor(t),e):d},e.scale=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(f=pt.utils.getColor(t),e):f},e.duration=function(t){return arguments.length?(r=t,h.reset(r),e):r},e},pt.models.furiousLegend=function(){"use strict";function e(t){function w(t,e){return"furious"!=N?"#000":T?t.disengaged?F(t,e):"#fff":T?void 0:t.disabled?F(t,e):"#fff"}function M(t,e){return T&&"furious"==N?t.disengaged?"#fff":F(t,e):t.disabled?"#fff":F(t,e)}return t.each(function(t){var e=C-A.left-A.right,n=d3.select(this);pt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),r.select("g"));r.attr("transform","translate("+A.left+","+A.top+")");var a,o=i.selectAll(".nv-series").data(function(t){return"furious"!=N?t:t.filter(function(t){return!!T||!t.disengaged})}),s=o.enter().append("g").attr("class","nv-series");if("classic"==N)s.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a=o.select("circle");else if("furious"==N){s.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),a=o.select("rect"),s.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),o.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",w(t,e))})}s.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var l,u=o.select("text.nv-legend-text");switch(o.on("mouseover",function(t,e){P.legendMouseover(t,e)}).on("mouseout",function(t,e){P.legendMouseout(t,e)}).on("click",function(t,e){P.legendClick(t,e);var n=o.data();if(B){if("classic"==N)L?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==N)if(T)t.disengaged=!t.disengaged,t.userDisabled=t.userDisabled==undefined?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!T){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}P.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=N||!T)&&(P.legendDblclick(t,e),B)){var n=o.data();n.forEach(function(t){t.disabled=!0,"furious"==N&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==N&&(t.userDisabled=t.disabled),P.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),o.classed("nv-disabled",function(t){return t.userDisabled}),o.exit().remove(),u.attr("fill",w).text(W),N){case"furious":l=23;break;case"classic":l=20}if(D){var c=[];o.each(function(t){var e,n;if(W(t).length>_){var r=W(t).substring(0,_);e=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(W(t))}else e=d3.select(this).select("text");try{if((n=e.node().getComputedTextLength())<=0)throw Error()}catch(i){n=pt.utils.calcApproxTextWidth(e)}c.push(n+E)});for(var d=0,f=0,p=[];f<e&&d<c.length;)p[d]=c[d],f+=c[d++];for(0===d&&(d=1);e<f&&1<d;){p=[],d--;for(var h=0;h<c.length;h++)c[h]>(p[h%d]||0)&&(p[h%d]=c[h]);f=p.reduce(function(t,e){return t+e})}for(var g=[],v=0,m=0;v<d;v++)g[v]=m,m+=p[v];o.attr("transform",function(t,e){return"translate("+g[e%d]+","+(5+Math.floor(e/d)*l)+")"}),O?i.attr("transform","translate("+(C-A.right-f)+","+A.top+")"):i.attr("transform","translate(0,"+A.top+")"),S=A.top+A.bottom+Math.ceil(c.length/d)*l}else{var x,y=5,b=5,k=0;o.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+E;return x=b,C<A.left+A.right+x+t&&(b=x=5,y+=l),k<(b+=t)&&(k=b),"translate("+x+","+y+")"}),i.attr("transform","translate("+(C-A.right-k)+","+A.top+")"),S=A.top+A.bottom+y+15}"furious"==N&&a.attr("width",function(t,e){return u[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),a.style("fill",M).style("stroke",function(t,e){return t.color||F(t,e)})}),e}var A={top:5,right:0,bottom:5,left:0},C=400,S=20,W=function(t){return t.key},F=pt.utils.getColor(),_=20,D=!0,E=28,O=!0,B=!0,L=!1,T=!1,P=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),N="classic";return e.dispatch=P,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return S},set:function(t){S=t}},key:{get:function(){return W},set:function(t){W=t}},align:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return O},set:function(t){O=t}},maxKeyLength:{get:function(){return _},set:function(t){_=t}},padding:{get:function(){return E},set:function(t){E=t}},updateState:{get:function(){return B},set:function(t){B=t}},radioButtonMode:{get:function(){return L},set:function(t){L=t}},expanded:{get:function(){return T},set:function(t){T=t}},vers:{get:function(){return N},set:function(t){N=t}},margin:{get:function(){return A},set:function(t){A.top=t.top!==undefined?t.top:A.top,A.right=t.right!==undefined?t.right:A.right,A.bottom=t.bottom!==undefined?t.bottom:A.bottom,A.left=t.left!==undefined?t.left:A.left}},color:{get:function(){return F},set:function(t){F=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.historicalBar=function(){"use strict";function e(t){return t.each(function(n){_.reset(),m=d3.select(this);var r=pt.utils.availableWidth(h,m,p),t=pt.utils.availableHeight(g,m,p);pt.utils.initSVG(m),x.domain(u||d3.extent(n[0].values.map(b).concat(w))),A?x.range(d||[.5*r/n[0].values.length,r*(n[0].values.length-.5)/n[0].values.length]):x.range(d||[0,r]),y.domain(c||d3.extent(n[0].values.map(k).concat(M))).range(f||[t,0]),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]):x.domain([-1,1])),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]+.01*y.domain()[0],y.domain()[1]-.01*y.domain()[1]]):y.domain([-1,1]));var e=m.selectAll("g.nv-wrap.nv-historicalBar-"+v).data([n[0].values]),i=e.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+v),a=i.append("defs"),o=i.append("g"),s=e.select("g");o.append("g").attr("class","nv-bars"),e.attr("transform","translate("+p.left+","+p.top+")"),m.on("click",function(t,e){W.chartClick({data:t,index:e,pos:d3.event,id:v})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect"),e.select("#nv-chart-clip-path-"+v+" rect").attr("width",r).attr("height",t),s.attr("clip-path",C?"url(#nv-chart-clip-path-"+v+")":"");var l=e.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return b(t,e)});l.exit().remove(),l.enter().append("rect").attr("x",0).attr("y",function(t,e){return pt.utils.NaNtoZero(y(Math.max(0,k(t,e))))}).attr("height",function(t,e){return pt.utils.NaNtoZero(Math.abs(y(k(t,e))-y(0)))}).attr("transform",function(t,e){return"translate("+(x(b(t,e))-r/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){F&&(d3.select(this).classed("hover",!0),W.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){F&&(d3.select(this).classed("hover",!1),W.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){F&&W.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){F&&(W.elementClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(t,e){F&&(W.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),l.attr("fill",function(t,e){return S(t,e)}).attr("class",function(t,e,n){return(k(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(_,"bars").attr("transform",function(t,e){return"translate("+(x(b(t,e))-r/n[0].values.length*.45)+",0)"}).attr("width",r/n[0].values.length*.9),l.watchTransition(_,"bars").attr("y",function(t,e){var n=k(t,e)<0?y(0):y(0)-y(k(t,e))<1?y(0)-1:y(k(t,e));return pt.utils.NaNtoZero(n)}).attr("height",function(t,e){return pt.utils.NaNtoZero(Math.max(Math.abs(y(k(t,e))-y(0)),1))})}),_.renderEnd("historicalBar immediate"),e}var u,c,d,f,p={top:0,right:0,bottom:0,left:0},h=null,g=null,v=Math.floor(1e4*Math.random()),m=null,x=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=[],M=[0],A=!1,C=!0,S=pt.utils.defaultColor(),W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=!0,_=pt.utils.renderWatch(W,0);return e.highlightPoint=function(t,e){m.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){m.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=W,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return w},set:function(t){w=t}},forceY:{get:function(){return M},set:function(t){M=t}},padData:{get:function(){return A},set:function(t){A=t}},x:{get:function(){return b},set:function(t){b=t}},y:{get:function(){return k},set:function(t){k=t}},xScale:{get:function(){return x},set:function(t){x=t}},yScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return u},set:function(t){u=t}},yDomain:{get:function(){return c},set:function(t){c=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return f},set:function(t){f=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},id:{get:function(){return v},set:function(t){v=t}},interactive:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return p},set:function(t){p.top=t.top!==undefined?t.top:p.top,p.right=t.right!==undefined?t.right:p.right,p.bottom=t.bottom!==undefined?t.bottom:p.bottom,p.left=t.left!==undefined?t.left:p.left}},color:{get:function(){return S},set:function(t){S=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.historicalBarChart=function(t){"use strict";function c(u){return u.each(function(s){E.reset(),E.models(p),M&&E.models(h),A&&E.models(g);var t=d3.select(this),e=this;pt.utils.initSVG(t);var n,r=pt.utils.availableWidth(b,t,x),i=pt.utils.availableHeight(k,t,x);if(c.update=function(){t.transition().duration(D).call(c)},c.container=this,W.disabled=s.map(function(t){return!!t.disabled}),!F)for(n in F={},W)W[n]instanceof Array?F[n]=W[n].slice(0):F[n]=W[n];if(!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return pt.utils.noData(c,t),c;t.selectAll(".nv-noData").remove(),d=p.xScale(),f=p.yScale();var a=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([s]),o=a.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),l=a.select("g");o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-interactive"),w&&(v.width(r),l.select(".nv-legendWrap").datum(s).call(v),x.top!=v.height()&&(x.top=v.height(),i=pt.utils.availableHeight(k,t,x)),a.select(".nv-legendWrap").attr("transform","translate(0,"+-x.top+")")),a.attr("transform","translate("+x.left+","+x.top+")"),C&&l.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),S&&(m.width(r).height(i).margin({left:x.left,top:x.top}).svgContainer(t).xScale(d),a.select(".nv-interactive").call(m)),p.width(r).height(i).color(s.map(function(t,e){return t.color||y(t,e)}).filter(function(t,e){return!s[e].disabled})),l.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled})).transition().call(p),M&&(h.scale(d)._ticks(pt.utils.calcTicksX(r/100,s)).tickSize(-i,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),l.select(".nv-x.nv-axis").transition().call(h)),A&&(g.scale(f)._ticks(pt.utils.calcTicksY(i/36,s)).tickSize(-r,0),l.select(".nv-y.nv-axis").transition().call(g)),m.dispatch.on("elementMousemove",function(n){p.clearHighlights();var r,i,a,o=[];s.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){i=pt.interactiveBisect(t.values,n.pointXValue,c.x()),p.highlightPoint(i,!0);var e=t.values[i];e!==undefined&&(r===undefined&&(r=e),a===undefined&&(a=c.xScale()(c.x()(e,i))),o.push({key:t.key,value:c.y()(e,i),color:y(t,t.seriesIndex),data:t.values[i]}))});var t=h.tickFormat()(c.x()(r,i));m.tooltip.chartContainer(e.parentNode).valueFormatter(function(t){return g.tickFormat()(t)}).data({value:t,index:i,series:o})(),m.renderGuideLine(a)}),m.dispatch.on("elementMouseout",function(){_.tooltipHide(),p.clearHighlights()}),v.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,s.filter(function(t){return!t.disabled}).length||s.map(function(t){return t.disabled=!1,a.selectAll(".nv-series").classed("disabled",!1),t}),W.disabled=s.map(function(t){return!!t.disabled}),_.stateChange(W),u.transition().call(c)}),v.dispatch.on("legendDblclick",function(t){s.forEach(function(t){t.disabled=!0}),t.disabled=!1,W.disabled=s.map(function(t){return!!t.disabled}),_.stateChange(W),c.update()}),_.on("changeState",function(n){"undefined"!=typeof n.disabled&&(s.forEach(function(t,e){t.disabled=n.disabled[e]}),W.disabled=n.disabled),c.update()})}),E.renderEnd("historicalBarChart immediate"),c}var d,f,p=t||pt.models.historicalBar(),h=pt.models.axis(),g=pt.models.axis(),v=pt.models.legend(),m=pt.interactiveGuideline(),e=pt.models.tooltip(),x={top:30,right:90,bottom:50,left:90},y=pt.utils.defaultColor(),b=null,k=null,w=!1,M=!0,A=!0,C=!1,S=!1,W={},F=null,n=null,_=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),D=250;h.orient("bottom").tickPadding(7),g.orient(C?"right":"left"),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return g.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)});var E=pt.utils.renderWatch(_,0);return p.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(){e()}),c.dispatch=_,c.bars=p,c.legend=v,c.xAxis=h,c.yAxis=g,c.interactiveLayer=m,c.tooltip=e,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return k},set:function(t){k=t}},showLegend:{get:function(){return w},set:function(t){w=t}},showXAxis:{get:function(){return M},set:function(t){M=t}},showYAxis:{get:function(){return A},set:function(t){A=t}},defaultState:{get:function(){return F},set:function(t){F=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return x},set:function(t){x.top=t.top!==undefined?t.top:x.top,x.right=t.right!==undefined?t.right:x.right,x.bottom=t.bottom!==undefined?t.bottom:x.bottom,x.left=t.left!==undefined?t.left:x.left}},color:{get:function(){return y},set:function(t){y=pt.utils.getColor(t),v.color(y),p.color(y)}},duration:{get:function(){return D},set:function(t){D=t,E.reset(D),g.duration(D),h.duration(D)}},rightAlignYAxis:{get:function(){return C},set:function(t){C=t,g.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return S},set:function(t){!0===(S=t)&&c.interactive(!1)}}}),pt.utils.inheritOptions(c,p),pt.utils.initOptions(c),c},pt.models.ohlcBarChart=function(){var n=pt.models.historicalBarChart(pt.models.ohlcBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},pt.models.candlestickBarChart=function(){var n=pt.models.historicalBarChart(pt.models.candlestickBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},pt.models.legend=function(){"use strict";function e(t){function M(t,e){return"furious"!=z?"#000":P?t.disengaged?"#000":"#fff":P?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function A(t,e){return P&&"furious"==z&&t.disengaged?"#eee":t.color||n(t,e)}function C(t){return P&&"furious"==z?1:t.disabled?0:1}return t.each(function(t){var e=W-S.left-S.right,n=d3.select(this);pt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),a=r.select("g");r.attr("transform","translate("+S.left+","+S.top+")");var o,s,l=a.selectAll(".nv-series").data(function(t){return"furious"!=z?t:t.filter(function(t){return!!P||!t.disengaged})}),u=l.enter().append("g").attr("class","nv-series");switch(z){case"furious":s=23;break;case"classic":s=20}if("classic"==z)u.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),o=l.select("circle");else if("furious"==z){u.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),o=l.select(".nv-legend-symbol"),u.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),l.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",M(t,e))})}u.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var c=l.select("text.nv-legend-text");l.on("mouseover",function(t,e){N.legendMouseover(t,e)}).on("mouseout",function(t,e){N.legendMouseout(t,e)}).on("click",function(t,e){N.legendClick(t,e);var n=l.data();if(L){if("classic"==z)T?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==z)if(P)t.disengaged=!t.disengaged,t.userDisabled=t.userDisabled==undefined?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!P){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}N.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=z||!P)&&(N.legendDblclick(t,e),L)){var n=l.data();n.forEach(function(t){t.disabled=!0,"furious"==z&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==z&&(t.userDisabled=t.disabled),N.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),l.classed("nv-disabled",function(t){return t.userDisabled}),l.exit().remove(),c.attr("fill",M).text(_);var d=0;if(E){var f=[];l.each(function(t){var e,n;if(_(t).length>D){var r=_(t).substring(0,D);e=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(_(t))}else e=d3.select(this).select("text");try{if((n=e.node().getComputedTextLength())<=0)throw Error()}catch(i){n=pt.utils.calcApproxTextWidth(e)}f.push(n+O)});var p=0,h=[];for(d=0;d<e&&p<f.length;)h[p]=f[p],d+=f[p++];for(0===p&&(p=1);e<d&&1<p;){h=[],p--;for(var g=0;g<f.length;g++)f[g]>(h[g%p]||0)&&(h[g%p]=f[g]);d=h.reduce(function(t,e){return t+e})}for(var v=[],m=0,x=0;m<p;m++)v[m]=x,x+=h[m];l.attr("transform",function(t,e){return"translate("+v[e%p]+","+(5+Math.floor(e/p)*s)+")"}),B?a.attr("transform","translate("+(W-S.right-d)+","+S.top+")"):a.attr("transform","translate(0,"+S.top+")"),F=S.top+S.bottom+Math.ceil(f.length/p)*s}else{var y,b=5,k=5,w=0;l.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+O;return y=k,W<S.left+S.right+y+t&&(k=y=5,b+=s),w<(k+=t)&&(w=k),d<y+w&&(d=y+w),"translate("+y+","+b+")"}),a.attr("transform","translate("+(W-S.right-w)+","+S.top+")"),F=S.top+S.bottom+b+15}"furious"==z&&(o.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),i.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),a.select(".nv-legend-bg").transition().duration(300).attr("x",-s).attr("width",d+s-12).attr("height",F+10).attr("y",-S.top-10).attr("opacity",P?1:0));o.style("fill",A).style("fill-opacity",C).style("stroke",A)}),e}var S={top:5,right:0,bottom:5,left:0},W=400,F=20,_=function(t){return t.key},n=pt.utils.getColor(),D=20,E=!0,O=32,B=!0,L=!0,T=!1,P=!1,N=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),z="classic";return e.dispatch=N,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return W},set:function(t){W=t}},height:{get:function(){return F},set:function(t){F=t}},key:{get:function(){return _},set:function(t){_=t}},align:{get:function(){return E},set:function(t){E=t}},maxKeyLength:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return B},set:function(t){B=t}},padding:{get:function(){return O},set:function(t){O=t}},updateState:{get:function(){return L},set:function(t){L=t}},radioButtonMode:{get:function(){return T},set:function(t){T=t}},expanded:{get:function(){return P},set:function(t){P=t}},vers:{get:function(){return z},set:function(t){z=t}},margin:{get:function(){return S},set:function(t){S.top=t.top!==undefined?t.top:S.top,S.right=t.right!==undefined?t.right:S.right,S.bottom=t.bottom!==undefined?t.bottom:S.bottom,S.left=t.left!==undefined?t.left:S.left}},color:{get:function(){return n},set:function(t){n=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.line=function(){"use strict";function e(t){return _.reset(),_.models(h),t.each(function(t){x=d3.select(this);var e=pt.utils.availableWidth(v,x,g),n=pt.utils.availableHeight(m,x,g);pt.utils.initSVG(x),f=h.xScale(),p=h.yScale(),W=W||f,F=F||p;var r=x.selectAll("g.nv-wrap.nv-line").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),a=i.append("defs"),o=i.append("g"),s=r.select("g");o.append("g").attr("class","nv-groups"),o.append("g").attr("class","nv-scatterWrap"),r.attr("transform","translate("+g.left+","+g.top+")"),h.width(e).height(n);var l=r.select(".nv-scatterWrap");l.call(h),a.append("clipPath").attr("id","nv-edge-clip-"+h.id()).append("rect"),r.select("#nv-edge-clip-"+h.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",C?"url(#nv-edge-clip-"+h.id()+")":""),l.attr("clip-path",C?"url(#nv-edge-clip-"+h.id()+")":"");var u=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});u.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||y}).style("fill-opacity",1e-6),u.exit().remove(),u.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return b(t,e)}).style("stroke",function(t,e){return b(t,e)}),u.watchTransition(_,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var c=u.selectAll("path.nv-area").data(function(t){return A(t)?[t]:[]});c.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(S).defined(M).x(function(t,e){return pt.utils.NaNtoZero(W(k(t,e)))}).y0(function(t,e){return pt.utils.NaNtoZero(F(w(t,e)))}).y1(function(){return F(p.domain()[0]<=0?0<=p.domain()[1]?0:p.domain()[1]:p.domain()[0])}).apply(this,[t.values])}),u.exit().selectAll("path.nv-area").remove(),c.watchTransition(_,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(S).defined(M).x(function(t,e){return pt.utils.NaNtoZero(f(k(t,e)))}).y0(function(t,e){return pt.utils.NaNtoZero(p(w(t,e)))}).y1(function(){return p(p.domain()[0]<=0?0<=p.domain()[1]?0:p.domain()[1]:p.domain()[0])}).apply(this,[t.values])});var d=u.selectAll("path.nv-line").data(function(t){return[t.values]});d.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(S).defined(M).x(function(t,e){return pt.utils.NaNtoZero(W(k(t,e)))}).y(function(t,e){return pt.utils.NaNtoZero(F(w(t,e)))})),d.watchTransition(_,"line: linePaths").attr("d",d3.svg.line().interpolate(S).defined(M).x(function(t,e){return pt.utils.NaNtoZero(f(k(t,e)))}).y(function(t,e){return pt.utils.NaNtoZero(p(w(t,e)))})),W=f.copy(),F=p.copy()}),_.renderEnd("line immediate"),e}var f,p,h=pt.models.scatter(),g={top:0,right:0,bottom:0,left:0},v=960,m=500,x=null,y=1.5,b=pt.utils.defaultColor(),k=function(t){return t.x},w=function(t){return t.y},M=function(t,e){return!isNaN(w(t,e))&&null!==w(t,e)},A=function(t){return t.area},C=!1,S="linear",n=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");h.pointSize(16).pointDomain([16,256]);var W,F,_=pt.utils.renderWatch(t,n);return e.dispatch=t,(e.scatter=h).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),h.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),h.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},defined:{get:function(){return M},set:function(t){M=t}},interpolate:{get:function(){return S},set:function(t){S=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return g},set:function(t){g.top=t.top!==undefined?t.top:g.top,g.right=t.right!==undefined?t.right:g.right,g.bottom=t.bottom!==undefined?t.bottom:g.bottom,g.left=t.left!==undefined?t.left:g.left}},duration:{get:function(){return n},set:function(t){n=t,_.reset(n),h.duration(n)}},isArea:{get:function(){return A},set:function(t){A=d3.functor(t)}},x:{get:function(){return k},set:function(t){k=t,h.x(t)}},y:{get:function(){return w},set:function(t){w=t,h.y(t)}},color:{get:function(){return b},set:function(t){b=pt.utils.getColor(t),h.color(b)}}}),pt.utils.inheritOptions(e,h),pt.utils.initOptions(e),e},pt.models.lineChart=function(){"use strict";function d(t){return r.reset(),r.models(f),w&&r.models(p),M&&r.models(h),t.each(function(u){var t=d3.select(this),c=this;pt.utils.initSVG(t);var e,n=pt.utils.availableWidth(y,t,m),r=pt.utils.availableHeight(b,t,m);if(d.update=function(){0===_?t.call(d):t.transition().duration(_).call(d)},d.container=this,S.setter(E(u),d.update).getter(D(u)).update(),S.disabled=u.map(function(t){return!!t.disabled}),!W)for(e in W={},S)S[e]instanceof Array?W[e]=S[e].slice(0):W[e]=S[e];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return pt.utils.noData(d,t),d;t.selectAll(".nv-noData").remove(),s=f.xScale(),l=f.yScale();var i=t.selectAll("g.nv-wrap.nv-lineChart").data([u]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),o=i.select("g");a.append("rect").style("opacity",0),a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis"),a.append("g").attr("class","nv-linesWrap"),a.append("g").attr("class","nv-legendWrap"),a.append("g").attr("class","nv-interactive"),o.select("rect").attr("width",n).attr("height",0<r?r:0),k&&(g.width(n),o.select(".nv-legendWrap").datum(u).call(g),m.top!=g.height()&&(m.top=g.height(),r=pt.utils.availableHeight(b,t,m)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),i.attr("transform","translate("+m.left+","+m.top+")"),A&&o.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),C&&(v.width(n).height(r).margin({left:m.left,top:m.top}).svgContainer(t).xScale(s),i.select(".nv-interactive").call(v)),f.width(n).height(r).color(u.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!u[e].disabled})),o.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled})).call(f),w&&(p.scale(s)._ticks(pt.utils.calcTicksX(n/100,u)).tickSize(-r,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),o.select(".nv-x.nv-axis").call(p)),M&&(h.scale(l)._ticks(pt.utils.calcTicksY(r/36,u)).tickSize(-n,0),o.select(".nv-y.nv-axis").call(h)),g.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];F.stateChange(S),d.update()}),v.dispatch.on("elementMousemove",function(i){f.clearHighlights();var a,o,s,l=[];if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=pt.interactiveBisect(t.values,i.pointXValue,d.x());var n=t.values[o],r=d.y()(n,o);null!=r&&f.highlightPoint(e,o,!0),n!==undefined&&(a===undefined&&(a=n),s===undefined&&(s=d.xScale()(d.x()(n,o))),l.push({key:t.key,value:r,color:x(t,t.seriesIndex)}))}),2<l.length){var t=d.yScale().invert(i.mouseY),e=.03*Math.abs(d.yScale().domain()[0]-d.yScale().domain()[1]),n=pt.nearestValueIndex(l.map(function(t){return t.value}),t,e);null!==n&&(l[n].highlight=!0)}var r=p.tickFormat()(d.x()(a,o));v.tooltip.chartContainer(c.parentNode).valueFormatter(function(t){return null==t?"N/A":h.tickFormat()(t)}).data({value:r,index:o,series:l})(),v.renderGuideLine(s)}),v.dispatch.on("elementClick",function(i){var a,o=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=pt.interactiveBisect(t.values,i.pointXValue,d.x()),n=t.values[e];if(void 0!==n){void 0===a&&(a=d.xScale()(d.x()(n,e)));var r=d.yScale()(d.y()(n,e));o.push({point:n,pointIndex:e,pos:[a,r],seriesIndex:t.seriesIndex,series:t})}}),f.dispatch.elementClick(o)}),v.dispatch.on("elementMouseout",function(){f.clearHighlights()}),F.on("changeState",function(n){"undefined"!=typeof n.disabled&&u.length===n.disabled.length&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),S.disabled=n.disabled),
d.update()})}),r.renderEnd("lineChart immediate"),d}var s,l,f=pt.models.line(),p=pt.models.axis(),h=pt.models.axis(),g=pt.models.legend(),v=pt.interactiveGuideline(),e=pt.models.tooltip(),m={top:30,right:20,bottom:50,left:60},x=pt.utils.defaultColor(),y=null,b=null,k=!0,w=!0,M=!0,A=!1,C=!1,S=pt.utils.state(),W=null,n=null,F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),_=250;p.orient("bottom").tickPadding(7),h.orient(A?"right":"left"),e.valueFormatter(function(t,e){return h.tickFormat()(t,e)}).headerFormatter(function(t,e){return p.tickFormat()(t,e)});var r=pt.utils.renderWatch(F,_),D=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},E=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return f.dispatch.on("elementMouseover.tooltip",function(t){e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch=F,d.lines=f,d.legend=g,d.xAxis=p,d.yAxis=h,d.interactiveLayer=v,d.tooltip=e,d.dispatch=F,d.options=pt.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return M},set:function(t){M=t}},defaultState:{get:function(){return W},set:function(t){W=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return _},set:function(t){_=t,r.reset(_),f.duration(_),p.duration(_),h.duration(_)}},color:{get:function(){return x},set:function(t){x=pt.utils.getColor(t),g.color(x),f.color(x)}},rightAlignYAxis:{get:function(){return A},set:function(t){A=t,h.orient(A?"right":"left")}},useInteractiveGuideline:{get:function(){return C},set:function(t){(C=t)&&(f.interactive(!1),f.useVoronoi(!1))}}}),pt.utils.inheritOptions(d,f),pt.utils.initOptions(d),d},pt.models.linePlusBarChart=function(){"use strict";function C(t){return t.each(function(r){function t(t){var e=+("e"==t),n=e?1:-1,r=l/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function n(){X.empty()||X.extent(rt),w.data([X.empty()?F.domain():rt]).each(function(t){var e=F(t[0])-F.range()[0],n=F.range()[1]-F(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",F(t[1])).attr("width",n<0?0:n)})}function e(){rt=X.empty()?null:X.extent(),S=X.empty()?F.domain():X.extent(),it.brush({extent:S,brush:X}),n(),T.width(o).height(s).color(r.map(function(t,e){return t.color||U(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar})),B.width(o).height(s).color(r.map(function(t,e){return t.color||U(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar}));var t=g.select(".nv-focus .nv-barsWrap").datum(u.length?u.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return T.x()(t,e)>=S[0]&&T.x()(t,e)<=S[1]})}}):[{values:[]}]),e=g.select(".nv-focus .nv-linesWrap").datum(ft(c)?[{values:[]}]:c.filter(function(t){return!t.disabled}).map(function(t){return{area:t.area,fillOpacity:t.fillOpacity,key:t.key,values:t.values.filter(function(t,e){return B.x()(t,e)>=S[0]&&B.x()(t,e)<=S[1]})}}));W=u.length?T.xScale():B.xScale(),N.scale(W)._ticks(pt.utils.calcTicksX(o/100,r)).tickSize(-s,0),N.domain([Math.ceil(S[0]),Math.floor(S[1])]),g.select(".nv-x.nv-axis").transition().duration(at).call(N),t.transition().duration(at).call(T),e.transition().duration(at).call(B),g.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+_.range()[0]+")"),V.scale(_)._ticks(pt.utils.calcTicksY(s/36,r)).tickSize(-o,0),I.scale(D)._ticks(pt.utils.calcTicksY(s/36,r)).tickSize(u.length?0:-o,0),g.select(".nv-focus .nv-y1.nv-axis").style("opacity",u.length?1:0),g.select(".nv-focus .nv-y2.nv-axis").style("opacity",c.length&&!ft(c)?1:0).attr("transform","translate("+W.range()[1]+",0)"),g.select(".nv-focus .nv-y1.nv-axis").transition().duration(at).call(V),g.select(".nv-focus .nv-y2.nv-axis").transition().duration(at).call(I)}var i=d3.select(this);pt.utils.initSVG(i);var a,o=pt.utils.availableWidth(Z,i,j),s=pt.utils.availableHeight(Q,i,j)-($?nt:0),l=nt-R.top-R.bottom;if(C.update=function(){i.transition().duration(at).call(C)},C.container=this,ot.setter(dt(r),C.update).getter(ct(r)).update(),ot.disabled=r.map(function(t){return!!t.disabled}),!st)for(a in st={},ot)ot[a]instanceof Array?st[a]=ot[a].slice(0):st[a]=ot[a];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return pt.utils.noData(C,i),C;i.selectAll(".nv-noData").remove();var u=r.filter(function(t){return!t.disabled&&t.bar}),c=r.filter(function(t){return!t.bar});W=T.xScale(),F=z.scale(),_=T.yScale(),D=B.yScale(),E=P.yScale(),O=L.yScale();var d=r.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:K(t,e),y:q(t,e)}})}),f=r.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:K(t,e),y:q(t,e)}})});W.range([0,o]),F.domain(d3.extent(d3.merge(d.concat(f)),function(t){return t.x})).range([0,o]);var p=i.selectAll("g.nv-wrap.nv-linePlusBar").data([r]),h=p.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),g=p.select("g");h.append("g").attr("class","nv-legendWrap");var v=h.append("g").attr("class","nv-focus");v.append("g").attr("class","nv-x nv-axis"),v.append("g").attr("class","nv-y1 nv-axis"),v.append("g").attr("class","nv-y2 nv-axis"),v.append("g").attr("class","nv-barsWrap"),v.append("g").attr("class","nv-linesWrap");var m=h.append("g").attr("class","nv-context");if(m.append("g").attr("class","nv-x nv-axis"),m.append("g").attr("class","nv-y1 nv-axis"),m.append("g").attr("class","nv-y2 nv-axis"),m.append("g").attr("class","nv-barsWrap"),m.append("g").attr("class","nv-linesWrap"),m.append("g").attr("class","nv-brushBackground"),m.append("g").attr("class","nv-x nv-brush"),J){var x=G.align()?o/2:o,y=G.align()?x:0;G.width(x),g.select(".nv-legendWrap").datum(r.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=t.originalKey+(t.bar?lt:ut),t})).call(G),j.top!=G.height()&&(j.top=G.height(),s=pt.utils.availableHeight(Q,i,j)-nt),g.select(".nv-legendWrap").attr("transform","translate("+y+","+-j.top+")")}p.attr("transform","translate("+j.left+","+j.top+")"),g.select(".nv-context").style("display",$?"initial":"none"),P.width(o).height(l).color(r.map(function(t,e){return t.color||U(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar})),L.width(o).height(l).color(r.map(function(t,e){return t.color||U(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar}));var b=g.select(".nv-context .nv-barsWrap").datum(u.length?u:[{values:[]}]),k=g.select(".nv-context .nv-linesWrap").datum(ft(c)?[{values:[]}]:c.filter(function(t){return!t.disabled}));g.select(".nv-context").attr("transform","translate(0,"+(s+j.bottom+R.top)+")"),b.transition().call(P),k.transition().call(L),et&&(z._ticks(pt.utils.calcTicksX(o/100,r)).tickSize(-l,0),g.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")"),g.select(".nv-context .nv-x.nv-axis").transition().call(z)),tt&&(H.scale(E)._ticks(l/36).tickSize(-o,0),Y.scale(O)._ticks(l/36).tickSize(u.length?0:-o,0),g.select(".nv-context .nv-y3.nv-axis").style("opacity",u.length?1:0).attr("transform","translate(0,"+F.range()[0]+")"),g.select(".nv-context .nv-y2.nv-axis").style("opacity",c.length?1:0).attr("transform","translate("+F.range()[1]+",0)"),g.select(".nv-context .nv-y1.nv-axis").transition().call(H),g.select(".nv-context .nv-y2.nv-axis").transition().call(Y)),X.x(F).on("brush",e),rt&&X.extent(rt);var w=g.select(".nv-brushBackground").selectAll("g").data([rt||X.extent()]),M=w.enter().append("g");M.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",l),M.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",l);var A=g.select(".nv-x.nv-brush").call(X);A.selectAll("rect").attr("height",l),A.selectAll(".resize").append("path").attr("d",t),G.dispatch.on("stateChange",function(t){for(var e in t)ot[e]=t[e];it.stateChange(ot),C.update()}),it.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),ot.disabled=n.disabled),C.update()}),e()}),C}var S,W,F,_,D,E,O,B=pt.models.line(),L=pt.models.line(),T=pt.models.historicalBar(),P=pt.models.historicalBar(),N=pt.models.axis(),z=pt.models.axis(),V=pt.models.axis(),I=pt.models.axis(),H=pt.models.axis(),Y=pt.models.axis(),G=pt.models.legend(),X=d3.svg.brush(),e=pt.models.tooltip(),j={top:30,right:30,bottom:30,left:60},R={top:0,right:30,bottom:20,left:60},Z=null,Q=null,K=function(t){return t.x},q=function(t){return t.y},U=pt.utils.defaultColor(),J=!0,$=!0,tt=!1,et=!0,nt=50,rt=null,n=null,it=d3.dispatch("brush","stateChange","changeState"),at=0,ot=pt.utils.state(),st=null,lt=" (left axis)",ut=" (right axis)";B.clipEdge(!0),L.interactive(!1),L.pointActive(function(){return!1}),N.orient("bottom").tickPadding(5),V.orient("left"),I.orient("right"),z.orient("bottom").tickPadding(5),H.orient("left"),Y.orient("right"),e.headerEnabled(!0).headerFormatter(function(t,e){return N.tickFormat()(t,e)});var ct=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},dt=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},ft=function(t){return t.every(function(t){return t.disabled})};return B.dispatch.on("elementMouseover.tooltip",function(t){e.duration(100).valueFormatter(function(t,e){return I.tickFormat()(t,e)}).data(t).hidden(!1)}),B.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),T.dispatch.on("elementMouseover.tooltip",function(t){t.value=C.x()(t.data),t.series={value:C.y()(t.data),color:t.color},e.duration(0).valueFormatter(function(t,e){return V.tickFormat()(t,e)}).data(t).hidden(!1)}),T.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),T.dispatch.on("elementMousemove.tooltip",function(){e()}),C.dispatch=it,C.legend=G,C.lines=B,C.lines2=L,C.bars=T,C.bars2=P,C.xAxis=N,C.x2Axis=z,C.y1Axis=V,C.y2Axis=I,C.y3Axis=H,C.y4Axis=Y,C.tooltip=e,C.options=pt.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return Z},set:function(t){Z=t}},height:{get:function(){return Q},set:function(t){Q=t}},showLegend:{get:function(){return J},set:function(t){J=t}},brushExtent:{get:function(){return rt},set:function(t){rt=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return $},set:function(t){$=t}},focusHeight:{get:function(){return nt},set:function(t){nt=t}},focusShowAxisX:{get:function(){return et},set:function(t){et=t}},focusShowAxisY:{get:function(){return tt},set:function(t){tt=t}},legendLeftAxisHint:{get:function(){return lt},set:function(t){lt=t}},legendRightAxisHint:{get:function(){return ut},set:function(t){ut=t}},margin:{get:function(){return j},set:function(t){j.top=t.top!==undefined?t.top:j.top,j.right=t.right!==undefined?t.right:j.right,j.bottom=t.bottom!==undefined?t.bottom:j.bottom,j.left=t.left!==undefined?t.left:j.left}},focusMargin:{get:function(){return R},set:function(t){R.top=t.top!==undefined?t.top:R.top,R.right=t.right!==undefined?t.right:R.right,R.bottom=t.bottom!==undefined?t.bottom:R.bottom,R.left=t.left!==undefined?t.left:R.left}},duration:{get:function(){return at},set:function(t){at=t}},color:{get:function(){return U},set:function(t){U=pt.utils.getColor(t),G.color(U)}},x:{get:function(){return K},set:function(t){K=t,B.x(t),L.x(t),T.x(t),P.x(t)}},y:{get:function(){return q},set:function(t){q=t,B.y(t),L.y(t),T.y(t),P.y(t)}}}),pt.utils.inheritOptions(C,B),pt.utils.initOptions(C),C},pt.models.lineWithFocusChart=function(){"use strict";function y(t){return t.each(function(i){function t(t){var e=+("e"==t),n=e?1:-1,r=l/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function e(){E.empty()||E.extent(H),v.data([E.empty()?w.domain():H]).each(function(t){var e=w(t[0])-b.range()[0],n=o-w(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",w(t[1])).attr("width",n<0?0:n)})}function n(){H=E.empty()?null:E.extent();var n=E.empty()?w.domain():E.extent();Math.abs(n[0]-n[1])<=1||(Y.brush({extent:n,brush:E}),e(),f.select(".nv-focus .nv-linesWrap").datum(i.filter(function(t){return!t.disabled}).map(function(t){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return A.x()(t,e)>=n[0]&&A.x()(t,e)<=n[1]})}})).transition().duration(G).call(A),f.select(".nv-focus .nv-x.nv-axis").transition().duration(G).call(S),f.select(".nv-focus .nv-y.nv-axis").transition().duration(G).call(W))}var r=d3.select(this),c=this;pt.utils.initSVG(r);var a,o=pt.utils.availableWidth(P,r,B),s=pt.utils.availableHeight(N,r,B)-z,l=z-L.top-L.bottom;if(y.update=function(){r.transition().duration(G).call(y)},y.container=this,X.setter(Z(i),y.update).getter(R(i)).update(),X.disabled=i.map(function(t){return!!t.disabled}),!j)for(a in j={},X)X[a]instanceof Array?j[a]=X[a].slice(0):j[a]=X[a];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return pt.utils.noData(y,r),y;r.selectAll(".nv-noData").remove(),b=A.xScale(),k=A.yScale(),w=C.xScale(),M=C.yScale();var u=r.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([i]),d=u.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),f=u.select("g");d.append("g").attr("class","nv-legendWrap");var p=d.append("g").attr("class","nv-focus");p.append("g").attr("class","nv-x nv-axis"),p.append("g").attr("class","nv-y nv-axis"),p.append("g").attr("class","nv-linesWrap"),p.append("g").attr("class","nv-interactive");var h=d.append("g").attr("class","nv-context");h.append("g").attr("class","nv-x nv-axis"),h.append("g").attr("class","nv-y nv-axis"),h.append("g").attr("class","nv-linesWrap"),h.append("g").attr("class","nv-brushBackground"),h.append("g").attr("class","nv-x nv-brush"),I&&(D.width(o),f.select(".nv-legendWrap").datum(i).call(D),B.top!=D.height()&&(B.top=D.height(),s=pt.utils.availableHeight(N,r,B)-z),f.select(".nv-legendWrap").attr("transform","translate(0,"+-B.top+")")),u.attr("transform","translate("+B.left+","+B.top+")"),V&&(O.width(o).height(s).margin({left:B.left,top:B.top}).svgContainer(r).xScale(b),u.select(".nv-interactive").call(O)),A.width(o).height(s).color(i.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!i[e].disabled})),C.defined(A.defined()).width(o).height(l).color(i.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!i[e].disabled})),f.select(".nv-context").attr("transform","translate(0,"+(s+B.bottom+L.top)+")");var g=f.select(".nv-context .nv-linesWrap").datum(i.filter(function(t){return!t.disabled}));d3.transition(g).call(C),S.scale(b)._ticks(pt.utils.calcTicksX(o/100,i)).tickSize(-s,0),W.scale(k)._ticks(pt.utils.calcTicksY(s/36,i)).tickSize(-o,0),f.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+s+")"),E.x(w).on("brush",function(){n()}),H&&E.extent(H);var v=f.select(".nv-brushBackground").selectAll("g").data([H||E.extent()]),m=v.enter().append("g");m.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",l),m.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",l);var x=f.select(".nv-x.nv-brush").call(E);x.selectAll("rect").attr("height",l),x.selectAll(".resize").append("path").attr("d",t),n(),F.scale(w)._ticks(pt.utils.calcTicksX(o/100,i)).tickSize(-l,0),f.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),d3.transition(f.select(".nv-context .nv-x.nv-axis")).call(F),_.scale(M)._ticks(pt.utils.calcTicksY(l/36,i)).tickSize(-o,0),d3.transition(f.select(".nv-context .nv-y.nv-axis")).call(_),f.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),D.dispatch.on("stateChange",function(t){for(var e in t)X[e]=t[e];Y.stateChange(X),y.update()}),O.dispatch.on("elementMousemove",function(a){A.clearHighlights();var o,s,l,u=[];if(i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){var n=E.empty()?w.domain():E.extent(),r=t.values.filter(function(t,e){return A.x()(t,e)>=n[0]&&A.x()(t,e)<=n[1]}),i=r[s=pt.interactiveBisect(r,a.pointXValue,A.x())];null!=y.y()(i,s)&&A.highlightPoint(e,s,!0),i!==undefined&&(o===undefined&&(o=i),l===undefined&&(l=y.xScale()(y.x()(i,s))),u.push({key:t.key,value:y.y()(i,s),color:T(t,t.seriesIndex)}))}),2<u.length){var t=y.yScale().invert(a.mouseY),e=.03*Math.abs(y.yScale().domain()[0]-y.yScale().domain()[1]),n=pt.nearestValueIndex(u.map(function(t){return t.value}),t,e);null!==n&&(u[n].highlight=!0)}var r=S.tickFormat()(y.x()(o,s));O.tooltip.chartContainer(c.parentNode).valueFormatter(function(t){return null==t?"N/A":W.tickFormat()(t)}).data({value:r,index:s,series:u})(),O.renderGuideLine(l)}),O.dispatch.on("elementMouseout",function(){A.clearHighlights()}),Y.on("changeState",function(n){"undefined"!=typeof n.disabled&&i.forEach(function(t,e){t.disabled=n.disabled[e]}),y.update()})}),y}var b,k,w,M,A=pt.models.line(),C=pt.models.line(),S=pt.models.axis(),W=pt.models.axis(),F=pt.models.axis(),_=pt.models.axis(),D=pt.models.legend(),E=d3.svg.brush(),e=pt.models.tooltip(),O=pt.interactiveGuideline(),B={top:30,right:30,bottom:30,left:60},L={top:0,right:30,bottom:20,left:60},T=pt.utils.defaultColor(),P=null,N=null,z=50,V=!1,I=!0,H=null,n=null,Y=d3.dispatch("brush","stateChange","changeState"),G=250,X=pt.utils.state(),j=null;A.clipEdge(!0).duration(0),C.interactive(!1),C.pointActive(function(){return!1}),S.orient("bottom").tickPadding(5),W.orient("left"),F.orient("bottom").tickPadding(5),_.orient("left"),e.valueFormatter(function(t,e){return W.tickFormat()(t,e)}).headerFormatter(function(t,e){return S.tickFormat()(t,e)});var R=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},Z=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return A.dispatch.on("elementMouseover.tooltip",function(t){e.data(t).hidden(!1)}),A.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),y.dispatch=Y,y.legend=D,y.lines=A,y.lines2=C,y.xAxis=S,y.yAxis=W,y.x2Axis=F,y.y2Axis=_,y.interactiveLayer=O,y.tooltip=e,y.options=pt.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return P},set:function(t){P=t}},height:{get:function(){return N},set:function(t){N=t}},focusHeight:{get:function(){return z},set:function(t){z=t}},showLegend:{get:function(){return I},set:function(t){I=t}},brushExtent:{get:function(){return H},set:function(t){H=t}},defaultState:{get:function(){return j},set:function(t){j=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return B},set:function(t){B.top=t.top!==undefined?t.top:B.top,B.right=t.right!==undefined?t.right:B.right,B.bottom=t.bottom!==undefined?t.bottom:B.bottom,B.left=t.left!==undefined?t.left:B.left}},focusMargin:{get:function(){return L},set:function(t){L.top=t.top!==undefined?t.top:L.top,L.right=t.right!==undefined?t.right:L.right,L.bottom=t.bottom!==undefined?t.bottom:L.bottom,L.left=t.left!==undefined?t.left:L.left}},color:{get:function(){return T},set:function(t){T=pt.utils.getColor(t),D.color(T)}},interpolate:{get:function(){return A.interpolate()},set:function(t){A.interpolate(t),C.interpolate(t)}},xTickFormat:{get:function(){return S.tickFormat()},set:function(t){S.tickFormat(t),F.tickFormat(t)}},yTickFormat:{get:function(){return W.tickFormat()},set:function(t){W.tickFormat(t),_.tickFormat(t)}},duration:{get:function(){return G},set:function(t){G=t,W.duration(G),_.duration(G),S.duration(G),F.duration(G)}},x:{get:function(){return A.x()},set:function(t){A.x(t),C.x(t)}},y:{get:function(){return A.y()},set:function(t){A.y(t),C.y(t)}},useInteractiveGuideline:{get:function(){return V},set:function(t){(V=t)&&(A.interactive(!1),A.useVoronoi(!1))}}}),pt.utils.inheritOptions(y,A),pt.utils.initOptions(y),y},pt.models.multiBar=function(){"use strict";function e(t){return H.reset(),t.each(function(o){var t=M-w.left-w.right,e=A-w.top-w.bottom;F=d3.select(this),pt.utils.initSVG(F);var i=0;if(P&&o.length&&(P=[{values:o[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),B){var r=d3.layout.stack().offset(L).values(function(t){return t.values}).y(D)(!o.length&&P?P:o);r.forEach(function(t,n){t.nonStackable?(o[n].nonStackableSeries=i++,r[n]=o[n]):0<n&&r[n-1].nonStackable&&r[n].values.map(function(t,e){t.y0-=r[n-1].values[e].y,t.y1=t.y0+t.y})}),o=r}o.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),B&&o[0].values.map(function(t,r){var i=0,a=0;o.map(function(t,e){if(!o[e].nonStackable){var n=t.values[r];n.size=Math.abs(n.y),n.y<0?(n.y1=a,a-=n.size):(n.y1=n.size+i,i+=n.size)}})});var n=v&&m?[]:o.map(function(t,n){return t.values.map(function(t,e){return{x:_(t,e),y:D(t,e),y0:t.y0,y1:t.y1,idx:n}})});C.domain(v||d3.merge(n).map(function(t){return t.x})).rangeBands(x||[0,t],V),S.domain(m||d3.extent(d3.merge(n).map(function(t){var e=t.y;return B&&!o[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(E))).range(y||[e,0]),C.domain()[0]===C.domain()[1]&&(C.domain()[0]?C.domain([C.domain()[0]-.01*C.domain()[0],C.domain()[1]+.01*C.domain()[1]]):C.domain([-1,1])),S.domain()[0]===S.domain()[1]&&(S.domain()[0]?S.domain([S.domain()[0]+.01*S.domain()[0],S.domain()[1]-.01*S.domain()[1]]):S.domain([-1,1])),b=b||C,k=k||S;var a=F.selectAll("g.nv-wrap.nv-multibar").data([o]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=s.append("defs"),u=s.append("g"),c=a.select("g");u.append("g").attr("class","nv-groups"),a.attr("transform","translate("+w.left+","+w.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+W).append("rect"),a.select("#nv-edge-clip-"+W+" rect").attr("width",t).attr("height",e),c.attr("clip-path",O?"url(#nv-edge-clip-"+W+")":"");var d=a.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var f=H.transition(d.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,z)).attr("y",function(t){var e=k(0)||0;return B&&o[t.series]&&!o[t.series].nonStackable&&(e=k(t.y0)),e}).attr("height",0).remove();f.delay&&f.delay(function(t,e){return e*(z/(Y+1))-e}),d.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return T(t,e)}).style("stroke",function(t,e){return T(t,e)}),d.style("stroke-opacity",1).style("fill-opacity",.75);var p=d.selectAll("rect.nv-bar").data(function(t){return P&&!o.length?P.values:t.values});p.exit().remove();p.enter().append("rect").attr("class",function(t,e){return D(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return B&&!o[n].nonStackable?0:n*C.rangeBand()/o.length}).attr("y",function(t,e,n){return k(B&&!o[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return C.rangeBand()/(B&&!o[n].nonStackable?1:o.length)}).attr("transform",function(t,e){return"translate("+C(_(t,e))+",0)"});p.style("fill",function(t,e,n){return T(t,n,e)}).style("stroke",function(t,e,n){return T(t,n,e)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),I.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),I.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){I.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){I.elementClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(t,e){I.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),p.attr("class",function(t,e){return D(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+C(_(t,e))+",0)"}),N&&(g||(g=o.map(function(){return!0})),p.style("fill",function(t,e,n){return d3.rgb(N(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(N(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}));var h=p.watchTransition(H,"multibar",Math.min(250,z)).delay(function(t,e){return e*z/o[0].values.length});B?h.attr("y",function(t,e,n){return o[n].nonStackable?D(t,e)<0?S(0):S(0)-S(D(t,e))<-1?S(0)-1:S(D(t,e))||0:S(t.y1)}).attr("height",function(t,e,n){return o[n].nonStackable?Math.max(Math.abs(S(D(t,e))-S(0)),0)||0:Math.max(Math.abs(S(t.y+t.y0)-S(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return o[n].nonStackable&&(r=t.series*C.rangeBand()/o.length,o.length!==i&&(r=o[n].nonStackableSeries*C.rangeBand()/(2*i))),r}).attr("width",function(t,e,n){if(o[n].nonStackable){var r=C.rangeBand()/i;return o.length!==i&&(r=C.rangeBand()/(2*i)),r}return C.rangeBand()}):h.attr("x",function(t){return t.series*C.rangeBand()/o.length}).attr("width",C.rangeBand()/o.length).attr("y",function(t,e){return D(t,e)<0?S(0):S(0)-S(D(t,e))<1?S(0)-1:S(D(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(S(D(t,e))-S(0)),1)||0}),b=C.copy(),k=S.copy(),o[0]&&o[0].values&&(Y=o[0].values.length)}),H.renderEnd("multibar immediate"),e}var g,v,m,x,y,b,k,w={top:0,right:0,bottom:0,left:0},M=960,A=500,C=d3.scale.ordinal(),S=d3.scale.linear(),W=Math.floor(1e4*Math.random()),F=null,_=function(t){return t.x},D=function(t){return t.y},E=[0],O=!0,B=!1,L="zero",T=pt.utils.defaultColor(),P=!1,N=null,z=500,V=.1,I=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),H=pt.utils.renderWatch(I,z),Y=0;return e.dispatch=I,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return A},set:function(t){A=t}},x:{get:function(){return _},set:function(t){_=t}},y:{get:function(){return D},set:function(t){D=t}},xScale:{get:function(){return C},set:function(t){C=t}},yScale:{get:function(){return S},set:function(t){S=t}},xDomain:{get:function(){return v},set:function(t){v=t}},yDomain:{get:function(){return m},set:function(t){m=t}},xRange:{get:function(){return x},set:function(t){x=t}},yRange:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return E},set:function(t){E=t}},stacked:{get:function(){return B},set:function(t){B=t}},stackOffset:{get:function(){return L},set:function(t){L=t}},clipEdge:{get:function(){return O},set:function(t){O=t}},disabled:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return W},set:function(t){W=t}},hideable:{get:function(){return P},set:function(t){P=t}},groupSpacing:{get:function(){return V},set:function(t){V=t}},margin:{get:function(){return w},set:function(t){w.top=t.top!==undefined?t.top:w.top,w.right=t.right!==undefined?t.right:w.right,w.bottom=t.bottom!==undefined?t.bottom:w.bottom,w.left=t.left!==undefined?t.left:w.left}},duration:{get:function(){return z},set:function(t){z=t,H.reset(z)}},color:{get:function(){return T},set:function(t){T=pt.utils.getColor(t)}},barColor:{get:function(){return N},set:function(t){N=t?pt.utils.getColor(t):null}}}),pt.utils.initOptions(e),e},pt.models.multiBarChart=function(){"use strict";function h(t){return r.reset(),r.models(m),_&&r.models(x),D&&r.models(y),t.each(function(r){var t=d3.select(this);pt.utils.initSVG(t);var e,n=pt.utils.availableWidth(M,t,w),i=pt.utils.availableHeight(A,t,w);if(h.update=function(){0===I?t.call(h):t.transition().duration(I).call(h)},h.container=this,P.setter(G(r),h.update).getter(Y(r)).update(),P.disabled=r.map(function(t){return!!t.disabled}),!N)for(e in N={},P)P[e]instanceof Array?N[e]=P[e].slice(0):N[e]=P[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return pt.utils.noData(h,t),h;t.selectAll(".nv-noData").remove(),g=m.xScale(),v=m.yScale();var a=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([r]),o=a.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),s=a.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),F&&(b.width(n-V()),s.select(".nv-legendWrap").datum(r).call(b),w.top!=b.height()&&(w.top=b.height(),i=pt.utils.availableHeight(A,t,w)),s.select(".nv-legendWrap").attr("transform","translate("+V()+","+-w.top+")")),S){var l=[{key:W.grouped||"Grouped",disabled:m.stacked()},{key:W.stacked||"Stacked",disabled:!m.stacked()}];k.width(V()).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+-w.top+")").call(k)}if(a.attr("transform","translate("+w.left+","+w.top+")"),E&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),m.disabled(r.map(function(t){return t.disabled})).width(n).height(i).color(r.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).call(m),_){x.scale(g)._ticks(pt.utils.calcTicksX(n/100,r)).tickSize(-i,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")"),s.select(".nv-x.nv-axis").call(x);var u=s.select(".nv-x.nv-axis > g").selectAll("g");if(u.selectAll("line, text").style("opacity",1),B){var c=function(t,e){return"translate("+t+","+e+")"},d=5,f=17;u.selectAll("text").attr("transform",function(t,e,n){return c(0,n%2==0?d:f)});var p=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;s.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return c(0,0===e||p%2!=0?f:d)})}L&&s.selectAll(".tick text").call(pt.utils.wrapTicks,h.xAxis.rangeBand()),O&&u.filter(function(t,e){return e%Math.ceil(r[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),T&&u.selectAll(".tick text").attr("transform","rotate("+T+" 0,0)").style("text-anchor",0<T?"start":"end"),s.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}D&&(y.scale(v)._ticks(pt.utils.calcTicksY(i/36,r)).tickSize(-n,0),s.select(".nv-y.nv-axis").call(y)),b.dispatch.on("stateChange",function(t){for(var e in t)P[e]=t[e];z.stateChange(P),h.update()}),k.dispatch.on("legendClick",function(t){if(t.disabled){switch(l=l.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case W.grouped:m.stacked(!1);break;case"Stacked":case W.stacked:m.stacked(!0)}P.stacked=m.stacked(),z.stateChange(P),h.update()}}),z.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),P.disabled=n.disabled),"undefined"!=typeof n.stacked&&(m.stacked(n.stacked),P.stacked=n.stacked,H=n.stacked),h.update()})}),r.renderEnd("multibarchart immediate"),h}var g,v,m=pt.models.multiBar(),x=pt.models.axis(),y=pt.models.axis(),b=pt.models.legend(),k=pt.models.legend(),e=pt.models.tooltip(),w={top:30,right:20,bottom:50,left:60},M=null,A=null,C=pt.utils.defaultColor(),S=!0,W={},F=!0,_=!0,D=!0,E=!1,O=!0,B=!1,L=!1,T=0,P=pt.utils.state(),N=null,n=null,z=d3.dispatch("stateChange","changeState","renderEnd"),V=function(){return S?180:0},I=250;P.stacked=!1,m.stacked(!1),x.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),y.orient(E?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return x.tickFormat()(t,e)}),k.updateState(!1);var r=pt.utils.renderWatch(z),H=!1,Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:H}}},G=function(t){return function(n){n.stacked!==undefined&&(H=n.stacked),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return m.dispatch.on("elementMouseover.tooltip",function(t){t.value=h.x()(t.data),t.series={key:t.data.key,value:h.y()(t.data),color:t.color},e.data(t).hidden(!1)}),m.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),m.dispatch.on("elementMousemove.tooltip",function(){e()}),h.dispatch=z,
h.multibar=m,h.legend=b,h.controls=k,h.xAxis=x,h.yAxis=y,h.state=P,h.tooltip=e,h.options=pt.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return A},set:function(t){A=t}},showLegend:{get:function(){return F},set:function(t){F=t}},showControls:{get:function(){return S},set:function(t){S=t}},controlLabels:{get:function(){return W},set:function(t){W=t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return N},set:function(t){N=t}},noData:{get:function(){return n},set:function(t){n=t}},reduceXTicks:{get:function(){return O},set:function(t){O=t}},rotateLabels:{get:function(){return T},set:function(t){T=t}},staggerLabels:{get:function(){return B},set:function(t){B=t}},wrapLabels:{get:function(){return L},set:function(t){L=!!t}},margin:{get:function(){return w},set:function(t){w.top=t.top!==undefined?t.top:w.top,w.right=t.right!==undefined?t.right:w.right,w.bottom=t.bottom!==undefined?t.bottom:w.bottom,w.left=t.left!==undefined?t.left:w.left}},duration:{get:function(){return I},set:function(t){I=t,m.duration(I),x.duration(I),y.duration(I),r.reset(I)}},color:{get:function(){return C},set:function(t){C=pt.utils.getColor(t),b.color(C)}},rightAlignYAxis:{get:function(){return E},set:function(t){E=t,y.orient(E?"right":"left")}},barColor:{get:function(){return m.barColor},set:function(t){m.barColor(t),b.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),pt.utils.inheritOptions(h,m),pt.utils.initOptions(h),h},pt.models.multiBarHorizontal=function(){"use strict";function e(t){return P.reset(),t.each(function(a){var t=x-m.left-m.right,e=y-m.top-m.bottom;b=d3.select(this),pt.utils.initSVG(b),_&&(a=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(A)(a)),a.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),_&&a[0].values.map(function(t,n){var r=0,i=0;a.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=r,r+=e.size)})});var n=d&&f?[]:a.map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:A(t,e),y0:t.y0,y1:t.y1}})});k.domain(d||d3.merge(n).map(function(t){return t.x})).rangeBands(p||[0,e],B),w.domain(f||d3.extent(d3.merge(n).map(function(t){return _?0<t.y?t.y1+t.y:t.y1:t.y}).concat(S))),D&&!_?w.range(h||[w.domain()[0]<0?O:0,t-(0<w.domain()[1]?O:0)]):w.range(h||[0,t]),g=g||k,v=v||d3.scale.linear().domain(w.domain()).range([w(0),w(0)]);var r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),o=(i.append("defs"),i.append("g"));r.select("g");o.append("g").attr("class","nv-groups"),r.attr("transform","translate("+m.left+","+m.top+")");var s=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});s.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),s.exit().watchTransition(P,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),s.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return W(t,e)}).style("stroke",function(t,e){return W(t,e)}),s.watchTransition(P,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var l=s.selectAll("g.nv-bar").data(function(t){return t.values});l.exit().remove();var u=l.enter().append("g").attr("transform",function(t,e,n){return"translate("+v(_?t.y0:0)+","+(_?0:n*k.rangeBand()/a.length+k(M(t,e)))+")"});u.append("rect").attr("width",0).attr("height",k.rangeBand()/(_?1:a.length)),l.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){T.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){T.elementClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(t,e){T.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),C(a[0],0)&&(u.append("polyline"),l.select("polyline").attr("fill","none").attr("points",function(t,e){var n=C(t,e),r=.8*k.rangeBand()/(2*(_?1:a.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(t){return w(t)-w(0)}))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){var n=k.rangeBand()/(2*(_?1:a.length));return"translate("+(A(t,e)<0?0:w(A(t,e))-w(0))+", "+n+")"})),u.append("text"),D&&!_?(l.select("text").attr("text-anchor",function(t,e){return A(t,e)<0?"end":"start"}).attr("y",k.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(t,e){var n=L(A(t,e)),r=C(t,e);return r===undefined?n:r.length?n+"+"+L(Math.abs(r[1]))+"-"+L(Math.abs(r[0])):n+"\xb1"+L(Math.abs(r))}),l.watchTransition(P,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return A(t,e)<0?-4:w(A(t,e))-w(0)+4})):l.selectAll("text").text(""),E&&!_?(u.append("text").classed("nv-bar-label",!0),l.select("text.nv-bar-label").attr("text-anchor",function(t,e){return A(t,e)<0?"start":"end"}).attr("y",k.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(t,e){return M(t,e)}),l.watchTransition(P,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return A(t,e)<0?w(0)-w(A(t,e))+4:-4})):l.selectAll("text.nv-bar-label").text(""),l.attr("class",function(t,e){return A(t,e)<0?"nv-bar negative":"nv-bar positive"}),F&&(c||(c=a.map(function(){return!0})),l.style("fill",function(t,e,n){return d3.rgb(F(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(F(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()})),_?l.watchTransition(P,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+w(t.y1)+","+k(M(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(w(A(t,e)+t.y0)-w(t.y0))||0}).attr("height",k.rangeBand()):l.watchTransition(P,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(A(t,e)<0?w(A(t,e)):w(0))+","+(t.series*k.rangeBand()/a.length+k(M(t,e)))+")"}).select("rect").attr("height",k.rangeBand()/a.length).attr("width",function(t,e){return Math.max(Math.abs(w(A(t,e))-w(0)),1)||0}),g=k.copy(),v=w.copy()}),P.renderEnd("multibarHorizontal immediate"),e}var c,d,f,p,h,g,v,m={top:0,right:0,bottom:0,left:0},x=960,y=500,n=Math.floor(1e4*Math.random()),b=null,k=d3.scale.ordinal(),w=d3.scale.linear(),M=function(t){return t.x},A=function(t){return t.y},C=function(t){return t.yErr},S=[0],W=pt.utils.defaultColor(),F=null,_=!1,D=!1,E=!1,O=60,B=.1,L=d3.format(",.2f"),r=250,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),P=pt.utils.renderWatch(T,r);return e.dispatch=T,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return M},set:function(t){M=t}},y:{get:function(){return A},set:function(t){A=t}},yErr:{get:function(){return C},set:function(t){C=t}},xScale:{get:function(){return k},set:function(t){k=t}},yScale:{get:function(){return w},set:function(t){w=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return h},set:function(t){h=t}},forceY:{get:function(){return S},set:function(t){S=t}},stacked:{get:function(){return _},set:function(t){_=t}},showValues:{get:function(){return D},set:function(t){D=t}},disabled:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return n},set:function(t){n=t}},valueFormat:{get:function(){return L},set:function(t){L=t}},valuePadding:{get:function(){return O},set:function(t){O=t}},groupSpacing:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return r},set:function(t){r=t,P.reset(r)}},color:{get:function(){return W},set:function(t){W=pt.utils.getColor(t)}},barColor:{get:function(){return F},set:function(t){F=t?pt.utils.getColor(t):null}}}),pt.utils.initOptions(e),e},pt.models.multiBarHorizontalChart=function(){"use strict";function u(t){return r.reset(),r.models(f),A&&r.models(p),C&&r.models(h),t.each(function(r){var t=d3.select(this);pt.utils.initSVG(t);var e,n=pt.utils.availableWidth(x,t,m),i=pt.utils.availableHeight(y,t,m);if(u.update=function(){t.transition().duration(E).call(u)},u.container=this,S=f.stacked(),W.setter(B(r),u.update).getter(O(r)).update(),W.disabled=r.map(function(t){return!!t.disabled}),!F)for(e in F={},W)W[e]instanceof Array?F[e]=W[e].slice(0):F[e]=W[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return pt.utils.noData(u,t),u;t.selectAll(".nv-noData").remove(),c=f.xScale(),d=f.yScale();var a=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([r]),o=a.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),s=a.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),M&&(g.width(n-D()),s.select(".nv-legendWrap").datum(r).call(g),m.top!=g.height()&&(m.top=g.height(),i=pt.utils.availableHeight(y,t,m)),s.select(".nv-legendWrap").attr("transform","translate("+D()+","+-m.top+")")),k){var l=[{key:w.grouped||"Grouped",disabled:f.stacked()},{key:w.stacked||"Stacked",disabled:!f.stacked()}];v.width(D()).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+-m.top+")").call(v)}(a.attr("transform","translate("+m.left+","+m.top+")"),f.disabled(r.map(function(t){return t.disabled})).width(n).height(i).color(r.map(function(t,e){return t.color||b(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(f),A)&&(p.scale(c)._ticks(pt.utils.calcTicksY(i/24,r)).tickSize(-n,0),s.select(".nv-x.nv-axis").call(p),s.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));C&&(h.scale(d)._ticks(pt.utils.calcTicksX(n/100,r)).tickSize(-i,0),s.select(".nv-y.nv-axis").attr("transform","translate(0,"+i+")"),s.select(".nv-y.nv-axis").call(h)),s.select(".nv-zeroLine line").attr("x1",d(0)).attr("x2",d(0)).attr("y1",0).attr("y2",-i),g.dispatch.on("stateChange",function(t){for(var e in t)W[e]=t[e];_.stateChange(W),u.update()}),v.dispatch.on("legendClick",function(t){if(t.disabled){switch(l=l.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":f.stacked(!1);break;case"Stacked":f.stacked(!0)}W.stacked=f.stacked(),_.stateChange(W),S=f.stacked(),u.update()}}),_.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),W.disabled=n.disabled),"undefined"!=typeof n.stacked&&(f.stacked(n.stacked),W.stacked=n.stacked,S=n.stacked),u.update()})}),r.renderEnd("multibar horizontal chart immediate"),u}var c,d,f=pt.models.multiBarHorizontal(),p=pt.models.axis(),h=pt.models.axis(),g=pt.models.legend().height(30),v=pt.models.legend().height(30),e=pt.models.tooltip(),m={top:30,right:20,bottom:50,left:60},x=null,y=null,b=pt.utils.defaultColor(),k=!0,w={},M=!0,A=!0,C=!0,S=!1,W=pt.utils.state(),F=null,n=null,_=d3.dispatch("stateChange","changeState","renderEnd"),D=function(){return k?180:0},E=250;W.stacked=!1,f.stacked(S),p.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),h.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return h.tickFormat()(t,e)}).headerFormatter(function(t,e){return p.tickFormat()(t,e)}),v.updateState(!1);var O=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:S}}},B=function(t){return function(n){n.stacked!==undefined&&(S=n.stacked),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},r=pt.utils.renderWatch(_,E);return f.dispatch.on("elementMouseover.tooltip",function(t){t.value=u.x()(t.data),t.series={key:t.data.key,value:u.y()(t.data),color:t.color},e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){e()}),u.dispatch=_,u.multibar=f,u.legend=g,u.controls=v,u.xAxis=p,u.yAxis=h,u.state=W,u.tooltip=e,u.options=pt.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return M},set:function(t){M=t}},showControls:{get:function(){return k},set:function(t){k=t}},controlLabels:{get:function(){return w},set:function(t){w=t}},showXAxis:{get:function(){return A},set:function(t){A=t}},showYAxis:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return F},set:function(t){F=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return E},set:function(t){E=t,r.reset(E),f.duration(E),p.duration(E),h.duration(E)}},color:{get:function(){return b},set:function(t){b=pt.utils.getColor(t),g.color(b)}},barColor:{get:function(){return f.barColor},set:function(t){f.barColor(t),g.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),pt.utils.inheritOptions(u,f),pt.utils.initOptions(u),u},pt.models.multiChart=function(){"use strict";function L(t){return t.each(function(r){function t(t){var n=2===r[t.seriesIndex].yAxis?it:rt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},ot.duration(0).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function e(t){var n=2===r[t.seriesIndex].yAxis?it:rt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},ot.duration(100).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function n(t){var n=2===r[t.seriesIndex].yAxis?it:rt;t.point.x=tt.x()(t.point),t.point.y=tt.y()(t.point),ot.duration(0).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function i(t){var n=2===r[t.data.series].yAxis?it:rt;t.value=J.x()(t.data),t.series={value:J.y()(t.data),color:t.color,key:t.data.key},ot.duration(0).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}var a=d3.select(this);pt.utils.initSVG(a),L.update=function(){a.transition().call(L)},L.container=this;var o=pt.utils.availableWidth(V,a,N),s=pt.utils.availableHeight(I,a,N),l=r.filter(function(t){return"line"==t.type&&1==t.yAxis}),u=r.filter(function(t){return"line"==t.type&&2==t.yAxis}),c=r.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),d=r.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),f=r.filter(function(t){return"bar"==t.type&&1==t.yAxis}),p=r.filter(function(t){return"bar"==t.type&&2==t.yAxis}),h=r.filter(function(t){return"area"==t.type&&1==t.yAxis}),g=r.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return pt.utils.noData(L,a),L;a.selectAll(".nv-noData").remove();var v=r.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:Y(t),y:G(t)}})}),m=r.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:Y(t),y:G(t)}})});j.domain(d3.extent(d3.merge(v.concat(m)),function(t){return Y(t)})).range([0,o]);var x=a.selectAll("g.wrap.multiChart").data([r]),y=x.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");y.append("g").attr("class","nv-x nv-axis"),y.append("g").attr("class","nv-y1 nv-axis"),y.append("g").attr("class","nv-y2 nv-axis"),y.append("g").attr("class","lines1Wrap"),y.append("g").attr("class","lines2Wrap"),y.append("g").attr("class","scatters1Wrap"),y.append("g").attr("class","scatters2Wrap"),y.append("g").attr("class","bars1Wrap"),y.append("g").attr("class","bars2Wrap"),y.append("g").attr("class","stack1Wrap"),y.append("g").attr("class","stack2Wrap"),y.append("g").attr("class","legendWrap");var b=x.select("g"),k=r.map(function(t,e){return r[e].color||z(t,e)});if(H){var w=at.align()?o/2:o,M=at.align()?w:0;at.width(w),at.color(k),b.select(".legendWrap").datum(r.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(at),N.top!=at.height()&&(N.top=at.height(),s=pt.utils.availableHeight(I,a,N)),b.select(".legendWrap").attr("transform","translate("+M+","+-N.top+")")}Q.width(o).height(s).interpolate(X).color(k.filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"line"==r[e].type})),K.width(o).height(s).interpolate(X).color(k.filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"line"==r[e].type})),q.width(o).height(s).color(k.filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"scatter"==r[e].type})),U.width(o).height(s).color(k.filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"scatter"==r[e].type})),J.width(o).height(s).color(k.filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"bar"==r[e].type})),$.width(o).height(s).color(k.filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"bar"==r[e].type})),tt.width(o).height(s).color(k.filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"area"==r[e].type})),et.width(o).height(s).color(k.filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"area"==r[e].type})),b.attr("transform","translate("+N.left+","+N.top+")");var A=b.select(".lines1Wrap").datum(l.filter(function(t){return!t.disabled})),C=b.select(".scatters1Wrap").datum(c.filter(function(t){return!t.disabled})),S=b.select(".bars1Wrap").datum(f.filter(function(t){return!t.disabled})),W=b.select(".stack1Wrap").datum(h.filter(function(t){return!t.disabled})),F=b.select(".lines2Wrap").datum(u.filter(function(t){return!t.disabled})),_=b.select(".scatters2Wrap").datum(d.filter(function(t){return!t.disabled})),D=b.select(".bars2Wrap").datum(p.filter(function(t){return!t.disabled})),E=b.select(".stack2Wrap").datum(g.filter(function(t){return!t.disabled})),O=h.length?h.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[],B=g.length?g.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[];R.domain(T||d3.extent(d3.merge(v).concat(O),function(t){return t.y})).range([0,s]),Z.domain(P||d3.extent(d3.merge(m).concat(B),function(t){return t.y})).range([0,s]),Q.yDomain(R.domain()),q.yDomain(R.domain()),J.yDomain(R.domain()),tt.yDomain(R.domain()),K.yDomain(Z.domain()),U.yDomain(Z.domain()),$.yDomain(Z.domain()),et.yDomain(Z.domain()),h.length&&d3.transition(W).call(tt),g.length&&d3.transition(E).call(et),f.length&&d3.transition(S).call(J),p.length&&d3.transition(D).call($),l.length&&d3.transition(A).call(Q),u.length&&d3.transition(F).call(K),c.length&&d3.transition(C).call(q),d.length&&d3.transition(_).call(U),nt._ticks(pt.utils.calcTicksX(o/100,r)).tickSize(-s,0),b.select(".nv-x.nv-axis").attr("transform","translate(0,"+s+")"),d3.transition(b.select(".nv-x.nv-axis")).call(nt),rt._ticks(pt.utils.calcTicksY(s/36,r)).tickSize(-o,0),d3.transition(b.select(".nv-y1.nv-axis")).call(rt),it._ticks(pt.utils.calcTicksY(s/36,r)).tickSize(-o,0),d3.transition(b.select(".nv-y2.nv-axis")).call(it),b.select(".nv-y1.nv-axis").classed("nv-disabled",!v.length).attr("transform","translate("+j.range()[0]+",0)"),b.select(".nv-y2.nv-axis").classed("nv-disabled",!m.length).attr("transform","translate("+j.range()[1]+",0)"),at.dispatch.on("stateChange",function(){L.update()}),Q.dispatch.on("elementMouseover.tooltip",t),K.dispatch.on("elementMouseover.tooltip",t),Q.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),K.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),q.dispatch.on("elementMouseover.tooltip",e),U.dispatch.on("elementMouseover.tooltip",e),q.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),U.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),tt.dispatch.on("elementMouseover.tooltip",n),et.dispatch.on("elementMouseover.tooltip",n),tt.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),et.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),J.dispatch.on("elementMouseover.tooltip",i),$.dispatch.on("elementMouseover.tooltip",i),J.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),$.dispatch.on("elementMouseout.tooltip",function(){ot.hidden(!0)}),J.dispatch.on("elementMousemove.tooltip",function(){ot()}),$.dispatch.on("elementMousemove.tooltip",function(){ot()})}),L}var T,P,N={top:30,right:20,bottom:50,left:60},z=pt.utils.defaultColor(),V=null,I=null,H=!0,e=null,Y=function(t){return t.x},G=function(t){return t.y},X="monotone",n=!0,j=d3.scale.linear(),R=d3.scale.linear(),Z=d3.scale.linear(),Q=pt.models.line().yScale(R),K=pt.models.line().yScale(Z),q=pt.models.scatter().yScale(R),U=pt.models.scatter().yScale(Z),J=pt.models.multiBar().stacked(!1).yScale(R),$=pt.models.multiBar().stacked(!1).yScale(Z),tt=pt.models.stackedArea().yScale(R),et=pt.models.stackedArea().yScale(Z),nt=pt.models.axis().scale(j).orient("bottom").tickPadding(5),rt=pt.models.axis().scale(R).orient("left"),it=pt.models.axis().scale(Z).orient("right"),at=pt.models.legend().height(30),ot=pt.models.tooltip(),t=d3.dispatch();return L.dispatch=t,L.legend=at,L.lines1=Q,L.lines2=K,L.scatters1=q,L.scatters2=U,L.bars1=J,L.bars2=$,L.stack1=tt,L.stack2=et,L.xAxis=nt,L.yAxis1=rt,L.yAxis2=it,L.tooltip=ot,L.options=pt.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return V},set:function(t){V=t}},height:{get:function(){return I},set:function(t){I=t}},showLegend:{get:function(){return H},set:function(t){H=t}},yDomain1:{get:function(){return T},set:function(t){T=t}},yDomain2:{get:function(){return P},set:function(t){P=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return X},set:function(t){X=t}},margin:{get:function(){return N},set:function(t){N.top=t.top!==undefined?t.top:N.top,N.right=t.right!==undefined?t.right:N.right,N.bottom=t.bottom!==undefined?t.bottom:N.bottom,N.left=t.left!==undefined?t.left:N.left}},color:{get:function(){return z},set:function(t){z=pt.utils.getColor(t)}},x:{get:function(){return Y},set:function(t){Y=t,Q.x(t),K.x(t),q.x(t),U.x(t),J.x(t),$.x(t),tt.x(t),et.x(t)}},y:{get:function(){return G},set:function(t){G=t,Q.y(t),K.y(t),q.y(t),U.y(t),tt.y(t),et.y(t),J.y(t),$.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,Q.useVoronoi(t),K.useVoronoi(t),tt.useVoronoi(t),et.useVoronoi(t)}}}),pt.utils.initOptions(L),L},pt.models.ohlcBar=function(){"use strict";function n(t){return t.each(function(r){x=d3.select(this);var i=pt.utils.availableWidth(g,x,h),t=pt.utils.availableHeight(v,x,h);pt.utils.initSVG(x);var n=i/r[0].values.length*.9;y.domain(c||d3.extent(r[0].values.map(k).concat(W))),_?y.range(f||[.5*i/r[0].values.length,i*(r[0].values.length-.5)/r[0].values.length]):y.range(f||[5+n/2,i-n/2-5]),b.domain(d||[d3.min(r[0].values.map(S).concat(F)),d3.max(r[0].values.map(C).concat(F))]).range(p||[t,0]),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1])),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]+.01*b.domain()[0],b.domain()[1]-.01*b.domain()[1]]):b.domain([-1,1]));var e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([r[0].values]),a=e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),o=a.append("defs"),s=a.append("g"),l=e.select("g");s.append("g").attr("class","nv-ticks"),e.attr("transform","translate("+h.left+","+h.top+")"),x.on("click",function(t,e){O.chartClick({data:t,index:e,pos:d3.event,id:m})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),e.select("#nv-chart-clip-path-"+m+" rect").attr("width",i).attr("height",t),l.attr("clip-path",D?"url(#nv-chart-clip-path-"+m+")":"");var u=e.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});u.exit().remove(),u.enter().append("path").attr("class",function(t,e,n){return(M(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(b(M(t,e))-b(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(b(S(t,e))-b(M(t,e)))+"l0,"+(b(A(t,e))-b(S(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+y(k(t,e))+","+b(C(t,e))+")"}).attr("fill",function(){return E[0]}).attr("stroke",function(){return E[0]}).attr("x",0).attr("y",function(t,e){return b(Math.max(0,w(t,e)))}).attr("height",function(t,e){return Math.abs(b(w(t,e))-b(0))}),u.attr("class",function(t,e,n){return(M(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(u).attr("transform",function(t,e){return"translate("+y(k(t,e))+","+b(C(t,e))+")"}).attr("d",function(t,e){var n=i/r[0].values.length*.9;return"m0,0l0,"+(b(M(t,e))-b(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(b(S(t,e))-b(M(t,e)))+"l0,"+(b(A(t,e))-b(S(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}var c,d,f,p,h={top:0,right:0,bottom:0,left:0},g=null,v=null,m=Math.floor(1e4*Math.random()),x=null,y=d3.scale.linear(),b=d3.scale.linear(),k=function(t){return t.x},w=function(t){return t.y},M=function(t){return t.open},A=function(t){return t.close},C=function(t){return t.high},S=function(t){return t.low},W=[],F=[],_=!1,D=!0,E=pt.utils.defaultColor(),e=!1,O=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),x.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){x.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},n.dispatch=O,n.options=pt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return b},set:function(t){b=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return p},set:function(t){p=t}},forceX:{get:function(){return W},set:function(t){W=t}},forceY:{get:function(){return F},set:function(t){F=t}},padData:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},id:{get:function(){return m},set:function(t){m=t}},interactive:{get:function(){return e},set:function(t){e=t}},x:{get:function(){return k},set:function(t){k=t}},y:{get:function(){return w},set:function(t){w=t}},open:{get:function(){return M()},set:function(t){M=t}},close:{get:function(){return A()},set:function(t){A=t}},high:{get:function(){return C},set:function(t){C=t}},low:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return h},set:function(t){h.top=t.top!=undefined?t.top:h.top,h.right=t.right!=undefined?t.right:h.right,h.bottom=t.bottom!=undefined?t.bottom:h.bottom,h.left=t.left!=undefined?t.left:h.left}},color:{get:function(){return E},set:function(t){E=pt.utils.getColor(t)}}}),pt.utils.initOptions(n),n},pt.models.parallelCoordinates=function(){"use strict";function e(t){return t.each(function(n){function e(a){return v(E.map(function(t){if(isNaN(a[t])||isNaN(parseFloat(a[t]))){var e=D[t].domain(),n=D[t].range(),r=e[0]-(e[1]-e[0])/9;if(b.indexOf(t)<0){var i=d3.scale.linear().domain([r,e[1]]).range([u-12,n[1]]);D[t].brush.y(i),b.push(t)}return[_(t),D[t](r)]}return 0<b.length?(h.style("display","inline"),g.style("display","inline")):(h.style("display","none"),g.style("display","none")),[_(t),D[t](a[t])]}))}function r(){var e=E.filter(function(t){return!D[t].brush.empty()}),r=e.map(function(t){return D[t].brush.extent()});L=[],e.forEach(function(t,e){L[e]={dimension:t,extent:r[e]}}),T=[],M.style("display",function(n){var t=e.every(function(t,e){return!(!isNaN(n[t])||r[e][0]!=D[t].brush.y().domain()[0])||r[e][0]<=n[t]&&n[t]<=r[e][1]});return t&&T.push(n),t?null:"none"}),z.brush({filters:L,active:T})}function t(t){P[t]=this.parentNode.__origin__=_(t),w.attr("visibility","hidden")}function i(t){P[t]=Math.min(l,Math.max(0,this.parentNode.__origin__+=d3.event.x)),M.attr("d",e),E.sort(function(t,e){return o(t)-o(e)}),_.domain(E),A.attr("transform",function(t){return"translate("+o(t)+")"})}function a(t){delete this.parentNode.__origin__,delete P[t],d3.select(this.parentNode).attr("transform","translate("+_(t)+")"),M.attr("d",e),w.attr("d",e).attr("visibility",null)}function o(t){var e=P[t];return null==e?_(t):e}var s=d3.select(this),l=pt.utils.availableWidth(W,s,S),u=pt.utils.availableHeight(F,s,S);pt.utils.initSVG(s),T=n,_.rangePoints([0,l],1).domain(E);var c={};E.forEach(function(e){var t=d3.extent(n,function(t){return+t[e]});return c[e]=!1,t[0]===undefined&&(c[e]=!0,t[0]=0,t[1]=0),t[0]===t[1]&&(t[0]=t[0]-1,t[1]=t[1]+1),D[e]=d3.scale.linear().domain(t).range([.9*(u-12),0]),D[e].brush=d3.svg.brush().y(D[e]).on("brush",r),"name"!=e});var d=s.selectAll("g.nv-wrap.nv-parallelCoordinates").data([n]),f=d.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),p=d.select("g");f.append("g").attr("class","nv-parallelCoordinates background"),f.append("g").attr("class","nv-parallelCoordinates foreground"),f.append("g").attr("class","nv-parallelCoordinates missingValuesline"),d.attr("transform","translate("+S.left+","+S.top+")");var h,g,v=d3.svg.line().interpolate("cardinal").tension(N),m=d3.svg.axis().orient("left"),x=d3.behavior.drag().on("dragstart",t).on("drag",i).on("dragend",a),y=_.range()[1]-_.range()[0],b=[],k=[0+y/2,u-12,l-y/2,u-12];(h=d.select(".missingValuesline").selectAll("line").data([k])).enter().append("line"),h.exit().remove(),h.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(g=d.select(".missingValuesline").selectAll("text").data(["undefined values"])).append("text").data(["undefined values"]),g.enter().append("text"),g.exit().remove(),g.attr("y",u).attr("x",l-92-y/2).text(function(t){return t});var w=d.select(".background").selectAll("path").data(n);w.enter().append("path"),w.exit().remove(),w.attr("d",e);var M=d.select(".foreground").selectAll("path").data(n);M.enter().append("path"),M.exit().remove(),M.attr("d",e).attr("stroke",B),M.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),z.elementMouseover({label:t.name,data:t.data,index:e,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})}),M.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),z.elementMouseout({label:t.name,data:t.data,index:e})});var A=p.selectAll(".dimension").data(E),C=A.enter().append("g").attr("class","nv-parallelCoordinates dimension");C.append("g").attr("class","nv-parallelCoordinates nv-axis"),C.append("g").attr("class","nv-parallelCoordinates-brush"),C.append("text").attr("class","nv-parallelCoordinates nv-label"),A.attr("transform",function(t){return"translate("+_(t)+",0)"}),A.exit().remove(),A.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(t){z.elementMouseover({dim:t,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(t){z.elementMouseout({dim:t})}).call(x),A.select(".nv-axis").each(function(t,e){
d3.select(this).call(m.scale(D[t]).tickFormat(d3.format(O[e])))}),A.select(".nv-parallelCoordinates-brush").each(function(t){d3.select(this).call(D[t].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var S={top:30,right:0,bottom:10,left:0},W=null,F=null,_=d3.scale.ordinal(),D={},E=[],O=[],B=pt.utils.defaultColor(),L=[],T=[],P=[],N=1,z=d3.dispatch("brush","elementMouseover","elementMouseout");return e.dispatch=z,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return W},set:function(t){W=t}},height:{get:function(){return F},set:function(t){F=t}},dimensionNames:{get:function(){return E},set:function(t){E=t}},dimensionFormats:{get:function(){return O},set:function(t){O=t}},lineTension:{get:function(){return N},set:function(t){N=t}},dimensions:{get:function(){return E},set:function(t){pt.deprecated("dimensions","use dimensionNames instead"),E=t}},margin:{get:function(){return S},set:function(t){S.top=t.top!==undefined?t.top:S.top,S.right=t.right!==undefined?t.right:S.right,S.bottom=t.bottom!==undefined?t.bottom:S.bottom,S.left=t.left!==undefined?t.left:S.left}},color:{get:function(){return B},set:function(t){B=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.pie=function(){"use strict";function e(t){return J.reset(),t.each(function(t){function e(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,z||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return q[e](n(t))}}var n=S-C.left-C.right,r=W-C.top-C.bottom,a=Math.min(n,r)/2,o=[],i=[];if(E=d3.select(this),0===Q.length)for(var s=a-a/5,l=Z*a,u=0;u<t[0].length;u++)o.push(s),i.push(l);else o=Q.map(function(t){return(t.outer-t.outer/5)*a}),i=Q.map(function(t){return(t.inner-t.inner/5)*a}),Z=d3.min(Q.map(function(t){return t.inner-t.inner/5}));pt.utils.initSVG(E);var c=E.selectAll(".nv-wrap.nv-pie").data(t),d=c.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+D).append("g"),f=c.select("g"),p=d.append("g").attr("class","nv-pie");d.append("g").attr("class","nv-pieLabels"),c.attr("transform","translate("+C.left+","+C.top+")"),f.select(".nv-pie").attr("transform","translate("+n/2+","+r/2+")"),f.select(".nv-pieLabels").attr("transform","translate("+n/2+","+r/2+")"),E.on("click",function(t,e){K.chartClick({data:t,index:e,pos:d3.event,id:D})}),q=[],U=[];for(u=0;u<t[0].length;u++){var h=d3.svg.arc().outerRadius(o[u]),g=d3.svg.arc().outerRadius(o[u]+5);!1!==G&&(h.startAngle(G),g.startAngle(G)),!1!==j&&(h.endAngle(j),g.endAngle(j)),z&&(h.innerRadius(i[u]),g.innerRadius(i[u])),h.cornerRadius&&R&&(h.cornerRadius(R),g.cornerRadius(R)),q.push(h),U.push(g)}var v=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:_(t)});v.padAngle&&X&&v.padAngle(X),z&&V&&(p.append("text").attr("class","nv-pie-title"),c.select(".nv-pie-title").style("text-anchor","middle").text(function(){return V}).style("font-size",Math.min(n,r)*Z*2/(V.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+H+")"}));var m=c.select(".nv-pie").selectAll(".nv-slice").data(v),x=c.select(".nv-pieLabels").selectAll(".nv-label").data(v);m.exit().remove(),x.exit().remove();var y=m.enter().append("g");y.attr("class","nv-slice"),y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),I&&d3.select(this).select("path").transition().duration(70).attr("d",U[e]),K.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill")})}),y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),I&&d3.select(this).select("path").transition().duration(50).attr("d",q[e]),K.elementMouseout({data:t.data,index:e})}),y.on("mousemove",function(t,e){K.elementMousemove({data:t.data,index:e})}),y.on("click",function(t,e){K.elementClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),y.on("dblclick",function(t,e){K.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),m.attr("fill",function(t,e){return O(t.data,e)}),m.attr("stroke",function(t,e){return O(t.data,e)});y.append("path").each(function(t){this._current=t});if(m.select("path").transition().attr("d",function(t,e){return q[e](t)}).attrTween("d",e),L){var b=[];for(u=0;u<t[0].length;u++)b.push(q[u]),T?z&&(b[u]=d3.svg.arc().outerRadius(q[u].outerRadius()),!1!==G&&b[u].startAngle(G),!1!==j&&b[u].endAngle(j)):z||b[u].innerRadius(0);x.enter().append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t,e){if(Y){t.outerRadius=o[e]+10,t.innerRadius=o[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+b[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=a+10,t.innerRadius=a+15,"translate("+b[e].centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",Y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var k={},w=14,M=140,A=function(t){return Math.floor(t[0]/M)*M+","+Math.floor(t[1]/w)*w};x.watchTransition(J,"pie labels").attr("transform",function(t,e){if(Y){t.outerRadius=o[e]+10,t.innerRadius=o[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+b[e].centroid(t)+") rotate("+n+")"}t.outerRadius=a+10,t.innerRadius=a+15;var r=b[e].centroid(t);if(t.value){var i=A(r);k[i]&&(r[1]-=w),k[A(r)]=!0}return"translate("+r+")"}),x.select(".nv-label text").style("text-anchor",function(t){return Y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),r="";if(!t.value||n<N)return"";if("function"==typeof P)r=P(t,e,{key:F(t.data),value:_(t.data),percent:B(n)});else switch(P){case"key":r=F(t.data);break;case"value":r=B(_(t.data));break;case"percent":r=d3.format("%")(n)}return r})}}),J.renderEnd("pie immediate"),e}var C={top:0,right:0,bottom:0,left:0},S=500,W=500,F=function(t){return t.x},_=function(t){return t.y},D=Math.floor(1e4*Math.random()),E=null,O=pt.utils.defaultColor(),B=d3.format(",.2f"),L=!0,T=!1,P="key",N=.02,z=!1,V=!1,I=!0,H=0,Y=!1,G=!1,X=!1,j=!1,R=0,Z=.5,Q=[],K=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),q=[],U=[],J=pt.utils.renderWatch(K);return e.dispatch=K,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return Q},set:function(t){Q=t}},width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return W},set:function(t){W=t}},showLabels:{get:function(){return L},set:function(t){L=t}},title:{get:function(){return V},set:function(t){V=t}},titleOffset:{get:function(){return H},set:function(t){H=t}},labelThreshold:{get:function(){return N},set:function(t){N=t}},valueFormat:{get:function(){return B},set:function(t){B=t}},x:{get:function(){return F},set:function(t){F=t}},id:{get:function(){return D},set:function(t){D=t}},endAngle:{get:function(){return j},set:function(t){j=t}},startAngle:{get:function(){return G},set:function(t){G=t}},padAngle:{get:function(){return X},set:function(t){X=t}},cornerRadius:{get:function(){return R},set:function(t){R=t}},donutRatio:{get:function(){return Z},set:function(t){Z=t}},labelsOutside:{get:function(){return T},set:function(t){T=t}},labelSunbeamLayout:{get:function(){return Y},set:function(t){Y=t}},donut:{get:function(){return z},set:function(t){z=t}},growOnHover:{get:function(){return I},set:function(t){I=t}},pieLabelsOutside:{get:function(){return T},set:function(t){T=t,pt.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return T},set:function(t){T=t,pt.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return B},set:function(t){B=t,pt.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return C},set:function(t){C.top="undefined"!=typeof t.top?t.top:C.top,C.right="undefined"!=typeof t.right?t.right:C.right,C.bottom="undefined"!=typeof t.bottom?t.bottom:C.bottom,C.left="undefined"!=typeof t.left?t.left:C.left}},y:{get:function(){return _},set:function(t){_=d3.functor(t)}},color:{get:function(){return O},set:function(t){O=pt.utils.getColor(t)}},labelType:{get:function(){return P},set:function(t){P=t||"key"}}}),pt.utils.initOptions(e),e},pt.models.pieChart=function(){"use strict";function c(t){return a.reset(),a.models(d),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n,r=pt.utils.availableWidth(h,e,p),i=pt.utils.availableHeight(g,e,p);if(c.update=function(){e.transition().call(c)},c.container=this,x.setter(w(t),c.update).getter(k(t)).update(),x.disabled=t.map(function(t){return!!t.disabled}),!y)for(n in y={},x)x[n]instanceof Array?y[n]=x[n].slice(0):y[n]=x[n];if(!t||!t.length)return pt.utils.noData(c,e),c;e.selectAll(".nv-noData").remove();var a=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),o=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=a.select("g");if(o.append("g").attr("class","nv-pieWrap"),o.append("g").attr("class","nv-legendWrap"),v)if("top"===m)f.width(r).key(d.x()),a.select(".nv-legendWrap").datum(t).call(f),p.top!=f.height()&&(p.top=f.height(),i=pt.utils.availableHeight(g,e,p)),a.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")");else if("right"===m){var l=pt.models.legend().width();r/2<l&&(l=r/2),f.height(i).key(d.x()),f.width(l),r-=f.width(),a.select(".nv-legendWrap").datum(t).call(f).attr("transform","translate("+r+",0)")}a.attr("transform","translate("+p.left+","+p.top+")"),d.width(r).height(i);var u=s.select(".nv-pieWrap").datum([t]);d3.transition(u).call(d),f.dispatch.on("stateChange",function(t){for(var e in t)x[e]=t[e];b.stateChange(x),c.update()}),b.on("changeState",function(n){"undefined"!=typeof n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),x.disabled=n.disabled),c.update()})}),a.renderEnd("pieChart immediate"),c}var d=pt.models.pie(),f=pt.models.legend(),e=pt.models.tooltip(),p={top:30,right:20,bottom:20,left:20},h=null,g=null,v=!0,m="top",n=pt.utils.defaultColor(),x=pt.utils.state(),y=null,r=null,i=250,b=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return d.valueFormat()(t,e)});var a=pt.utils.renderWatch(b),k=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},w=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){e()}),c.legend=f,c.dispatch=b,c.pie=d,c.tooltip=e,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{noData:{get:function(){return r},set:function(t){r=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return y},set:function(t){y=t}},color:{get:function(){return n},set:function(t){n=t,f.color(n),d.color(n)}},duration:{get:function(){return i},set:function(t){i=t,a.reset(i)}},margin:{get:function(){return p},set:function(t){p.top=t.top!==undefined?t.top:p.top,p.right=t.right!==undefined?t.right:p.right,p.bottom=t.bottom!==undefined?t.bottom:p.bottom,p.left=t.left!==undefined?t.left:p.left}}}),pt.utils.inheritOptions(c,d),pt.utils.initOptions(c),c},pt.models.scatter=function(){"use strict";function e(t){return q.reset(),t.each(function(s){function t(){if(K=!1,!O)return!1;if(!0===Q){var n=d3.merge(s.map(function(t,i){return t.values.map(function(t,e){var n=C(t,e),r=S(t,e);return[w(n)+1e-4*Math.random(),M(r)+1e-4*Math.random(),i,e,t]}).filter(function(t,e){return B(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([w.range()[0]-20,M.range()[0]-20,null,null]),n.push([w.range()[1]+20,M.range()[1]+20,null,null]),n.push([w.range()[0]-20,M.range()[0]+20,null,null]),n.push([w.range()[1]+20,M.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,x+10],[m+10,x+10],[m+10,-10]]),t=d3.geom.voronoi(n).map(function(t,e){return{data:r.clip(t),series:n[e][2],point:n[e][3]}});o.select(".nv-point-paths").selectAll("path").remove();var e=o.select(".nv-point-paths").selectAll("path").data(t),i=e.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+b+"-"+e+")"});if(z&&i.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),N){o.select(".nv-point-clips").selectAll("*").remove();o.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+b+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",V)}var a=function(t,e){if(K)return 0;var n=s[t.series];if(n!==undefined){var r=n.values[t.point];r.color=y(n,t.series),r.x=C(r),r.y=S(r);var i=k.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,o=window.pageXOffset||document.documentElement.scrollLeft;e({point:r,series:n,pos:{left:w(C(r,t.point))+i.left+o+v.left+10,top:M(S(r,t.point))+i.top+a+v.top+10},relativePos:[w(C(r,t.point))+v.left,M(S(r,t.point))+v.top],seriesIndex:t.series,pointIndex:t.point})}};e.on("click",function(t){a(t,Z.elementClick)}).on("dblclick",function(t){a(t,Z.elementDblClick)}).on("mouseover",function(t){a(t,Z.elementMouseover)}).on("mouseout",function(t){a(t,Z.elementMouseout)})}else o.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(K||!s[t.series])return 0;var n=s[t.series],r=n.values[e];Z.elementClick({point:r,series:n,pos:[w(C(r,e))+v.left,M(S(r,e))+v.top],relativePos:[w(C(r,e))+v.left,M(S(r,e))+v.top],seriesIndex:t.series,pointIndex:e})}).on("dblclick",function(t,e){if(K||!s[t.series])return 0;var n=s[t.series],r=n.values[e];Z.elementDblClick({point:r,series:n,pos:[w(C(r,e))+v.left,M(S(r,e))+v.top],relativePos:[w(C(r,e))+v.left,M(S(r,e))+v.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(K||!s[t.series])return 0;var n=s[t.series],r=n.values[e];Z.elementMouseover({point:r,series:n,pos:[w(C(r,e))+v.left,M(S(r,e))+v.top],relativePos:[w(C(r,e))+v.left,M(S(r,e))+v.top],seriesIndex:t.series,pointIndex:e,color:y(t,e)})}).on("mouseout",function(t,e){if(K||!s[t.series])return 0;var n=s[t.series],r=n.values[e];Z.elementMouseout({point:r,series:n,pos:[w(C(r,e))+v.left,M(S(r,e))+v.top],relativePos:[w(C(r,e))+v.left,M(S(r,e))+v.top],seriesIndex:t.series,pointIndex:e,color:y(t,e)})})}k=d3.select(this);var e=pt.utils.availableWidth(m,k,v),n=pt.utils.availableHeight(x,k,v);pt.utils.initSVG(k),s.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var r=I&&H&&X?[]:d3.merge(s.map(function(t){return t.values.map(function(t,e){return{x:C(t,e),y:S(t,e),size:W(t,e)}})}));w.domain(I||d3.extent(r.map(function(t){return t.x}).concat(_))),L&&s[0]?w.range(Y||[(e*T+e)/(2*s[0].values.length),e-e*(1+T)/(2*s[0].values.length)]):w.range(Y||[0,e]),M.domain(H||d3.extent(r.map(function(t){return t.y}).concat(D))).range(G||[n,0]),A.domain(X||d3.extent(r.map(function(t){return t.size}).concat(E))).range(j||U),R=w.domain()[0]===w.domain()[1]||M.domain()[0]===M.domain()[1],w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]):w.domain([-1,1])),M.domain()[0]===M.domain()[1]&&(M.domain()[0]?M.domain([M.domain()[0]-.01*M.domain()[0],M.domain()[1]+.01*M.domain()[1]]):M.domain([-1,1])),isNaN(w.domain()[0])&&w.domain([-1,1]),isNaN(M.domain()[0])&&M.domain([-1,1]),f=f||w,p=p||M,h=h||A;var o=k.selectAll("g.nv-wrap.nv-scatter").data([s]),i=o.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+b),a=i.append("defs"),l=i.append("g"),u=o.select("g");o.classed("nv-single-point",R),l.append("g").attr("class","nv-groups"),l.append("g").attr("class","nv-point-paths"),i.append("g").attr("class","nv-point-clips"),o.attr("transform","translate("+v.left+","+v.top+")"),a.append("clipPath").attr("id","nv-edge-clip-"+b).append("rect"),o.select("#nv-edge-clip-"+b+" rect").attr("width",e).attr("height",0<n?n:0),u.attr("clip-path",P?"url(#nv-edge-clip-"+b+")":""),K=!0;var c=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});c.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),c.exit().remove(),c.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),c.watchTransition(q,"scatter: groups").style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var d=c.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return B(t[0],e)})});d.enter().append("path").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+f(C(t[0],t[1]))+","+p(S(t[0],t[1]))+")"}).attr("d",pt.utils.symbol().type(function(t){return F(t[0])}).size(function(t){return A(W(t[0],t[1]))})),d.exit().remove(),c.exit().selectAll("path.nv-point").watchTransition(q,"scatter exit").attr("transform",function(t){return"translate("+w(C(t[0],t[1]))+","+M(S(t[0],t[1]))+")"}).remove(),d.each(function(t){d3.select(this).classed("nv-point",!0).classed("nv-point-"+t[1],!0).classed("nv-noninteractive",!O).classed("hover",!1)}),d.watchTransition(q,"scatter points").attr("transform",function(t){return"translate("+w(C(t[0],t[1]))+","+M(S(t[0],t[1]))+")"}).attr("d",pt.utils.symbol().type(function(t){return F(t[0])}).size(function(t){return A(W(t[0],t[1]))})),clearTimeout(g),g=setTimeout(t,300),f=w.copy(),p=M.copy(),h=A.copy()}),q.renderEnd("scatter immediate"),e}var f,p,h,g,v={top:0,right:0,bottom:0,left:0},m=null,x=null,y=pt.utils.defaultColor(),b=Math.floor(1e5*Math.random()),k=null,w=d3.scale.linear(),M=d3.scale.linear(),A=d3.scale.linear(),C=function(t){return t.x},S=function(t){return t.y},W=function(t){return t.size||1},F=function(t){return t.shape||"circle"},_=[],D=[],E=[],O=!0,B=function(t){return!t.notActive},L=!1,T=.1,P=!1,N=!0,z=!1,V=function(){return 25},I=null,H=null,Y=null,G=null,X=null,j=null,R=!1,Z=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),Q=!0,n=250,K=!1,q=pt.utils.renderWatch(Z,n),U=[16,256];return e.dispatch=Z,e.options=pt.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return pt.dom.write(function(){k.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){pt.dom.write(function(){k.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},Z.on("elementMouseover.point",function(t){O&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),Z.on("elementMouseout.point",function(t){O&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return M},set:function(t){M=t}},pointScale:{get:function(){return A},set:function(t){A=t}},xDomain:{get:function(){return I},set:function(t){I=t}},yDomain:{get:function(){return H},set:function(t){H=t}},pointDomain:{get:function(){return X},set:function(t){X=t}},xRange:{get:function(){return Y},set:function(t){Y=t}},yRange:{get:function(){return G},set:function(t){G=t}},pointRange:{get:function(){return j},set:function(t){j=t}},forceX:{get:function(){return _},set:function(t){_=t}},forceY:{get:function(){return D},set:function(t){D=t}},forcePoint:{get:function(){return E},set:function(t){E=t}},interactive:{get:function(){return O},set:function(t){O=t}},pointActive:{get:function(){return B},set:function(t){B=t}},padDataOuter:{get:function(){return T},set:function(t){T=t}},padData:{get:function(){return L},set:function(t){L=t}},clipEdge:{get:function(){return P},set:function(t){P=t}},clipVoronoi:{get:function(){return N},set:function(t){N=t}},clipRadius:{get:function(){return V},set:function(t){V=t}},showVoronoi:{get:function(){return z},set:function(t){z=t}},id:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return C},set:function(t){C=d3.functor(t)}},y:{get:function(){return S},set:function(t){S=d3.functor(t)}},pointSize:{get:function(){return W},set:function(t){W=d3.functor(t)}},pointShape:{get:function(){return F},set:function(t){F=d3.functor(t)}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},duration:{get:function(){return n},set:function(t){n=t,q.reset(n)}},color:{get:function(){return y},set:function(t){y=pt.utils.getColor(t)}},useVoronoi:{get:function(){return Q},set:function(t){!1===(Q=t)&&(N=!1)}}}),pt.utils.initOptions(e),e},pt.models.scatterChart=function(){"use strict";function c(t){return T.reset(),T.models(d),F&&T.models(f),_&&T.models(p),C&&T.models(g),S&&T.models(v),t.each(function(r){k=d3.select(this),pt.utils.initSVG(k);var t,e=pt.utils.availableWidth(y,k,x),n=pt.utils.availableHeight(b,k,x);if(c.update=function(){0===L?k.call(c):k.transition().duration(L).call(c)},c.container=this,E.setter(N(r),c.update).getter(P(r)).update(),E.disabled=r.map(function(t){return!!t.disabled}),!O)for(t in O={},E)E[t]instanceof Array?O[t]=E[t].slice(0):O[t]=E[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return pt.utils.noData(c,k),T.renderEnd("scatter immediate"),c;k.selectAll(".nv-noData").remove(),M=d.xScale(),A=d.yScale();var i=k.selectAll("g.nv-wrap.nv-scatterChart").data([r]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+d.id()).append("g"),o=i.select("g");if(a.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis"),a.append("g").attr("class","nv-scatterWrap"),a.append("g").attr("class","nv-regressionLinesWrap"),a.append("g").attr("class","nv-distWrap"),a.append("g").attr("class","nv-legendWrap"),D&&o.select(".nv-y.nv-axis").attr("transform","translate("+e+",0)"),W){var s=e;h.width(s),i.select(".nv-legendWrap").datum(r).call(h),x.top!=h.height()&&(x.top=h.height(),n=pt.utils.availableHeight(b,k,x)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-x.top+")")}i.attr("transform","translate("+x.left+","+x.top+")"),d.width(e).height(n).color(r.map(function(t,e){return t.color=t.color||w(t,e),t.color}).filter(function(t,e){return!r[e].disabled})),i.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(d),i.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+d.id()+")");var l=i.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});l.enter().append("g").attr("class","nv-regLines");var u=l.selectAll(".nv-regLine").data(function(t){return[t]});u.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),u.filter(function(t){return t.intercept&&t.slope}).watchTransition(T,"scatterPlusLineChart: regline").attr("x1",M.range()[0]).attr("x2",M.range()[1]).attr("y1",function(t){return A(M.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return A(M.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return w(t,n)}).style("stroke-opacity",function(t){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),F&&(f.scale(M)._ticks(pt.utils.calcTicksX(e/100,r)).tickSize(-n,0),o.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")").call(f)),_&&(p.scale(A)._ticks(pt.utils.calcTicksY(n/36,r)).tickSize(-e,0),o.select(".nv-y.nv-axis").call(p)),C&&(g.getData(d.x()).scale(M).width(e).color(r.map(function(t,e){return t.color||w(t,e)}).filter(function(t,e){return!r[e].disabled})),a.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),o.select(".nv-distributionX").attr("transform","translate(0,"+A.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(g)),S&&(v.getData(d.y()).scale(A).width(n).color(r.map(function(t,e){return t.color||w(t,e)}).filter(function(t,e){return!r[e].disabled})),a.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),o.select(".nv-distributionY").attr("transform","translate("+(D?e:-v.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(v)),h.dispatch.on("stateChange",function(t){for(var e in t)E[e]=t[e];B.stateChange(E),c.update()}),B.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),E.disabled=n.disabled),c.update()}),d.dispatch.on("elementMouseout.tooltip",function(t){m.hidden(!0),k.select(".nv-chart-"+d.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),k.select(".nv-chart-"+d.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",v.size())}),d.dispatch.on("elementMouseover.tooltip",function(t){k.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-n),k.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+g.size()),m.data(t).hidden(!1)}),M.copy(),A.copy()}),T.renderEnd("scatter with line immediate"),c}var d=pt.models.scatter(),f=pt.models.axis(),p=pt.models.axis(),h=pt.models.legend(),g=pt.models.distribution(),v=pt.models.distribution(),m=pt.models.tooltip(),x={top:30,right:20,bottom:50,left:75},y=null,b=null,k=null,w=pt.utils.defaultColor(),M=d.xScale(),A=d.yScale(),C=!1,S=!1,W=!0,F=!0,_=!0,D=!1,E=pt.utils.state(),O=null,B=d3.dispatch("stateChange","changeState","renderEnd"),e=null,L=250;d.xScale(M).yScale(A),f.orient("bottom").tickPadding(10),p.orient(D?"right":"left").tickPadding(10),g.axis("x"),v.axis("y"),m.headerFormatter(function(t,e){return f.tickFormat()(t,e)}).valueFormatter(function(t,e){return p.tickFormat()(t,e)});var T=pt.utils.renderWatch(B,L),P=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},N=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return c.dispatch=B,c.scatter=d,c.legend=h,c.xAxis=f,c.yAxis=p,c.distX=g,c.distY=v,c.tooltip=m,c.options=pt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},container:{get:function(){return k},set:function(t){k=t}},showDistX:{get:function(){return C},set:function(t){C=t}},showDistY:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return W},set:function(t){W=t}},showXAxis:{get:function(){return F},set:function(t){F=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return O},set:function(t){O=t}},noData:{get:function(){return e},set:function(t){e=t}},duration:{get:function(){return L},set:function(t){L=t}},margin:{get:function(){return x},set:function(t){x.top=t.top!==undefined?t.top:x.top,x.right=t.right!==undefined?t.right:x.right,x.bottom=t.bottom!==undefined?t.bottom:x.bottom,x.left=t.left!==undefined?t.left:x.left}},rightAlignYAxis:{get:function(){return D},set:function(t){D=t,p.orient(t?"right":"left")}},color:{get:function(){return w},set:function(t){w=pt.utils.getColor(t),h.color(w),g.color(w),v.color(w)}}}),pt.utils.inheritOptions(c,d),pt.utils.initOptions(c),c},pt.models.sparkline=function(){"use strict";function e(t){return t.each(function(t){var e=d-c.left-c.right,n=f-c.top-c.bottom;p=d3.select(this),pt.utils.initSVG(p),h.domain(o||d3.extent(t,v)).range(l||[0,e]),g.domain(s||d3.extent(t,m)).range(u||[n,0]);var r=p.selectAll("g.nv-wrap.nv-sparkline").data([t]);r.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),r.select("g");r.attr("transform","translate("+c.left+","+c.top+")");var i=r.selectAll("path").data(function(t){return[t]});i.enter().append("path"),i.exit().remove(),i.style("stroke",function(t,e){return t.color||x(t,e)}).attr("d",d3.svg.line().x(function(t,e){return h(v(t,e))}).y(function(t,e){return g(m(t,e))}));var a=r.selectAll("circle.nv-point").data(function(n){function t(t){if(-1==t)return null;var e=n[t];return e.pointIndex=t,e}var e=n.map(function(t,e){return m(t,e)}),r=t(e.lastIndexOf(g.domain()[1]));return[t(e.indexOf(g.domain()[0])),r,t(e.length-1)].filter(function(t){return null!=t})});a.enter().append("circle"),a.exit().remove(),a.attr("cx",function(t){return h(v(t,t.pointIndex))}).attr("cy",function(t){return g(m(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return v(t,t.pointIndex)==h.domain()[1]?"nv-point nv-currentValue":m(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var o,s,l,u,c={top:2,right:0,bottom:2,left:0},d=400,f=32,p=null,n=!0,h=d3.scale.linear(),g=d3.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},x=pt.utils.getColor(["#000"]);return e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return o},set:function(t){o=t}},yDomain:{get:function(){return s},set:function(t){s=t}},xRange:{get:function(){return l},set:function(t){l=t}},yRange:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return g},set:function(t){g=t}},animate:{get:function(){return n},set:function(t){n=t}},x:{get:function(){return v},set:function(t){v=d3.functor(t)}},y:{get:function(){return m},set:function(t){m=d3.functor(t)}},margin:{get:function(){return c},set:function(t){c.top=t.top!==undefined?t.top:c.top,c.right=t.right!==undefined?t.right:c.right,c.bottom=t.bottom!==undefined?t.bottom:c.bottom,c.left=t.left!==undefined?t.left:c.left}},color:{get:function(){return x},set:function(t){x=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.sparklinePlus=function(){"use strict";function f(t){return t.each(function(n){function r(){if(!b){var t=u.selectAll(".nv-hoverValue").data(y),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+p(g.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),y.length&&(e.append("line").attr("x1",0).attr("y1",-v.top).attr("x2",0).attr("y2",a),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-v.top).attr("text-anchor","end").attr("dy",".9em"),u.select(".nv-hoverValue .nv-xValue").text(k(g.x()(n[y[0]],y[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-v.top).attr("text-anchor","start").attr("dy",".9em"),u.select(".nv-hoverValue .nv-yValue").text(w(g.y()(n[y[0]],y[0]))))}}function t(){function t(t,e){for(var n=Math.abs(g.x()(t[0],0)-e),r=0,i=0;i<t.length;i++)Math.abs(g.x()(t[i],i)-e)<n&&(n=Math.abs(g.x()(t[i],i)-e),r=i);return r}if(!b){var e=d3.mouse(this)[0]-v.left;y=[t(n,Math.round(p.invert(e)))],r()}}var e=d3.select(this);pt.utils.initSVG(e);var i=pt.utils.availableWidth(m,e,v),a=pt.utils.availableHeight(x,e,v);if(f.update=function(){e.call(f)},f.container=this,!n||!n.length)return pt.utils.noData(f,e),f;e.selectAll(".nv-noData").remove();var o=g.y()(n[n.length-1],n.length-1);p=g.xScale(),h=g.yScale();var s=e.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),l=s.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),u=s.select("g");l.append("g").attr("class","nv-sparklineWrap"),l.append("g").attr("class","nv-valueWrap"),l.append("g").attr("class","nv-hoverArea"),s.attr("transform","translate("+v.left+","+v.top+")");var c=u.select(".nv-sparklineWrap");if(g.width(i).height(a),c.call(g),M){var d=u.select(".nv-valueWrap").selectAll(".nv-currentValue").data([o]);d.enter().append("text").attr("class","nv-currentValue").attr("dx",C?-8:8).attr("dy",".9em").style("text-anchor",C?"end":"start"),d.attr("x",i+(C?v.right:0)).attr("y",A?function(t){return h(t)}:0).style("fill",g.color()(
n[n.length-1],n.length-1)).text(w(o))}l.select(".nv-hoverArea").append("rect").on("mousemove",t).on("click",function(){b=!b}).on("mouseout",function(){y=[],r()}),u.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-v.left+","+-v.top+")"}).attr("width",i+v.left+v.right).attr("height",a+v.top)}),f}var p,h,g=pt.models.sparkline(),v={top:15,right:100,bottom:10,left:50},m=null,x=null,y=[],b=!1,k=d3.format(",r"),w=d3.format(",.2f"),M=!0,A=!0,C=!1,e=null;return f.sparkline=g,f.options=pt.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},xTickFormat:{get:function(){return k},set:function(t){k=t}},yTickFormat:{get:function(){return w},set:function(t){w=t}},showLastValue:{get:function(){return M},set:function(t){M=t}},alignValue:{get:function(){return A},set:function(t){A=t}},rightAlignValue:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}}}),pt.utils.inheritOptions(f,g),pt.utils.initOptions(f),f},pt.models.stackedArea=function(){"use strict";function p(t){return D.reset(),D.models(F),t.each(function(t){var e=m-v.left-v.right,n=x-v.top-v.bottom;k=d3.select(this),pt.utils.initSVG(k),h=F.xScale(),g=F.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var r=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(C).offset(A).values(function(t){return t.values}).x(w).y(M).out(function(t,e,n){t.display={y:n,y0:e}})(r);var i=k.selectAll("g.nv-wrap.nv-stackedarea").data([t]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),o=a.append("defs"),l=a.append("g"),u=i.select("g");l.append("g").attr("class","nv-areaWrap"),l.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+v.left+","+v.top+")"),0==F.forceY().length&&F.forceY().push(0),F.width(e).height(n).x(w).y(function(t){if(t.display!==undefined)return t.display.y+t.display.y0}).forceY([0]).color(t.map(function(t){return t.color||y(t,t.seriesIndex)})),u.select(".nv-scatterWrap").datum(t).call(F),o.append("clipPath").attr("id","nv-edge-clip-"+b).append("rect"),i.select("#nv-edge-clip-"+b+" rect").attr("width",e).attr("height",n),u.attr("clip-path",W?"url(#nv-edge-clip-"+b+")":"");var c=d3.svg.area().x(function(t,e){return h(w(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y+t.display.y0)}).interpolate(S),d=d3.svg.area().x(function(t,e){return h(w(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y0)}),f=u.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});f.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return d(t.values,t.seriesIndex)}).on("mouseover",function(t){d3.select(this).classed("hover",!0),_.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t){d3.select(this).classed("hover",!1),_.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t){d3.select(this).classed("hover",!1),_.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),f.exit().remove(),f.style("fill",function(t){return t.color||y(t,t.seriesIndex)}).style("stroke",function(t){return t.color||y(t,t.seriesIndex)}),f.watchTransition(D,"stackedArea path").attr("d",function(t,e){return c(t.values,e)}),F.dispatch.on("elementMouseover.area",function(t){u.select(".nv-chart-"+b+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),F.dispatch.on("elementMouseout.area",function(t){u.select(".nv-chart-"+b+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),p.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,a=t[0].length,o=[];for(n=0;n<a;++n){for(r=e=0;e<s.length;e++)r+=M(s[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<a;++n)o[n]=0;return o}}),D.renderEnd("stackedArea immediate"),p}var h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,y=pt.utils.defaultColor(),b=Math.floor(1e5*Math.random()),k=null,w=function(t){return t.x},M=function(t){return t.y},e="stack",A="zero",C="default",S="linear",W=!1,F=pt.models.scatter(),n=250,_=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");F.pointSize(2.2).pointDomain([2.2,2.2]);var D=pt.utils.renderWatch(_,n);return p.dispatch=_,(p.scatter=F).dispatch.on("elementClick",function(){_.elementClick.apply(this,arguments)}),F.dispatch.on("elementMouseover",function(){_.elementMouseover.apply(this,arguments)}),F.dispatch.on("elementMouseout",function(){_.elementMouseout.apply(this,arguments)}),p.interpolate=function(t){return arguments.length?(S=t,p):S},p.duration=function(t){return arguments.length?(n=t,D.reset(n),F.duration(n),p):n},p.dispatch=_,p.scatter=F,p.options=pt.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return W},set:function(t){W=t}},offset:{get:function(){return A},set:function(t){A=t}},order:{get:function(){return C},set:function(t){C=t}},interpolate:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return w},set:function(t){w=d3.functor(t)}},y:{get:function(){return M},set:function(t){M=d3.functor(t)}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},color:{get:function(){return y},set:function(t){y=pt.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":p.offset("zero"),p.order("default");break;case"stream":p.offset("wiggle"),p.order("inside-out");break;case"stream-center":p.offset("silhouette"),p.order("inside-out");break;case"expand":p.offset("expand"),p.order("default");break;case"stack_percent":p.offset(p.d3_stackedOffset_stackPercent),p.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,D.reset(n),F.duration(n)}}}),pt.utils.inheritOptions(p,F),pt.utils.initOptions(p),p},pt.models.stackedAreaChart=function(){"use strict";function p(t){return r.reset(),r.models(v),F&&r.models(m),_&&r.models(x),t.each(function(r){var t=d3.select(this),n=this;pt.utils.initSVG(t);var e,i=pt.utils.availableWidth(M,t,w),a=pt.utils.availableHeight(A,t,w);if(p.update=function(){t.transition().duration(I).call(p)},p.container=this,L.setter(X(r),p.update).getter(G(r)).update(),L.disabled=r.map(function(t){return!!t.disabled}),!T)for(e in T={},L)L[e]instanceof Array?T[e]=L[e].slice(0):T[e]=L[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return pt.utils.noData(p,t),p;t.selectAll(".nv-noData").remove(),h=v.xScale(),g=v.yScale();var o=t.selectAll("g.nv-wrap.nv-stackedAreaChart").data([r]),s=o.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),l=o.select("g");if(s.append("rect").style("opacity",0),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-stackedWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),s.append("g").attr("class","nv-interactive"),l.select("rect").attr("width",i).attr("height",a),W){var u=S?i-N:i;y.width(u),l.select(".nv-legendWrap").datum(r).call(y),w.top!=y.height()&&(w.top=y.height(),a=pt.utils.availableHeight(A,t,w)),l.select(".nv-legendWrap").attr("transform","translate("+(i-u)+","+-w.top+")")}if(S){var c=[{key:V.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=v.style(),style:"stack"},{key:V.stream||"Stream",metaKey:"Stream",disabled:"stream"!=v.style(),style:"stream"},{key:V.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=v.style(),style:"expand"},{key:V.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=v.style(),style:"stack_percent"}];N=z.length/3*260,c=c.filter(function(t){return-1!==z.indexOf(t.metaKey)}),b.width(N).color(["#444","#444","#444"]),l.select(".nv-controlsWrap").datum(c).call(b),w.top!=Math.max(b.height(),y.height())&&(w.top=Math.max(b.height(),y.height()),a=pt.utils.availableHeight(A,t,w)),l.select(".nv-controlsWrap").attr("transform","translate(0,"+-w.top+")")}if(o.attr("transform","translate("+w.left+","+w.top+")"),D&&l.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)"),E&&(k.width(i).height(a).margin({left:w.left,top:w.top}).svgContainer(t).xScale(h),o.select(".nv-interactive").call(k)),v.width(i).height(a),l.select(".nv-stackedWrap").datum(r).transition().call(v),F&&(m.scale(h)._ticks(pt.utils.calcTicksX(i/100,r)).tickSize(-a,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+a+")"),l.select(".nv-x.nv-axis").transition().duration(0).call(m)),_){var d;if(d="wiggle"===v.offset()?0:pt.utils.calcTicksY(a/36,r),x.scale(g)._ticks(d).tickSize(-i,0),"expand"===v.style()||"stack_percent"===v.style()){var f=x.tickFormat();H&&f===j||(H=f),x.tickFormat(j)}else H&&(x.tickFormat(H),H=null);l.select(".nv-y.nv-axis").transition().duration(0).call(x)}v.dispatch.on("areaClick.toggle",function(n){1===r.filter(function(t){return!t.disabled}).length?r.forEach(function(t){t.disabled=!1}):r.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),L.disabled=r.map(function(t){return!!t.disabled}),P.stateChange(L),p.update()}),y.dispatch.on("stateChange",function(t){for(var e in t)L[e]=t[e];P.stateChange(L),p.update()}),b.dispatch.on("legendClick",function(t){t.disabled&&(c=c.map(function(t){return t.disabled=!0,t}),t.disabled=!1,v.style(t.style),L.style=v.style(),P.stateChange(L),p.update())}),k.dispatch.on("elementMousemove",function(i){v.clearHighlights();var a,o,s,l=[],u=0;if(r.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=pt.interactiveBisect(t.values,i.pointXValue,p.x());var n=t.values[o];if(null!=p.y()(n,o)&&v.highlightPoint(e,o,!0),void 0!==n){void 0===a&&(a=n),void 0===s&&(s=p.xScale()(p.x()(n,o)));var r="expand"==v.style()?n.display.y:p.y()(n,o);l.push({key:t.key,value:r,color:C(t,t.seriesIndex),stackedValue:n.display}),O&&"expand"!=v.style()&&(u+=r)}}),l.reverse(),2<l.length){var c=p.yScale().invert(i.mouseY),d=(Infinity,null);l.forEach(function(t,e){c=Math.abs(c);var n=Math.abs(t.stackedValue.y0),r=Math.abs(t.stackedValue.y);n<=c&&c<=r+n&&(d=e)}),null!=d&&(l[d].highlight=!0)}O&&"expand"!=v.style()&&2<=l.length&&l.push({key:B,value:u,total:!0});var t=m.tickFormat()(p.x()(a,o)),e=k.tooltip.valueFormatter();"expand"===v.style()||"stack_percent"===v.style()?(Y||(Y=e),e=d3.format(".1%")):Y&&(e=Y,Y=null),k.tooltip.chartContainer(n.parentNode).valueFormatter(e).data({value:t,series:l})(),k.renderGuideLine(s)}),k.dispatch.on("elementMouseout",function(){v.clearHighlights()}),P.on("changeState",function(n){"undefined"!=typeof n.disabled&&r.length===n.disabled.length&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),L.disabled=n.disabled),"undefined"!=typeof n.style&&(v.style(n.style),n.style),p.update()})}),r.renderEnd("stacked Area chart immediate"),p}var h,g,v=pt.models.stackedArea(),m=pt.models.axis(),x=pt.models.axis(),y=pt.models.legend(),b=pt.models.legend(),k=pt.interactiveGuideline(),e=pt.models.tooltip(),w={top:30,right:25,bottom:50,left:60},M=null,A=null,C=pt.utils.defaultColor(),S=!0,W=!0,F=!0,_=!0,D=!1,E=!1,O=!0,B="TOTAL",L=pt.utils.state(),T=null,n=null,P=d3.dispatch("stateChange","changeState","renderEnd"),N=250,z=["Stacked","Stream","Expanded"],V={},I=250;L.style=v.style(),m.orient("bottom").tickPadding(7),x.orient(D?"right":"left"),e.headerFormatter(function(t,e){return m.tickFormat()(t,e)}).valueFormatter(function(t,e){return x.tickFormat()(t,e)}),k.tooltip.headerFormatter(function(t,e){return m.tickFormat()(t,e)}).valueFormatter(function(t,e){return x.tickFormat()(t,e)});var H=null,Y=null;b.updateState(!1);var r=pt.utils.renderWatch(P),G=(v.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:v.style()}}}),X=function(t){return function(n){n.style!==undefined&&n.style,n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},j=d3.format("%");return v.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=v.x()(t.point),t.point.y=v.y()(t.point),e.data(t).hidden(!1)}),v.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),p.dispatch=P,p.stacked=v,p.legend=y,p.controls=b,p.xAxis=m,p.yAxis=x,p.interactiveLayer=k,p.tooltip=e,p.dispatch=P,p.options=pt.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return A},set:function(t){A=t}},showLegend:{get:function(){return W},set:function(t){W=t}},showXAxis:{get:function(){return F},set:function(t){F=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return S},set:function(t){S=t}},controlLabels:{get:function(){return V},set:function(t){V=t}},controlOptions:{get:function(){return z},set:function(t){z=t}},showTotalInTooltip:{get:function(){return O},set:function(t){O=t}},totalLabel:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return w},set:function(t){w.top=t.top!==undefined?t.top:w.top,w.right=t.right!==undefined?t.right:w.right,w.bottom=t.bottom!==undefined?t.bottom:w.bottom,w.left=t.left!==undefined?t.left:w.left}},duration:{get:function(){return I},set:function(t){I=t,r.reset(I),v.duration(I),m.duration(I),x.duration(I)}},color:{get:function(){return C},set:function(t){C=pt.utils.getColor(t),y.color(C),v.color(C)}},rightAlignYAxis:{get:function(){return D},set:function(t){D=t,x.orient(D?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(t){E=!!t,p.interactive(!t),p.useVoronoi(!t),v.scatter.interactive(!t)}}}),pt.utils.inheritOptions(p,v),pt.utils.initOptions(p),p},pt.models.sunburst=function(){"use strict";function e(t){return n.reset(),t.each(function(t){function e(t){t.x0=t.x,t.dx0=t.dx}function n(t){var n=d3.interpolate(w.domain(),[t.x,t.x+t.dx]),r=d3.interpolate(M.domain(),[t.y,1]),i=d3.interpolate(M.range(),[t.y?20:0,o]);return function(e,t){return t?function(){return C(e)}:function(t){return w.domain(n(t)),M.domain(r(t)).range(i(t)),C(e)}}}x=d3.select(this);var r,i=pt.utils.availableWidth(p,x,f),a=pt.utils.availableHeight(h,x,f),o=Math.min(i,a)/2;pt.utils.initSVG(x);var s=x.selectAll(".nv-wrap.nv-sunburst").data(t),l=s.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+m).selectAll("nv-sunburst");s.attr("transform","translate("+i/2+","+a/2+")"),x.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:m})}),M.range([0,o]),u=u||t,d=t[0],A.value(v[g]||v.count),r=l.data(A.nodes).enter().append("path").attr("d",C).style("fill",function(t){return y((t.children?t:t.parent).name)}).style("stroke","#FFF").on("click",function(t){c!==u&&u!==t&&(c=u),u=t,r.transition().duration(b).attrTween("d",n(t))}).each(e).on("dblclick",function(t){c.parent==t&&r.transition().duration(b).attrTween("d",n(d))}).each(e).on("mouseover",function(t){d3.select(this).classed("hover",!0).style("opacity",.8),k.elementMouseover({data:t,color:d3.select(this).style("fill")})}).on("mouseout",function(t){d3.select(this).classed("hover",!1).style("opacity",1),k.elementMouseout({data:t})}).on("mousemove",function(t){k.elementMousemove({data:t})})}),n.renderEnd("sunburst immediate"),e}var u,c,d,f={top:0,right:0,bottom:0,left:0},p=null,h=null,g="count",v={count:function(){return 1},size:function(t){return t.size}},m=Math.floor(1e4*Math.random()),x=null,y=pt.utils.defaultColor(),b=500,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),w=d3.scale.linear().range([0,2*Math.PI]),M=d3.scale.sqrt(),A=d3.layout.partition().sort(null).value(function(){return 1}),C=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,w(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,M(t.y))}).outerRadius(function(t){return Math.max(0,M(t.y+t.dy))}),n=pt.utils.renderWatch(k);return e.dispatch=k,e.options=pt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},mode:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return m},set:function(t){m=t}},duration:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return f},set:function(t){f.top=t.top!=undefined?t.top:f.top,f.right=t.right!=undefined?t.right:f.right,f.bottom=t.bottom!=undefined?t.bottom:f.bottom,f.left=t.left!=undefined?t.left:f.left}},color:{get:function(){return y},set:function(t){y=pt.utils.getColor(t)}}}),pt.utils.initOptions(e),e},pt.models.sunburstChart=function(){"use strict";function l(t){return a.reset(),a.models(u),t.each(function(t){var e=d3.select(this);pt.utils.initSVG(e);var n=pt.utils.availableWidth(d,e,c),r=pt.utils.availableHeight(f,e,c);if(l.update=function(){0===p?e.call(l):e.transition().duration(p).call(l)},l.container=this,!t||!t.length)return pt.utils.noData(l,e),l;e.selectAll(".nv-noData").remove();var i=e.selectAll("g.nv-wrap.nv-sunburstChart").data(t),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),o=i.select("g");a.append("g").attr("class","nv-sunburstWrap"),i.attr("transform","translate("+c.left+","+c.top+")"),u.width(n).height(r);var s=o.select(".nv-sunburstWrap").datum(t);d3.transition(s).call(u)}),a.renderEnd("sunburstChart immediate"),l}var u=pt.models.sunburst(),e=pt.models.tooltip(),c={top:30,right:20,bottom:20,left:20},d=null,f=null,n=pt.utils.defaultColor(),r=(Math.round(1e5*Math.random()),null),i=null,p=250,t=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0);var a=pt.utils.renderWatch(t);return e.headerEnabled(!1).valueFormatter(function(t){return t}),u.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.size,color:t.color},e.data(t).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),u.dispatch.on("elementMousemove.tooltip",function(){e()}),l.dispatch=t,l.sunburst=u,l.tooltip=e,l.options=pt.utils.optionsFunc.bind(l),l._options=Object.create({},{noData:{get:function(){return i},set:function(t){i=t}},defaultState:{get:function(){return r},set:function(t){r=t}},color:{get:function(){return n},set:function(t){n=t,u.color(n)}},duration:{get:function(){return p},set:function(t){p=t,a.reset(p),u.duration(p)}},margin:{get:function(){return c},set:function(t){c.top=t.top!==undefined?t.top:c.top,c.right=t.right!==undefined?t.right:c.right,c.bottom=t.bottom!==undefined?t.bottom:c.bottom,c.left=t.left!==undefined?t.left:c.left}}}),pt.utils.inheritOptions(l,u),pt.utils.initOptions(l),l},pt.version="1.8.1-dev"}();