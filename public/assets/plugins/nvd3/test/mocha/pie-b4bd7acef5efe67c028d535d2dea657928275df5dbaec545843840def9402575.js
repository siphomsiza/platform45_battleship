(function(){describe("NVD3",function(){return describe("Pie Chart",function(){var e,n,t;return t=[{label:"America",value:100},{label:"Europe",value:200},{label:"Asia",value:50},{label:"Africa",value:70}],n={x:function(e){return e.label},y:function(e){return e.value},margin:{top:30,right:20,bottom:50,left:75},width:200,height:200,color:nv.utils.defaultColor(),showLegend:!0,valueFormat:function(e){return e.toFixed(2)},showLabels:!0,labelsOutside:!0,donut:!1,donutRatio:.5,labelThreshold:.02,labelType:"key",noData:"No Data Available",duration:0,startAngle:!1,endAngle:!1,padAngle:!1,cornerRadius:0,labelSunbeamLayout:!1},e=null,beforeEach(function(){return e=new ChartBuilder(nv.models.pieChart()),e.build(n,t)}),afterEach(function(){return e.teardown()}),it("api check",function(){var t,l;should.exist(e.model.options,"options exposed"),l=[];for(t in n)l.push(should.exist(e.model[t](),t+" can be called"));return l}),describe("renders",function(){var n,l;return l=null,n=null,beforeEach(function(){return l=e.$("g.nvd3.nv-pieChart"),n=l[0].querySelectorAll(".nv-label text")}),it(".nv-pieChart",function(){return should.exist(l[0])}),it("can access margin",function(){var n;return e.model.margin({top:31,right:21,bottom:51,left:76}),n=e.model.margin(),n.should.deep.equal({top:31,right:21,bottom:51,left:76})}),describe("labels correctly",function(){var e,r,a,o,u;for(it("["+t.length+"] labels",function(){return l[0].querySelectorAll(".nv-label").should.have.length(t.length)}),u=[],e=a=0,o=t.length;o>a;e=++a)r=t[e],u.push(function(e,t){return it("label '"+e.label+"'",function(){return e.label.should.be.equal(n[t].textContent)})}(r,e));return u})}),it("clears chart objects for no data",function(){var l;return e=new ChartBuilder(nv.models.pieChart()),e.buildover(n,t,[]),l=e.$("g"),l.length.should.equal(0,"removes chart components")}),it("has correct structure",function(){var n,t,l,r,a;for(t=[".nv-pieWrap",".nv-pie",".nv-pieLabels",".nv-legendWrap"],a=[],l=0,r=t.length;r>l;l++)n=t[l],a.push(function(n){return should.exist(e.$("g.nvd3.nv-pieChart "+n)[0])}(n));return a}),it("can handle donut mode and options",function(l){return e.teardown(),n.donut=!0,n.labelSunbeamLayout=!0,n.startAngle=function(e){return e.startAngle/2-Math.PI/2},n.endAngle=function(e){return e.endAngle/2-Math.PI/2},e.build(n,t),l()}),it("can handle cornerRadius and padAngle options",function(l){return e.teardown(),n.padAngle=5,n.cornerRadius=5,e.build(n,t),l()}),it("can render pie labels in other formats",function(){var e,n,l,r,a,o,u,i,d,c,s;for(c={x:function(e){return e.label},y:function(e){return e.value},labelType:"value",valueFormat:d3.format(".2f")},e=new ChartBuilder(nv.models.pie()),e.build(c,[t]),u=e.$(".nv-pieLabels .nv-label text"),u.length.should.equal(4),n=["100.00","200.00","50.00","70.00"],l=r=0,i=u.length;i>r;l=++r)o=u[l],o.textContent.should.equal(n[l]);for(e.teardown(),c.labelType="percent",c.valueFormat=d3.format("%"),e.build(c,[t]),u=e.$(".nv-pieLabels .nv-label text"),u.length.should.equal(4),n=["24%","48%","12%","17%"],s=[],l=a=0,d=u.length;d>a;l=++a)o=u[l],s.push(o.textContent.should.equal(n[l]));return s})})})}).call(this);