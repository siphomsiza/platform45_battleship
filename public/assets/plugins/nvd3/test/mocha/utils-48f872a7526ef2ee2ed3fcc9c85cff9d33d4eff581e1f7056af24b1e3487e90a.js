(function(){describe("NVD3",function(){var createCont;return describe("Utils",function(){var objects;return objects=["nv.utils.windowSize","nv.utils.windowResize","nv.utils.getColor","nv.utils.defaultColor","nv.utils.customTheme","nv.utils.pjax","nv.utils.calcApproxTextWidth","nv.utils.NaNtoZero","nv.utils.renderWatch","nv.utils.deepExtend","nv.utils.state","nv.utils.optionsFunc","nv.utils.sanitizeHeight","nv.utils.sanitizeWidth","nv.utils.availableHeight","nv.utils.availableWidth","nv.utils.noData"],describe("has ",function(){var j,len,obj,results;for(results=[],j=0,len=objects.length;len>j;j++)obj=objects[j],results.push(it(" "+obj+" object",function(){return should.exist(eval(obj))}));return results}),it("has working nv.utils.NaNtoZero function",function(){return nv.utils.NaNtoZero().should.be.equal(0),nv.utils.NaNtoZero(void 0).should.be.equal(0),nv.utils.NaNtoZero(NaN).should.be.equal(0),nv.utils.NaNtoZero(null).should.be.equal(0),nv.utils.NaNtoZero(1/0).should.be.equal(0),nv.utils.NaNtoZero(-(1/0)).should.be.equal(0),nv.utils.NaNtoZero(1).should.be.equal(1),nv.utils.NaNtoZero(0).should.be.equal(0),nv.utils.NaNtoZero(-1).should.be.equal(-1)}),it("should return a function if passing a function into nv.utils.getColor",function(){var t;return t=function(){return 1},nv.utils.getColor(t).should.be.equal(t)}),it("should return a function wrapping an array if passing an array into nv.utils.getColor",function(){var t,e;return t=["#fff","#ccc","#aaa","#000"],e=nv.utils.getColor(t),e({},0).should.be.equal("#fff"),e({},1).should.be.equal("#ccc"),e({},2).should.be.equal("#aaa"),e({},3).should.be.equal("#000")})}),createCont=function(t){var e;return null==t&&(t=!1),e=document.createElement("div"),t&&(e.style.cssText="width:964px;height:404px"),d3.select(e)},describe("Sanitize Height and Width for a Container",function(){return it("provides default height and width",function(){var t;return t=createCont(),expect(nv.utils.sanitizeHeight(null,t)).to.equal(400),expect(nv.utils.sanitizeWidth(null,t)).to.equal(960),expect(nv.utils.sanitizeHeight(void 0,t)).to.equal(400),expect(nv.utils.sanitizeWidth(void 0,t)).to.equal(960),expect(nv.utils.sanitizeHeight(0,t)).to.equal(400),expect(nv.utils.sanitizeWidth(0,t)).to.equal(960)}),it("uses container width and height",function(){var t;return t=createCont(!0),expect(nv.utils.sanitizeHeight(null,t)).to.equal(404),expect(nv.utils.sanitizeWidth(null,t)).to.equal(964)}),it("uses given width and height",function(){var t;return t=createCont(!0),expect(nv.utils.sanitizeHeight(408,t)).to.equal(408),expect(nv.utils.sanitizeWidth(968,t)).to.equal(968)})}),describe("Available Container Height and Width",function(){return it("calculates height and width properly",function(){var t,e;return t=createCont(!0),e={left:5,right:6,top:7,bottom:8},expect(nv.utils.availableHeight(300,t,e)).to.equal(285),expect(nv.utils.availableWidth(300,t,e)).to.equal(289),expect(nv.utils.availableHeight(0,t,e)).to.equal(389),expect(nv.utils.availableWidth(0,t,e)).to.equal(953)})}),describe("Interactive Bisect",function(){var t;return it("works with no accessor",function(){var t;return t=[{x:0},{x:1},{x:1},{x:2},{x:3},{x:5},{x:8},{x:13},{x:21},{x:34}],expect(nv.interactiveBisect(t,7)).to.equal(6)}),t=function(t,e,n){var i;return null==n&&(n=null),i=null==n?function(t){return t}:n,nv.interactiveBisect(t,e,i)},it("exists",function(){return expect(nv.interactiveBisect).to.exist}),it("returns null when no array",function(){return expect(nv.interactiveBisect("bad","a")).to.equal(null)}),it("basic test",function(){return expect(t([0,1,2,3,4,5],3)).to.equal(3)}),it("zero bound",function(){return expect(t([0,1,2,3,4,5],0)).to.equal(0)}),it("length bound",function(){return expect(t([0,1,2,3,4,5],5)).to.equal(5)}),it("negative number",function(){return expect(t([0,1,2,3,4,5],-4)).to.equal(0)}),it("past the end",function(){return expect(t([0,1,2,3,4,5],10)).to.equal(5)}),it("floating point number 1",function(){return expect(t([0,1,2,3,4,5],.34)).to.equal(0)}),it("floating point number 2",function(){return expect(t([0,1,2,3,4,5],1.50001)).to.equal(2)}),it("fibonacci - existing",function(){var e;return e=[0,1,1,2,3,5,8,13,21,34],expect(t(e,8)).to.equal(6)}),it("fibonacci - inbetween item (left)",function(){var e;return e=[0,1,1,2,3,5,8,13,21,34],expect(t(e,15)).to.equal(7)}),it("fibonacci - inbetween item (right)",function(){var e;return e=[0,1,1,2,3,5,8,13,21,34],expect(t(e,20)).to.equal(8)}),it("empty array",function(){return expect(t([],4)).to.equal(0)}),it("single element array",function(){return expect(t([0],0)).to.equal(0)}),it("single element array - negative bound",function(){return expect(t([0],-4)).to.equal(0)}),it("single element array - past the end",function(){return expect(t([0],1)).to.equal(0)})}),describe("NoData Chart Clearing",function(){var t,e;return e=[{key:"Series 1",values:[[-1,-1],[0,0],[1,1],[2,2]]}],t={x:function(t){return t[0]},y:function(t){return t[1]},margin:{top:30,right:20,bottom:50,left:75},color:nv.utils.defaultColor(),height:400,width:800,showLegend:!0,showXAxis:!0,showYAxis:!0,rightAlignYAxis:!0,useInteractiveGuideline:!0,noData:"No Data Available",duration:0,clipEdge:!1,isArea:function(t){return t.area},defined:function(){return!0},interpolate:"linear"},it("shows no data text",function(){var e,n;return e=new ChartBuilder(nv.models.lineChart()),e.build(t,[]),n=e.$(".nv-noData"),n[0].textContent.should.equal("No Data Available")}),it("clears chart objects for no data",function(){var n,i;return n=new ChartBuilder(nv.models.lineChart()),n.buildover(t,e,[]),i=n.$("g"),i.length.should.equal(0,"removes chart components")})})})}).call(this);