(function(){describe("NVD3",function(){return describe("Stacked Area Chart",function(){var o,r,s;return s=[{key:"Series 1",values:[[-1,-1],[0,0],[1,1],[2,2]]}],[{key:"Series 1",values:[[-1,-3],[0,6],[1,12],[2,18]]},{key:"Series 2",values:[[-1,-4],[0,7],[1,13],[2,14]]}],r={x:function(e){return e[0]},y:function(e){return e[1]},margin:{top:30,right:20,bottom:50,left:75},color:nv.utils.defaultColor(),showLegend:!0,showControls:!0,showXAxis:!0,showYAxis:!0,rightAlignYAxis:!1,useInteractiveGuideline:!0,noData:"No Data Available",duration:0,controlLabels:{stacked:"Stacked",stream:"Stream",expanded:"Expanded"}},o=null,beforeEach(function(){return(o=new ChartBuilder(nv.models.stackedAreaChart())).build(r,s)}),afterEach(function(){return o.teardown()}),it("api check",function(){var e,t;for(e in should.exist(o.model.options,"options exposed"),t=[],r)t.push(should.exist(o.model[e](),e+" can be called"));return t}),it("renders",function(){var e;return e=o.$("g.nvd3.nv-stackedAreaChart"),should.exist(e[0])}),it("clears chart objects for no data",function(){return(o=new ChartBuilder(nv.models.stackedAreaChart())).buildover(r,s,[]),o.$("g").length.should.equal(0,"removes chart components")}),it("has correct structure",function(){var e,t,n,a,r,s;for(r=[],n=0,a=(t=[".nv-x.nv-axis",".nv-y.nv-axis",".nv-stackedWrap",".nv-legendWrap",".nv-controlsWrap",".nv-interactive"]).length;n<a;n++)e=t[n],r.push((s=e,should.exist(o.$("g.nvd3.nv-stackedAreaChart "+s)[0])));return r}),it("formats y-Axis correctly depending on stacked style",function(){var e,t,n,a;for((e=nv.models.stackedAreaChart()).yAxis.tickFormat(function(e){return"<"+e+">"}),(o=new ChartBuilder(e)).build(r,s),(a=o.$(".nv-y.nv-axis .tick text")).should.have.length.greaterThan(2),t=0,n=a.length;t<n;t++)a[t].textContent.should.match(/<.*?>/);return e.dispatch.changeState({style:"expand"}),e.stacked.style().should.equal("expand"),e.yAxis.tickFormat()(1).should.equal("100%"),e.dispatch.changeState({style:"stacked"}),e.stacked.style().should.equal("stacked"),e.yAxis.tickFormat()(1).should.equal("<1>")}),it("can override axis ticks",function(){return o.model.xAxis.ticks(34),o.model.yAxis.ticks(56),o.model.update(),o.model.xAxis.ticks().should.equal(34),o.model.yAxis.ticks().should.equal(56)}),it('if stacked.offset is "wiggle", y ticks is zero',function(){return o.model.stacked.offset("wiggle"),o.model.update(),o.model.yAxis.ticks().should.equal(0)})})})}).call(this);