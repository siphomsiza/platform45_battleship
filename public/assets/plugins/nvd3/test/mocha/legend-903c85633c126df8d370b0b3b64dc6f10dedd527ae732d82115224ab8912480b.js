(function(){describe("NVD3",function(){return describe("Legend",function(){var e,n,l,t;return l=[{values:[{x:1,y:2},{x:3,y:4},{x:5,y:6}],key:"key 1"},{values:[{x:7,y:8},{x:9,y:10},{x:11,y:12}],key:"key 2"},{values:[{x:13,y:14},{x:15,y:16},{x:17,y:18}],key:"key 3"}],t=[{key:"series 1"},{key:"series 2"},{key:"series 3"},{key:"series 4"}],n={margin:{top:0,right:0,bottom:0,left:0},width:100,height:100,key:function(e){return e.key},color:nv.utils.defaultColor(),align:!0,rightAlign:!1,updateState:!0,radioButtonMode:!1},e=null,beforeEach(function(){var t,d,u,i;e=new ChartBuilder(nv.models.legend()),e.build(n,l),t=e.model,u=[];for(d in n)i=n[d],u.push(t[d](i));return u}),afterEach(function(){return e.teardown()}),it("api check",function(){var l,t,d,u;l=e.model,d=[];for(t in n)u=n[t],d.push(should.exist(l[t](),t+" can be called"));return d}),it("exists",function(){var n;return n=e.$(".nvd3.nv-legend"),should.exist(n[0],".nvd3.nv-legend")}),describe("appends items correctly",function(){var n,t,d,u,i;for(i=[],n=d=0,u=l.length;u>d;n=++d)t=l[n],i.push(function(n,l){var t;return t=n.key,it("'"+t+"' text, position and structure",function(){var n,d,u,i,r;return u=e.$(".nvd3.nv-legend .nv-series")[l],r="translate(0,"+(20*l+5)+")",i=u.getAttribute("transform"),i.should.be.equal(r),n=u.querySelector(".nv-legend-symbol"),d=u.querySelector(".nv-legend-text"),should.exist(n),should.exist(d),d.textContent.should.be.equal(t)})}(t,n));return i}),describe("clicking and double clicking",function(){return it("clicking one legend turns it off",function(){var n,t;return t=e.$(".nv-legend .nv-series"),t.length.should.equal(3),n=d3.select(t[0]).on("click"),n(l[0]),l[0].disabled.should.equal(!0),n(l[1]),l[1].disabled.should.equal(!0),n(l[2]),l[0].disabled.should.equal(!1),l[1].disabled.should.equal(!1),l[2].disabled.should.equal(!1)}),it("double clicking legend keeps only one on",function(){var n,t;return t=e.$(".nv-legend .nv-series"),n=d3.select(t[0]).on("dblclick"),n(l[0]),l[0].disabled.should.equal(!1),l[1].disabled.should.equal(!0),l[2].disabled.should.equal(!0)}),it("updating legend data does not break double click (issue 784)",function(){var n,l;return e.updateData(t),l=e.$(".nv-legend .nv-series"),n=d3.select(l[0]).on("dblclick"),n(t[0]),t[0].disabled.should.equal(!1),t[1].disabled.should.equal(!0),t[2].disabled.should.equal(!0),t[3].disabled.should.equal(!0)})}),it("legend padding",function(){var n,t,d,u,i,r,s,o;for(e=new ChartBuilder(nv.models.legend()),e.build({padding:40},l),u=e.$(".nv-legend .nv-series"),o=[0,80,160],r=[],n=t=0,i=u.length;i>t;n=++t)d=u[n],s=d.getAttribute("transform"),r.push(s.should.equal("translate("+o[n]+",5)"));return r})})})}).call(this);