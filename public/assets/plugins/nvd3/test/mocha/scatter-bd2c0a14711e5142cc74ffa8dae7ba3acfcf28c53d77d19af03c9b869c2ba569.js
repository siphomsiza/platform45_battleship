(function(){describe("NVD3",function(){return describe("Scatter Chart",function(){var a,s,r,e;return r=[{key:"Series 1",slope:.5,intercept:.2,values:[[-1,-1],[0,0],[1,1],[2,2]]}],e=[{key:"Series 1",values:[[-1,-3],[0,6],[1,12],[2,18]]},{key:"Series 2",values:[[-1,-4],[0,7],[1,13],[2,14]]}],s={x:function(e){return e[0]},y:function(e){return e[1]},margin:{top:30,right:20,bottom:50,left:75},width:200,height:200,color:nv.utils.defaultColor(),showDistX:!0,showDistY:!0,showLegend:!0,showXAxis:!0,showYAxis:!0,rightAlignYAxis:!1,noData:"No Data Available",duration:0},a=null,beforeEach(function(){return(a=new ChartBuilder(nv.models.scatterChart())).build(s,r)}),afterEach(function(){return a.teardown()}),it("api check",function(){var e,t;for(e in should.exist(a.model.options,"options exposed"),t=[],s)should.exist(a.model[e],e+" exists"),t.push(should.exist(a.model[e](),e+" can be called"));return t}),it("renders",function(){var e;return e=a.$("g.nvd3.nv-scatterChart"),should.exist(e[0])}),it("clears chart objects for no data",function(){return(a=new ChartBuilder(nv.models.scatterChart())).buildover(s,r,[]),a.$("g").length.should.equal(0,"removes chart components")}),it("has correct structure",function(){var e,t,n,s,r,i;for(r=[],n=0,s=(t=[".nv-background",".nv-x.nv-axis",".nv-y.nv-axis",".nv-scatterWrap",".nv-distWrap",".nv-legendWrap"]).length;n<s;n++)e=t[n],r.push((i=e,should.exist(a.$("g.nvd3.nv-scatterChart "+i)[0])));return r}),it("has data points",function(){return a.$(".nv-groups .nv-series-0 .nv-point").should.have.length(4)}),it("has a legend",function(){var e;return e=a.$(".nv-legendWrap"),should.exist(e,"legend exists")}),it("shows no data message",function(){var e;return a.teardown(),a.build(s,[]),e=a.$("text.nv-noData"),should.exist(e[0]),e[0].textContent.should.equal("No Data Available")}),it("can update with new data",function(){return d3.select(a.svg).datum(e),a.model.update(),a.$(".nv-groups .nv-series-0 .nv-point").should.have.length(4),a.$(".nv-groups .nv-series-1 .nv-point").should.have.length(4)}),it("scatterPlusLineChart",function(){var e,t,n;return a.teardown(),t=[{key:"Series 1",values:[[-1,-3],[0,6],[1,12],[2,18]],slope:.1,inercept:5}],a.build(s,t),n=a.$("g.nvd3.nv-scatterChart"),should.exist(n[0]),e=a.$("g.nvd3 .nv-regressionLinesWrap .nv-regLines"),should.exist(e[0],"regression lines exist")}),it("sets legend.width same as availableWidth",function(){return a.model.legend.width().should.equal(a.model.scatter.width())}),it("translates nv-wrap after legend height calculated",function(){var e,t,n;for(a.teardown(),n=[],e=t=0;t<=40;e=++t)n.push({key:"Series "+e,values:[[Math.random(),Math.random()]]});return a.build(s,n),a.$(".nv-wrap")[0].getAttribute("transform").should.equal("translate(75,830)")}),it("can override axis ticks",function(){return a.model.xAxis.ticks(34),a.model.yAxis.ticks(56),a.model.update(),a.model.xAxis.ticks().should.equal(34),a.model.yAxis.ticks().should.equal(56)}),it("only appends one nv-point-clips group",function(t){var n;return(n=new ChartBuilder(nv.models.scatterChart())).build(s,r),window.setTimeout(function(){return n.model.update(),window.setTimeout(function(){var e;return e=n.svg.querySelector(".nv-point-clips"),should.exist(e,"nv-point-clips exists"),n.svg.querySelector(".nv-wrap.nv-scatter").childElementCount.should.equal(3),n.teardown(),t()},500)},500)}),it("sets nv-single-point class if only one data point",function(){var e;return a.teardown(),e=[{key:"Series1",values:[[1,1]]}],a.build(s,e),a.svg.querySelector(".nv-wrap.nv-scatter").className.should.contain("nv-single-point"),a.updateData(r),a.svg.querySelector(".nv-wrap.nv-scatter").className.should.not.contain("nv-single-point"),a.updateData(e),a.svg.querySelector(".nv-wrap.nv-scatter").className.should.contain("nv-single-point")}),it("should set color property if not specified",function(){var e;return a.teardown(),e=[{key:"Series1",values:[[1,1]]}],a.build(s,e),should.exist(e[0].color)})})})}).call(this);