(function(){describe("NVD3",function(){return describe("Scatter Chart",function(){var e,t,n,r;return n=[{key:"Series 1",slope:.5,intercept:.2,values:[[-1,-1],[0,0],[1,1],[2,2]]}],r=[{key:"Series 1",values:[[-1,-3],[0,6],[1,12],[2,18]]},{key:"Series 2",values:[[-1,-4],[0,7],[1,13],[2,14]]}],t={x:function(e){return e[0]},y:function(e){return e[1]},margin:{top:30,right:20,bottom:50,left:75},width:200,height:200,color:nv.utils.defaultColor(),showDistX:!0,showDistY:!0,showLegend:!0,showXAxis:!0,showYAxis:!0,rightAlignYAxis:!1,noData:"No Data Available",duration:0},e=null,beforeEach(function(){return e=new ChartBuilder(nv.models.scatterChart()),e.build(t,n)}),afterEach(function(){return e.teardown()}),it("api check",function(){var n,r;should.exist(e.model.options,"options exposed"),r=[];for(n in t)should.exist(e.model[n],n+" exists"),r.push(should.exist(e.model[n](),n+" can be called"));return r}),it("renders",function(){var t;return t=e.$("g.nvd3.nv-scatterChart"),should.exist(t[0])}),it("clears chart objects for no data",function(){var r;return e=new ChartBuilder(nv.models.scatterChart()),e.buildover(t,n,[]),r=e.$("g"),r.length.should.equal(0,"removes chart components")}),it("has correct structure",function(){var t,n,r,s,a;for(n=[".nv-background",".nv-x.nv-axis",".nv-y.nv-axis",".nv-scatterWrap",".nv-distWrap",".nv-legendWrap"],a=[],r=0,s=n.length;s>r;r++)t=n[r],a.push(function(t){return should.exist(e.$("g.nvd3.nv-scatterChart "+t)[0])}(t));return a}),it("has data points",function(){var t;return t=e.$(".nv-groups .nv-series-0 .nv-point"),t.should.have.length(4)}),it("has a legend",function(){var t;return t=e.$(".nv-legendWrap"),should.exist(t,"legend exists")}),it("shows no data message",function(){var n;return e.teardown(),e.build(t,[]),n=e.$("text.nv-noData"),should.exist(n[0]),n[0].textContent.should.equal("No Data Available")}),it("can update with new data",function(){var t,n;return d3.select(e.svg).datum(r),e.model.update(),t=e.$(".nv-groups .nv-series-0 .nv-point"),t.should.have.length(4),n=e.$(".nv-groups .nv-series-1 .nv-point"),n.should.have.length(4)}),it("scatterPlusLineChart",function(){var n,r,s;return e.teardown(),r=[{key:"Series 1",values:[[-1,-3],[0,6],[1,12],[2,18]],slope:.1,inercept:5}],e.build(t,r),s=e.$("g.nvd3.nv-scatterChart"),should.exist(s[0]),n=e.$("g.nvd3 .nv-regressionLinesWrap .nv-regLines"),should.exist(n[0],"regression lines exist")}),it("sets legend.width same as availableWidth",function(){return e.model.legend.width().should.equal(e.model.scatter.width())}),it("translates nv-wrap after legend height calculated",function(){var n,r,s,a;for(e.teardown(),s=[],n=r=0;40>=r;n=++r)s.push({key:"Series "+n,values:[[Math.random(),Math.random()]]});return e.build(t,s),a=e.$(".nv-wrap")[0].getAttribute("transform"),a.should.equal("translate(75,830)")}),it("can override axis ticks",function(){return e.model.xAxis.ticks(34),e.model.yAxis.ticks(56),e.model.update(),e.model.xAxis.ticks().should.equal(34),e.model.yAxis.ticks().should.equal(56)}),it("only appends one nv-point-clips group",function(e){var r;return r=new ChartBuilder(nv.models.scatterChart()),r.build(t,n),window.setTimeout(function(){return r.model.update(),window.setTimeout(function(){var t;return t=r.svg.querySelector(".nv-point-clips"),should.exist(t,"nv-point-clips exists"),r.svg.querySelector(".nv-wrap.nv-scatter").childElementCount.should.equal(3),r.teardown(),e()},500)},500)}),it("sets nv-single-point class if only one data point",function(){var r;return e.teardown(),r=[{key:"Series1",values:[[1,1]]}],e.build(t,r),e.svg.querySelector(".nv-wrap.nv-scatter").className.should.contain("nv-single-point"),e.updateData(n),e.svg.querySelector(".nv-wrap.nv-scatter").className.should.not.contain("nv-single-point"),e.updateData(r),e.svg.querySelector(".nv-wrap.nv-scatter").className.should.contain("nv-single-point")}),it("should set color property if not specified",function(){var n;return e.teardown(),n=[{key:"Series1",values:[[1,1]]}],e.build(t,n),should.exist(n[0].color)})})})}).call(this);