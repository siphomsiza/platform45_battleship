nv.models.tooltip=function(){"use strict";function e(){if(!d){var t=s||document.body;(d=d3.select(t).append("div").attr("class","nvtooltip "+(u||"xy-tooltip")).attr("id",o)).style("top",0).style("left",0),d.style("opacity",0),d.style("position","fixed"),d.selectAll("div, table, td, tr").classed(y,!0),d.classed(y,!0)}}function n(){if(v&&t(r))return nv.dom.write(function(){e();var t=w(r);t&&(d.node().innerHTML=t),T()}),n}var o="nvtooltip-"+Math.floor(1e5*Math.random()),r=null,c="w",l=25,i=0,u=null,s=null,a=!0,f=200,d=null,p={left:null,top:null},v=!0,g=100,h=!0,y="nv-pointer-events-none",m=function(){return{left:d3.event.clientX,top:d3.event.clientY}},b=function(t){return t},k=function(t){return t},x=function(t){return t},w=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));h&&e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(k(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return x(t.key,e)}),n.append("td").classed("value",!0).html(function(t,e){return b(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var o=e.node().outerHTML;return t.footer!==undefined&&(o+="<div class='footer'>"+t.footer+"</div>"),o},t=function(t){if(t&&t.series){if(t.series instanceof Array)return!!t.series.length;if(t.series instanceof Object)return t.series=[t.series],!0}return!1},A=function(t){var e,n,o,r=d.node().offsetHeight,i=d.node().offsetWidth,u=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(c){case"e":e=-i-l,n=-r/2,t.left+e<0&&(e=l),(o=t.top+n)<0&&(n-=o),(o=t.top+n+r)>s&&(n-=o-s);break;case"w":e=l,n=-r/2,t.left+e+i>u&&(e=-i-l),(o=t.top+n)<0&&(n-=o),(o=t.top+n+r)>s&&(n-=o-s);break;case"n":e=-i/2-5,n=l,t.top+n+r>s&&(n=-r-l),(o=t.left+e)<0&&(e-=o),(o=t.left+e+i)>u&&(e-=o-u);break;case"s":e=-i/2,n=-r-l,t.top+n<0&&(n=l),(o=t.left+e)<0&&(e-=o),(o=t.left+e+i)>u&&(e-=o-u);break;case"center":e=-i/2,n=-r/2;break;default:n=e=0}return{left:e,top:n}},T=function(){nv.dom.read(function(){var t=m(),e=A(t),n=t.left+e.left,o=t.top+e.top;if(a)d.interrupt().transition().delay(f).duration(0).style("opacity",0);else{var r="translate("+p.left+"px, "+p.top+"px)",i="translate("+n+"px, "+o+"px)",u=d3.interpolateString(r,i),s=d.style("opacity")<.1;d.interrupt().transition().duration(s?0:g).styleTween("transform",function(){return u},"important").styleTween("-webkit-transform",function(){return u}).style("-ms-transform",i).style("opacity",1)}p.left=n,p.top=o})};return n.nvPointerEventsClass=y,n.options=nv.utils.optionsFunc.bind(n),n._options=Object.create({},{duration:{get:function(){return g},set:function(t){g=t}},gravity:{get:function(){return c},set:function(t){c=t}},distance:{get:function(){return l},set:function(t){l=t}},snapDistance:{get:function(){return i},set:function(t){i=t}},classes:{get:function(){return u},set:function(t){u=t}},chartContainer:{get:function(){return s},set:function(t){s=t}},enabled:{get:function(){return v},set:function(t){v=t}},hideDelay:{get:function(){return f},set:function(t){f=t}},contentGenerator:{get:function(){return w},set:function(t){w=t}},valueFormatter:{get:function(){return b},set:function(t){b=t}},headerFormatter:{get:function(){return k},set:function(t){k=t}},keyFormatter:{get:function(){return x},set:function(t){x=t}},headerEnabled:{get:function(){return h},set:function(t){h=t}},position:{get:function(){return m},set:function(t){m=t}},fixedTop:{get:function(){return null},set:function(){nv.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(){nv.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return a},set:function(t){a!=t&&(a=!!t,n())}},data:{get:function(){return r},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),r=t}},node:{get:function(){return d.node()},set:function(){}},id:{get:function(){return o},set:function(){}}}),nv.utils.initOptions(n),n};