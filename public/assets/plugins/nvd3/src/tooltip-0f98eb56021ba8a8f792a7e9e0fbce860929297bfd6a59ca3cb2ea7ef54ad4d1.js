nv.models.tooltip=function(){"use strict";function t(){if(!f){var t=c?c:document.body;f=d3.select(t).append("div").attr("class","nvtooltip "+(s?s:"xy-tooltip")).attr("id",n),f.style("top",0).style("left",0),f.style("opacity",0),f.style("position","fixed"),f.selectAll("div, table, td, tr").classed(h,!0),f.classed(h,!0)}}function e(){return p&&w(o)?(nv.dom.write(function(){t();var e=x(o);e&&(f.node().innerHTML=e),T()}),e):void 0}var n="nvtooltip-"+Math.floor(1e5*Math.random()),o=null,r="w",i=25,u=0,s=null,c=null,l=!0,a=200,f=null,d={left:null,top:null},p=!0,v=100,g=!0,h="nv-pointer-events-none",y=function(){return{left:d3.event.clientX,top:d3.event.clientY}},m=function(t){return t},b=function(t){return t},k=function(t){return t},x=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));if(g){var n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(b(t.value))}var o=e.selectAll("tbody").data([t]).enter().append("tbody"),r=o.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return k(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return m(t.value,e)}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var i=e.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},w=function(t){if(t&&t.series){if(t.series instanceof Array)return!!t.series.length;if(t.series instanceof Object)return t.series=[t.series],!0}return!1},A=function(t){var e,n,o,u=f.node().offsetHeight,s=f.node().offsetWidth,c=document.documentElement.clientWidth,l=document.documentElement.clientHeight;switch(r){case"e":e=-s-i,n=-(u/2),t.left+e<0&&(e=i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+u)>l&&(n-=o-l);break;case"w":e=i,n=-(u/2),t.left+e+s>c&&(e=-s-i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+u)>l&&(n-=o-l);break;case"n":e=-(s/2)-5,n=i,t.top+n+u>l&&(n=-u-i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+s)>c&&(e-=o-c);break;case"s":e=-(s/2),n=-u-i,t.top+n<0&&(n=i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+s)>c&&(e-=o-c);break;case"center":e=-(s/2),n=-(u/2);break;default:e=0,n=0}return{left:e,top:n}},T=function(){nv.dom.read(function(){var t=y(),e=A(t),n=t.left+e.left,o=t.top+e.top;if(l)f.interrupt().transition().delay(a).duration(0).style("opacity",0);else{var r="translate("+d.left+"px, "+d.top+"px)",i="translate("+n+"px, "+o+"px)",u=d3.interpolateString(r,i),s=f.style("opacity")<.1;f.interrupt().transition().duration(s?0:v).styleTween("transform",function(){return u},"important").styleTween("-webkit-transform",function(){return u}).style("-ms-transform",i).style("opacity",1)}d.left=n,d.top=o})};return e.nvPointerEventsClass=h,e.options=nv.utils.optionsFunc.bind(e),e._options=Object.create({},{duration:{get:function(){return v},set:function(t){v=t}},gravity:{get:function(){return r},set:function(t){r=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return u},set:function(t){u=t}},classes:{get:function(){return s},set:function(t){s=t}},chartContainer:{get:function(){return c},set:function(t){c=t}},enabled:{get:function(){return p},set:function(t){p=t}},hideDelay:{get:function(){return a},set:function(t){a=t}},contentGenerator:{get:function(){return x},set:function(t){x=t}},valueFormatter:{get:function(){return m},set:function(t){m=t}},headerFormatter:{get:function(){return b},set:function(t){b=t}},keyFormatter:{get:function(){return k},set:function(t){k=t}},headerEnabled:{get:function(){return g},set:function(t){g=t}},position:{get:function(){return y},set:function(t){y=t}},fixedTop:{get:function(){return null},set:function(){nv.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(){nv.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return l},set:function(t){l!=t&&(l=!!t,e())}},data:{get:function(){return o},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),o=t}},node:{get:function(){return f.node()},set:function(){}},id:{get:function(){return n},set:function(){}}}),nv.utils.initOptions(e),e};