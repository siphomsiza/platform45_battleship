nv.models.bullet=function(){"use strict";function t(e){return e.each(function(e,t){var n=O-x.left-x.right,r=T-x.top-x.bottom;j=d3.select(this),nv.utils.initSVG(j);var l=k.call(this,e,t).slice().sort(d3.descending),o=w.call(this,e,t).slice().sort(d3.descending),a=L.call(this,e,t).slice().sort(d3.descending),s=A.call(this,e,t).slice(),u=C.call(this,e,t).slice(),i=P.call(this,e,t).slice(),c=d3.scale.linear().domain(d3.extent(d3.merge([F,l]))).range(_?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(c.range());this.__chart__=c;var m=d3.min(l),f=d3.max(l),v=l[1],d=j.selectAll("g.nv-wrap.nv-bullet").data([e]),g=d.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),h=d.select("g");g.append("rect").attr("class","nv-range nv-rangeMax"),g.append("rect").attr("class","nv-range nv-rangeAvg"),g.append("rect").attr("class","nv-range nv-rangeMin"),g.append("rect").attr("class","nv-measure"),d.attr("transform","translate("+x.left+","+x.top+")");var b=function(e){return Math.abs(c(e)-c(0))},p=function(e){return c(e<0?e:0)};h.select("rect.nv-rangeMax").attr("height",r).attr("width",b(0<f?f:m)).attr("x",p(0<f?f:m)).datum(0<f?f:m),h.select("rect.nv-rangeAvg").attr("height",r).attr("width",b(v)).attr("x",p(v)).datum(v),h.select("rect.nv-rangeMin").attr("height",r).attr("width",b(f)).attr("x",p(f)).attr("width",b(0<f?m:f)).attr("x",p(0<f?m:f)).datum(0<f?m:f),h.select("rect.nv-measure").style("fill",G).attr("height",r/3).attr("y",r/3).attr("width",a<0?c(0)-c(a[0]):c(a[0])-c(0)).attr("x",p(a)).on("mouseover",function(){I.elementMouseover({value:a[0],label:i[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){I.elementMousemove({value:a[0],label:i[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){I.elementMouseout({value:a[0],label:i[0]||"Current",color:d3.select(this).style("fill")})});var M=r/6,y=o.map(function(e,t){return{value:e,label:u[t]}});g.selectAll("path.nv-markerTriangle").data(y).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(e){return"translate("+c(e.value)+","+r/2+")"}).attr("d","M0,"+M+"L"+M+","+-M+" "+-M+","+-M+"Z").on("mouseover",function(e){I.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[c(e.value),r/2]})}).on("mousemove",function(e){I.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e){I.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}),d.selectAll(".nv-range").on("mouseover",function(e,t){var n=s[t]||(t?1==t?"Mean":"Minimum":"Maximum");I.elementMouseover({value:e,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){I.elementMousemove({value:a[0],label:i[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){var n=s[t]||(t?1==t?"Mean":"Minimum":"Maximum");I.elementMouseout({value:e,label:n,color:d3.select(this).style("fill")})})}),t}var x={top:0,right:0,bottom:0,left:0},n="left",_=!1,k=function(e){return e.ranges},w=function(e){return e.markers?e.markers:[0]},L=function(e){return e.measures},A=function(e){return e.rangeLabels?e.rangeLabels:[]},C=function(e){return e.markerLabels?e.markerLabels:[]},P=function(e){return e.measureLabels?e.measureLabels:[]},F=[0],O=380,T=30,j=null,r=null,G=nv.utils.getColor(["#1f77b4"]),I=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return t.dispatch=I,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{ranges:{get:function(){return k},set:function(e){k=e}},markers:{get:function(){return w},set:function(e){w=e}},measures:{get:function(){return L},set:function(e){L=e}},forceX:{get:function(){return F},set:function(e){F=e}},width:{get:function(){return O},set:function(e){O=e}},height:{get:function(){return T},set:function(e){T=e}},tickFormat:{get:function(){return r},set:function(e){r=e}},margin:{get:function(){return x},set:function(e){x.top=e.top!==undefined?e.top:x.top,x.right=e.right!==undefined?e.right:x.right,x.bottom=e.bottom!==undefined?e.bottom:x.bottom,x.left=e.left!==undefined?e.left:x.left}},orient:{get:function(){return n},set:function(e){_="right"==(n=e)||"bottom"==n}},color:{get:function(){return G},set:function(e){G=nv.utils.getColor(e)}}}),nv.utils.initOptions(t),t};