nv.models.lineChart=function(){"use strict";function t(s){return C.reset(),C.models(i),h&&C.models(a),p&&C.models(r),s.each(function(s){var y=d3.select(this),C=this;nv.utils.initSVG(y);var F=nv.utils.availableWidth(d,y,c),I=nv.utils.availableHeight(v,y,c);if(t.update=function(){0===k?y.call(t):y.transition().duration(k).call(t)},t.container=this,x.setter(A(s),t.update).getter(w(s)).update(),x.disabled=s.map(function(t){return!!t.disabled}),!b){var W;b={};for(W in x)x[W]instanceof Array?b[W]=x[W].slice(0):b[W]=x[W]}if(!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return nv.utils.noData(t,y),t;y.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale();var E=y.selectAll("g.nv-wrap.nv-lineChart").data([s]),H=E.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),M=E.select("g");H.append("rect").style("opacity",0),H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-linesWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-interactive"),M.select("rect").attr("width",F).attr("height",I>0?I:0),f&&(o.width(F),M.select(".nv-legendWrap").datum(s).call(o),c.top!=o.height()&&(c.top=o.height(),I=nv.utils.availableHeight(v,y,c)),E.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),E.attr("transform","translate("+c.left+","+c.top+")"),g&&M.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),m&&(l.width(F).height(I).margin({left:c.left,top:c.top}).svgContainer(y).xScale(e),E.select(".nv-interactive").call(l)),i.width(F).height(I).color(s.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!s[e].disabled}));var V=M.select(".nv-linesWrap").datum(s.filter(function(t){return!t.disabled}));V.call(i),h&&(a.scale(e)._ticks(nv.utils.calcTicksX(F/100,s)).tickSize(-I,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),M.select(".nv-x.nv-axis").call(a)),p&&(r.scale(n)._ticks(nv.utils.calcTicksY(I/36,s)).tickSize(-F,0),M.select(".nv-y.nv-axis").call(r)),o.dispatch.on("stateChange",function(e){for(var n in e)x[n]=e[n];S.stateChange(x),t.update()}),l.dispatch.on("elementMousemove",function(e){i.clearHighlights();var n,o,c,d=[];if(s.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,r){o=nv.interactiveBisect(a.values,e.pointXValue,t.x());var l=a.values[o],s=t.y()(l,o);null!=s&&i.highlightPoint(r,o,!0),void 0!==l&&(void 0===n&&(n=l),void 0===c&&(c=t.xScale()(t.x()(l,o))),d.push({key:a.key,value:s,color:u(a,a.seriesIndex),data:a.values[o]}))}),d.length>2){var v=t.yScale().invert(e.mouseY),f=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),h=.03*f,p=nv.nearestValueIndex(d.map(function(t){return t.value}),v,h);null!==p&&(d[p].highlight=!0)}var g=a.tickFormat()(t.x()(n,o));l.tooltip.chartContainer(C.parentNode).valueFormatter(function(t){return null==t?"N/A":r.tickFormat()(t)}).data({value:g,index:o,series:d})(),l.renderGuideLine(c)}),l.dispatch.on("elementClick",function(e){var n,a=[];s.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(i){var r=nv.interactiveBisect(i.values,e.pointXValue,t.x()),o=i.values[r];if("undefined"!=typeof o){"undefined"==typeof n&&(n=t.xScale()(t.x()(o,r)));var l=t.yScale()(t.y()(o,r));a.push({point:o,pointIndex:r,pos:[n,l],seriesIndex:i.seriesIndex,series:i})}}),i.dispatch.elementClick(a)}),l.dispatch.on("elementMouseout",function(){i.clearHighlights()}),S.on("changeState",function(e){"undefined"!=typeof e.disabled&&s.length===e.disabled.length&&(s.forEach(function(t,n){t.disabled=e.disabled[n]}),x.disabled=e.disabled),t.update()})}),C.renderEnd("lineChart immediate"),t}var e,n,i=nv.models.line(),a=nv.models.axis(),r=nv.models.axis(),o=nv.models.legend(),l=nv.interactiveGuideline(),s=nv.models.tooltip(),c={top:30,right:20,bottom:50,left:60},u=nv.utils.defaultColor(),d=null,v=null,f=!0,h=!0,p=!0,g=!1,m=!1,x=nv.utils.state(),b=null,y=null,S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),k=250;a.orient("bottom").tickPadding(7),r.orient(g?"right":"left"),s.valueFormatter(function(t,e){return r.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)});var C=nv.utils.renderWatch(S,k),w=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},A=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){s.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),t.dispatch=S,t.lines=i,t.legend=o,t.xAxis=a,t.yAxis=r,t.interactiveLayer=l,t.tooltip=s,t.dispatch=S,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return v},set:function(t){v=t}},showLegend:{get:function(){return f},set:function(t){f=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return p},set:function(t){p=t}},defaultState:{get:function(){return b},set:function(t){b=t}},noData:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return k},set:function(t){k=t,C.reset(k),i.duration(k),a.duration(k),r.duration(k)}},color:{get:function(){return u},set:function(t){u=nv.utils.getColor(t),o.color(u),i.color(u)}},rightAlignYAxis:{get:function(){return g},set:function(t){g=t,r.orient(g?"right":"left")}},useInteractiveGuideline:{get:function(){return m},set:function(t){m=t,m&&(i.interactive(!1),i.useVoronoi(!1))}}}),nv.utils.inheritOptions(t,i),nv.utils.initOptions(t),t};