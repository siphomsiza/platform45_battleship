nv.models.ohlcBar=function(){"use strict";function t(w){return w.each(function(t){l=d3.select(this);var w=nv.utils.availableWidth(a,l,o),B=nv.utils.availableHeight(c,l,o);nv.utils.initSVG(l);var D=w/t[0].values.length*.9;s.domain(n||d3.extent(t[0].values.map(d).concat(k))),x?s.range(i||[.5*w/t[0].values.length,w*(t[0].values.length-.5)/t[0].values.length]):s.range(i||[5+D/2,w-D/2-5]),f.domain(e||[d3.min(t[0].values.map(p).concat(b)),d3.max(t[0].values.map(m).concat(b))]).range(r||[B,0]),s.domain()[0]===s.domain()[1]&&(s.domain()[0]?s.domain([s.domain()[0]-.01*s.domain()[0],s.domain()[1]+.01*s.domain()[1]]):s.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var S=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),H=S.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),z=H.append("defs"),A=H.append("g"),E=S.select("g");A.append("g").attr("class","nv-ticks"),S.attr("transform","translate("+o.left+","+o.top+")"),l.on("click",function(t,n){y.chartClick({data:t,index:n,pos:d3.event,id:u})}),z.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),S.select("#nv-chart-clip-path-"+u+" rect").attr("width",w).attr("height",B),E.attr("clip-path",C?"url(#nv-chart-clip-path-"+u+")":"");var O=S.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});O.exit().remove(),O.enter().append("path").attr("class",function(t,n,e){return(g(t,n)>h(t,n)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+e+"-"+n}).attr("d",function(t,n){return"m0,0l0,"+(f(g(t,n))-f(m(t,n)))+"l"+-D/2+",0l"+D/2+",0l0,"+(f(p(t,n))-f(g(t,n)))+"l0,"+(f(h(t,n))-f(p(t,n)))+"l"+D/2+",0l"+-D/2+",0z"}).attr("transform",function(t,n){return"translate("+s(d(t,n))+","+f(m(t,n))+")"}).attr("fill",function(){return M[0]}).attr("stroke",function(){return M[0]}).attr("x",0).attr("y",function(t,n){return f(Math.max(0,v(t,n)))}).attr("height",function(t,n){return Math.abs(f(v(t,n))-f(0))}),O.attr("class",function(t,n,e){return(g(t,n)>h(t,n)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+e+"-"+n}),d3.transition(O).attr("transform",function(t,n){return"translate("+s(d(t,n))+","+f(m(t,n))+")"}).attr("d",function(n,e){var i=w/t[0].values.length*.9;return"m0,0l0,"+(f(g(n,e))-f(m(n,e)))+"l"+-i/2+",0l"+i/2+",0l0,"+(f(p(n,e))-f(g(n,e)))+"l0,"+(f(h(n,e))-f(p(n,e)))+"l"+i/2+",0l"+-i/2+",0z"})}),t}var n,e,i,r,o={top:0,right:0,bottom:0,left:0},a=null,c=null,u=Math.floor(1e4*Math.random()),l=null,s=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},v=function(t){return t.y},g=function(t){return t.open},h=function(t){return t.close},m=function(t){return t.high},p=function(t){return t.low},k=[],b=[],x=!1,C=!0,M=nv.utils.defaultColor(),w=!1,y=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return t.highlightPoint=function(n,e){t.clearHighlights(),l.select(".nv-ohlcBar .nv-tick-0-"+n).classed("hover",e)},t.clearHighlights=function(){l.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},t.dispatch=y,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return s},set:function(t){s=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return r},set:function(t){r=t}},forceX:{get:function(){return k},set:function(t){k=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return v},set:function(t){v=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return h()},set:function(t){h=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return M},set:function(t){M=nv.utils.getColor(t)}}}),nv.utils.initOptions(t),t};