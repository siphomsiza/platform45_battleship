nv.models.sunburst=function(){"use strict";function t(b){return M.reset(),b.each(function(t){function M(t){t.x0=t.x,t.dx0=t.dx}function b(t){var n=d3.interpolate(m.domain(),[t.x,t.x+t.dx]),e=d3.interpolate(v.domain(),[t.y,1]),o=d3.interpolate(v.range(),[t.y?20:0,C]);return function(t,i){return i?function(){return g(t)}:function(i){return m.domain(n(i)),v.domain(e(i)).range(o(i)),g(t)}}}c=d3.select(this);var x,y=nv.utils.availableWidth(r,c,i),k=nv.utils.availableHeight(u,c,i),C=Math.min(y,k)/2;nv.utils.initSVG(c);var w=c.selectAll(".nv-wrap.nv-sunburst").data(t),A=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+s),F=A.selectAll("nv-sunburst");w.attr("transform","translate("+y/2+","+k/2+")"),c.on("click",function(t,n){h.chartClick({data:t,index:n,pos:d3.event,id:s})}),v.range([0,C]),n=n||t,o=t[0],p.value(l[a]||l.count),x=F.data(p.nodes).enter().append("path").attr("d",g).style("fill",function(t){return d((t.children?t:t.parent).name)}).style("stroke","#FFF").on("click",function(t){e!==n&&n!==t&&(e=n),n=t,x.transition().duration(f).attrTween("d",b(t))}).each(M).on("dblclick",function(t){e.parent==t&&x.transition().duration(f).attrTween("d",b(o))}).each(M).on("mouseover",function(t){d3.select(this).classed("hover",!0).style("opacity",.8),h.elementMouseover({data:t,color:d3.select(this).style("fill")})}).on("mouseout",function(t){d3.select(this).classed("hover",!1).style("opacity",1),h.elementMouseout({data:t})}).on("mousemove",function(t){h.elementMousemove({data:t})})}),M.renderEnd("sunburst immediate"),t}var n,e,o,i={top:0,right:0,bottom:0,left:0},r=null,u=null,a="count",l={count:function(){return 1},size:function(t){return t.size}},s=Math.floor(1e4*Math.random()),c=null,d=nv.utils.defaultColor(),f=500,h=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),m=d3.scale.linear().range([0,2*Math.PI]),v=d3.scale.sqrt(),p=d3.layout.partition().sort(null).value(function(){return 1}),g=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,m(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,m(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,v(t.y))}).outerRadius(function(t){return Math.max(0,v(t.y+t.dy))}),M=nv.utils.renderWatch(h);return t.dispatch=h,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return u},set:function(t){u=t}},mode:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return s},set:function(t){s=t}},duration:{get:function(){return f},set:function(t){f=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!=t.top?t.top:i.top,i.right=void 0!=t.right?t.right:i.right,i.bottom=void 0!=t.bottom?t.bottom:i.bottom,i.left=void 0!=t.left?t.left:i.left}},color:{get:function(){return d},set:function(t){d=nv.utils.getColor(t)}}}),nv.utils.initOptions(t),t};