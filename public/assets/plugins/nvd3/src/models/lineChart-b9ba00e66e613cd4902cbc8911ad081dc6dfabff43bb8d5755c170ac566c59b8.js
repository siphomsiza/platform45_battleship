nv.models.lineChart=function(){"use strict";function d(t){return i.reset(),i.models(f),k&&i.models(v),C&&i.models(h),t.each(function(c){var t=d3.select(this),u=this;nv.utils.initSVG(t);var e,n=nv.utils.availableWidth(b,t,m),i=nv.utils.availableHeight(y,t,m);if(d.update=function(){0===E?t.call(d):t.transition().duration(E).call(d)},d.container=this,F.setter(M(c),d.update).getter(H(c)).update(),F.disabled=c.map(function(t){return!!t.disabled}),!I)for(e in I={},F)F[e]instanceof Array?I[e]=F[e].slice(0):I[e]=F[e];if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return nv.utils.noData(d,t),d;t.selectAll(".nv-noData").remove(),o=f.xScale(),s=f.yScale();var a=t.selectAll("g.nv-wrap.nv-lineChart").data([c]),r=a.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),l=a.select("g");r.append("rect").style("opacity",0),r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis"),r.append("g").attr("class","nv-linesWrap"),r.append("g").attr("class","nv-legendWrap"),r.append("g").attr("class","nv-interactive"),l.select("rect").attr("width",n).attr("height",0<i?i:0),S&&(p.width(n),l.select(".nv-legendWrap").datum(c).call(p),m.top!=p.height()&&(m.top=p.height(),i=nv.utils.availableHeight(y,t,m)),a.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),a.attr("transform","translate("+m.left+","+m.top+")"),w&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),A&&(g.width(n).height(i).margin({left:m.left,top:m.top}).svgContainer(t).xScale(o),a.select(".nv-interactive").call(g)),f.width(n).height(i).color(c.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!c[e].disabled})),l.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled})).call(f),k&&(v.scale(o)._ticks(nv.utils.calcTicksX(n/100,c)).tickSize(-i,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),l.select(".nv-x.nv-axis").call(v)),C&&(h.scale(s)._ticks(nv.utils.calcTicksY(i/36,c)).tickSize(-n,0),l.select(".nv-y.nv-axis").call(h)),p.dispatch.on("stateChange",function(t){for(var e in t)F[e]=t[e];W.stateChange(F),d.update()}),g.dispatch.on("elementMousemove",function(a){f.clearHighlights();var r,l,o,s=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){l=nv.interactiveBisect(t.values,a.pointXValue,d.x());var n=t.values[l],i=d.y()(n,l);null!=i&&f.highlightPoint(e,l,!0),n!==undefined&&(r===undefined&&(r=n),o===undefined&&(o=d.xScale()(d.x()(n,l))),s.push({key:t.key,value:i,color:x(t,t.seriesIndex),data:t.values[l]}))}),2<s.length){var t=d.yScale().invert(a.mouseY),e=.03*Math.abs(d.yScale().domain()[0]-d.yScale().domain()[1]),n=nv.nearestValueIndex(s.map(function(t){return t.value}),t,e);null!==n&&(s[n].highlight=!0)}var i=v.tickFormat()(d.x()(r,l));g.tooltip.chartContainer(u.parentNode).valueFormatter(function(t){return null==t?"N/A":h.tickFormat()(t)}).data({value:i,index:l,series:s})(),g.renderGuideLine(o)}),g.dispatch.on("elementClick",function(a){var r,l=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=nv.interactiveBisect(t.values,a.pointXValue,d.x()),n=t.values[e];if(void 0!==n){void 0===r&&(r=d.xScale()(d.x()(n,e)));var i=d.yScale()(d.y()(n,e));l.push({point:n,pointIndex:e,pos:[r,i],seriesIndex:t.seriesIndex,series:t})}}),f.dispatch.elementClick(l)}),g.dispatch.on("elementMouseout",function(){f.clearHighlights()}),W.on("changeState",function(n){"undefined"!=typeof n.disabled&&c.length===n.disabled.length&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),F.disabled=n.disabled),d.update()})}),i.renderEnd("lineChart immediate"),d}var o,s,f=nv.models.line(),v=nv.models.axis(),h=nv.models.axis(),p=nv.models.legend(),g=nv.interactiveGuideline(),e=nv.models.tooltip(),m={top:30,right:20,bottom:50,left:60},x=nv.utils.defaultColor(),b=null,y=null,S=!0,k=!0,C=!0,w=!1,A=!1,F=nv.utils.state(),I=null,n=null,W=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),E=250;v.orient("bottom").tickPadding(7),h.orient(w?"right":"left"),e.valueFormatter(function(t,e){return h.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)});var i=nv.utils.renderWatch(W,E),H=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},M=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return f.dispatch.on("elementMouseover.tooltip",function(t){e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch=W,d.lines=f,d.legend=p,d.xAxis=v,d.yAxis=h,d.interactiveLayer=g,d.tooltip=e,d.dispatch=W,d.options=nv.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return S},set:function(t){S=t}},showXAxis:{get:function(){return k},set:function(t){k=t}},showYAxis:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return I},set:function(t){I=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return E},set:function(t){E=t,i.reset(E),f.duration(E),v.duration(E),h.duration(E)}},color:{get:function(){return x},set:function(t){x=nv.utils.getColor(t),p.color(x),f.color(x)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,h.orient(w?"right":"left")}},useInteractiveGuideline:{get:function(){return A},set:function(t){(A=t)&&(f.interactive(!1),f.useVoronoi(!1))}}}),nv.utils.inheritOptions(d,f),nv.utils.initOptions(d),d};