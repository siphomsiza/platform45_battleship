nv.models.sparklinePlus=function(){"use strict";function f(t){return t.each(function(n){function a(){if(!V){var t=u.selectAll(".nv-hoverValue").data(m),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+v(d.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),m.length&&(e.append("line").attr("x1",0).attr("y1",-g.top).attr("x2",0).attr("y2",l),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-g.top).attr("text-anchor","end").attr("dy",".9em"),u.select(".nv-hoverValue .nv-xValue").text(k(d.x()(n[m[0]],m[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-g.top).attr("text-anchor","start").attr("dy",".9em"),u.select(".nv-hoverValue .nv-yValue").text(b(d.y()(n[m[0]],m[0]))))}}function t(){function t(t,e){for(var n=Math.abs(d.x()(t[0],0)-e),a=0,r=0;r<t.length;r++)Math.abs(d.x()(t[r],r)-e)<n&&(n=Math.abs(d.x()(t[r],r)-e),a=r);return a}if(!V){var e=d3.mouse(this)[0]-g.left;m=[t(n,Math.round(v.invert(e)))],a()}}var e=d3.select(this);nv.utils.initSVG(e);var r=nv.utils.availableWidth(y,e,g),l=nv.utils.availableHeight(x,e,g);if(f.update=function(){e.call(f)},f.container=this,!n||!n.length)return nv.utils.noData(f,e),f;e.selectAll(".nv-noData").remove();var i=d.y()(n[n.length-1],n.length-1);v=d.xScale(),h=d.yScale();var o=e.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),s=o.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),u=o.select("g");s.append("g").attr("class","nv-sparklineWrap"),s.append("g").attr("class","nv-valueWrap"),s.append("g").attr("class","nv-hoverArea"),o.attr("transform","translate("+g.left+","+g.top+")");var c=u.select(".nv-sparklineWrap");if(d.width(r).height(l),c.call(d),A){var p=u.select(".nv-valueWrap").selectAll(".nv-currentValue").data([i]);p.enter().append("text").attr("class","nv-currentValue").attr("dx",W?-8:8).attr("dy",".9em").style("text-anchor",W?"end":"start"),p.attr("x",r+(W?g.right:0)).attr("y",w?function(t){return h(t)}:0).style("fill",d.color()(n[n.length-1],n.length-1)).text(b(i))}s.select(".nv-hoverArea").append("rect").on("mousemove",t).on("click",function(){V=!V}).on("mouseout",function(){m=[],a()}),u.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-g.left+","+-g.top+")"}).attr("width",r+g.left+g.right).attr("height",l+g.top)}),f}var v,h,d=nv.models.sparkline(),g={top:15,right:100,bottom:10,left:50},y=null,x=null,m=[],V=!1,k=d3.format(",r"),b=d3.format(",.2f"),A=!0,w=!0,W=!1,e=null;return f.sparkline=d,f.options=nv.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},xTickFormat:{get:function(){return k},set:function(t){k=t}},yTickFormat:{get:function(){return b},set:function(t){b=t}},showLastValue:{get:function(){return A},set:function(t){A=t}},alignValue:{get:function(){return w},set:function(t){w=t}},rightAlignValue:{get:function(){return W},set:function(t){W=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return g},set:function(t){g.top=t.top!==undefined?t.top:g.top,g.right=t.right!==undefined?t.right:g.right,g.bottom=t.bottom!==undefined?t.bottom:g.bottom,g.left=t.left!==undefined?t.left:g.left}}}),nv.utils.inheritOptions(f,d),nv.utils.initOptions(f),f};