nv.models.multiChart=function(){"use strict";function t(s){return s.each(function(s){function p(t){var e=2===s[t.seriesIndex].yAxis?D:w;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},F.duration(0).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function C(t){var e=2===s[t.seriesIndex].yAxis?D:w;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},F.duration(100).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function V(t){var e=2===s[t.seriesIndex].yAxis?D:w;t.point.x=A.x()(t.point),t.point.y=A.y()(t.point),F.duration(0).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function K(t){var e=2===s[t.data.series].yAxis?D:w;t.value=b.x()(t.data),t.series={value:b.y()(t.data),color:t.color,key:t.data.key},F.duration(0).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}var _=d3.select(this);nv.utils.initSVG(_),t.update=function(){_.transition().call(t)},t.container=this;var z=nv.utils.availableWidth(o,_,i),I=nv.utils.availableHeight(r,_,i),T=s.filter(function(t){return"line"==t.type&&1==t.yAxis}),B=s.filter(function(t){return"line"==t.type&&2==t.yAxis}),H=s.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),O=s.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),Y=s.filter(function(t){return"bar"==t.type&&1==t.yAxis}),j=s.filter(function(t){return"bar"==t.type&&2==t.yAxis}),G=s.filter(function(t){return"area"==t.type&&1==t.yAxis}),L=s.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return nv.utils.noData(t,_),t;_.selectAll(".nv-noData").remove();var P=s.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:c(t),y:u(t)}})}),X=s.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:c(t),y:u(t)}})});f.domain(d3.extent(d3.merge(P.concat(X)),function(t){return c(t)})).range([0,z]);var q=_.selectAll("g.wrap.multiChart").data([s]),E=q.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y1 nv-axis"),E.append("g").attr("class","nv-y2 nv-axis"),E.append("g").attr("class","lines1Wrap"),E.append("g").attr("class","lines2Wrap"),E.append("g").attr("class","scatters1Wrap"),E.append("g").attr("class","scatters2Wrap"),E.append("g").attr("class","bars1Wrap"),E.append("g").attr("class","bars2Wrap"),E.append("g").attr("class","stack1Wrap"),E.append("g").attr("class","stack2Wrap"),E.append("g").attr("class","legendWrap");var J=q.select("g"),N=s.map(function(t,e){return s[e].color||a(t,e)});if(l){var Q=S.align()?z/2:z,R=S.align()?Q:0;S.width(Q),S.color(N),J.select(".legendWrap").datum(s.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(S),i.top!=S.height()&&(i.top=S.height(),I=nv.utils.availableHeight(r,_,i)),J.select(".legendWrap").attr("transform","translate("+R+","+-i.top+")")}h.width(z).height(I).interpolate(d).color(N.filter(function(t,e){return!s[e].disabled&&1==s[e].yAxis&&"line"==s[e].type})),v.width(z).height(I).interpolate(d).color(N.filter(function(t,e){return!s[e].disabled&&2==s[e].yAxis&&"line"==s[e].type})),g.width(z).height(I).color(N.filter(function(t,e){return!s[e].disabled&&1==s[e].yAxis&&"scatter"==s[e].type})),x.width(z).height(I).color(N.filter(function(t,e){return!s[e].disabled&&2==s[e].yAxis&&"scatter"==s[e].type})),b.width(z).height(I).color(N.filter(function(t,e){return!s[e].disabled&&1==s[e].yAxis&&"bar"==s[e].type})),k.width(z).height(I).color(N.filter(function(t,e){return!s[e].disabled&&2==s[e].yAxis&&"bar"==s[e].type})),A.width(z).height(I).color(N.filter(function(t,e){return!s[e].disabled&&1==s[e].yAxis&&"area"==s[e].type})),W.width(z).height(I).color(N.filter(function(t,e){return!s[e].disabled&&2==s[e].yAxis&&"area"==s[e].type})),J.attr("transform","translate("+i.left+","+i.top+")");var U=J.select(".lines1Wrap").datum(T.filter(function(t){return!t.disabled})),Z=J.select(".scatters1Wrap").datum(H.filter(function(t){return!t.disabled})),$=J.select(".bars1Wrap").datum(Y.filter(function(t){return!t.disabled})),tt=J.select(".stack1Wrap").datum(G.filter(function(t){return!t.disabled})),et=J.select(".lines2Wrap").datum(B.filter(function(t){return!t.disabled})),nt=J.select(".scatters2Wrap").datum(O.filter(function(t){return!t.disabled})),it=J.select(".bars2Wrap").datum(j.filter(function(t){return!t.disabled})),at=J.select(".stack2Wrap").datum(L.filter(function(t){return!t.disabled})),ot=G.length?G.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],rt=L.length?L.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];m.domain(e||d3.extent(d3.merge(P).concat(ot),function(t){return t.y})).range([0,I]),y.domain(n||d3.extent(d3.merge(X).concat(rt),function(t){return t.y})).range([0,I]),h.yDomain(m.domain()),g.yDomain(m.domain()),b.yDomain(m.domain()),A.yDomain(m.domain()),v.yDomain(y.domain()),x.yDomain(y.domain()),k.yDomain(y.domain()),W.yDomain(y.domain()),G.length&&d3.transition(tt).call(A),L.length&&d3.transition(at).call(W),Y.length&&d3.transition($).call(b),j.length&&d3.transition(it).call(k),T.length&&d3.transition(U).call(h),B.length&&d3.transition(et).call(v),H.length&&d3.transition(Z).call(g),O.length&&d3.transition(nt).call(x),M._ticks(nv.utils.calcTicksX(z/100,s)).tickSize(-I,0),J.select(".nv-x.nv-axis").attr("transform","translate(0,"+I+")"),d3.transition(J.select(".nv-x.nv-axis")).call(M),w._ticks(nv.utils.calcTicksY(I/36,s)).tickSize(-z,0),d3.transition(J.select(".nv-y1.nv-axis")).call(w),D._ticks(nv.utils.calcTicksY(I/36,s)).tickSize(-z,0),d3.transition(J.select(".nv-y2.nv-axis")).call(D),J.select(".nv-y1.nv-axis").classed("nv-disabled",!P.length).attr("transform","translate("+f.range()[0]+",0)"),J.select(".nv-y2.nv-axis").classed("nv-disabled",!X.length).attr("transform","translate("+f.range()[1]+",0)"),S.dispatch.on("stateChange",function(){t.update()}),h.dispatch.on("elementMouseover.tooltip",p),v.dispatch.on("elementMouseover.tooltip",p),h.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),v.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),g.dispatch.on("elementMouseover.tooltip",C),x.dispatch.on("elementMouseover.tooltip",C),g.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),x.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",V),W.dispatch.on("elementMouseover.tooltip",V),A.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),W.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),b.dispatch.on("elementMouseover.tooltip",K),k.dispatch.on("elementMouseover.tooltip",K),b.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),k.dispatch.on("elementMouseout.tooltip",function(){F.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(){F()}),k.dispatch.on("elementMousemove.tooltip",function(){F()})}),t}var e,n,i={top:30,right:20,bottom:50,left:60},a=nv.utils.defaultColor(),o=null,r=null,l=!0,s=null,c=function(t){return t.x},u=function(t){return t.y},d="monotone",p=!0,f=d3.scale.linear(),m=d3.scale.linear(),y=d3.scale.linear(),h=nv.models.line().yScale(m),v=nv.models.line().yScale(y),g=nv.models.scatter().yScale(m),x=nv.models.scatter().yScale(y),b=nv.models.multiBar().stacked(!1).yScale(m),k=nv.models.multiBar().stacked(!1).yScale(y),A=nv.models.stackedArea().yScale(m),W=nv.models.stackedArea().yScale(y),M=nv.models.axis().scale(f).orient("bottom").tickPadding(5),w=nv.models.axis().scale(m).orient("left"),D=nv.models.axis().scale(y).orient("right"),S=nv.models.legend().height(30),F=nv.models.tooltip(),C=d3.dispatch();return t.dispatch=C,t.legend=S,t.lines1=h,t.lines2=v,t.scatters1=g,t.scatters2=x,t.bars1=b,t.bars2=k,t.stack1=A,t.stack2=W,t.xAxis=M,t.yAxis1=w,t.yAxis2=D,t.tooltip=F,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return r},set:function(t){r=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return e},set:function(t){e=t}},yDomain2:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return s},set:function(t){s=t}},interpolate:{get:function(){return d},set:function(t){d=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return a},set:function(t){a=nv.utils.getColor(t)}},x:{get:function(){return c},set:function(t){c=t,h.x(t),v.x(t),g.x(t),x.x(t),b.x(t),k.x(t),A.x(t),W.x(t)}},y:{get:function(){return u},set:function(t){u=t,h.y(t),v.y(t),g.y(t),x.y(t),A.y(t),W.y(t),b.y(t),k.y(t)}},useVoronoi:{get:function(){return p},set:function(t){p=t,h.useVoronoi(t),v.useVoronoi(t),A.useVoronoi(t),W.useVoronoi(t)}}}),nv.utils.initOptions(t),t};