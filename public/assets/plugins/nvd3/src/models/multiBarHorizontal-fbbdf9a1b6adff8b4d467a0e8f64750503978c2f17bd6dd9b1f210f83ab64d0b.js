nv.models.multiBarHorizontal=function(){"use strict";function n(t){return O.reset(),t.each(function(a){var t=y-v.left-v.right,n=b-v.top-v.bottom;x=d3.select(this),nv.utils.initSVG(x),T&&(a=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(w)(a)),a.forEach(function(n,e){n.values.forEach(function(t){t.series=e,t.key=n.key})}),T&&a[0].values.map(function(t,e){var r=0,o=0;a.map(function(t){var n=t.values[e];n.size=Math.abs(n.y),n.y<0?(n.y1=o-n.size,o-=n.size):(n.y1=r,r+=n.size)})});var e=f&&d?[]:a.map(function(t){return t.values.map(function(t,n){return{x:z(t,n),y:w(t,n),y0:t.y0,y1:t.y1}})});k.domain(f||d3.merge(e).map(function(t){return t.x})).rangeBands(g||[0,n],j),M.domain(d||d3.extent(d3.merge(e).map(function(t){return T?0<t.y?t.y1+t.y:t.y1:t.y}).concat(C))),A&&!T?M.range(h||[M.domain()[0]<0?H:0,t-(0<M.domain()[1]?H:0)]):M.range(h||[0,t]),m=m||k,p=p||d3.scale.linear().domain(M.domain()).range([M(0),M(0)]);var r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),i=(o.append("defs"),o.append("g"));r.select("g");i.append("g").attr("class","nv-groups"),r.attr("transform","translate("+v.left+","+v.top+")");var u=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,n){return n});u.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),u.exit().watchTransition(O,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),u.attr("class",function(t,n){return"nv-group nv-series-"+n}).classed("hover",function(t){return t.hover}).style("fill",function(t,n){return E(t,n)}).style("stroke",function(t,n){return E(t,n)}),u.watchTransition(O,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var l=u.selectAll("g.nv-bar").data(function(t){return t.values});l.exit().remove();var s=l.enter().append("g").attr("transform",function(t,n,e){return"translate("+p(T?t.y0:0)+","+(T?0:e*k.rangeBand()/a.length+k(z(t,n)))+")"});s.append("rect").attr("width",0).attr("height",k.rangeBand()/(T?1:a.length)),l.on("mouseover",function(t,n){d3.select(this).classed("hover",!0),F.elementMouseover({data:t,index:n,color:d3.select(this).style("fill")})}).on("mouseout",function(t,n){d3.select(this).classed("hover",!1),F.elementMouseout({data:t,index:n,color:d3.select(this).style("fill")})}).on("mouseout",function(t,n){F.elementMouseout({data:t,index:n,color:d3.select(this).style("fill")})}).on("mousemove",function(t,n){F.elementMousemove({data:t,index:n,color:d3.select(this).style("fill")})}).on("click",function(t,n){F.elementClick({data:t,index:n,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(t,n){F.elementDblClick({data:t,index:n,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),B(a[0],0)&&(s.append("polyline"),l.select("polyline").attr("fill","none").attr("points",function(t,n){var e=B(t,n),r=.8*k.rangeBand()/(2*(T?1:a.length));return[[(e=(e=e.length?e:[-Math.abs(e),Math.abs(e)]).map(function(t){return M(t)-M(0)}))[0],-r],[e[0],r],[e[0],0],[e[1],0],[e[1],-r],[e[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,n){var e=k.rangeBand()/(2*(T?1:a.length));return"translate("+(w(t,n)<0?0:M(w(t,n))-M(0))+", "+e+")"})),s.append("text"),A&&!T?(l.select("text").attr("text-anchor",function(t,n){return w(t,n)<0?"end":"start"}).attr("y",k.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(t,n){var e=P(w(t,n)),r=B(t,n);return r===undefined?e:r.length?e+"+"+P(Math.abs(r[1]))+"-"+P(Math.abs(r[0])):e+"\xb1"+P(Math.abs(r))}),l.watchTransition(O,"multibarhorizontal: bars").select("text").attr("x",function(t,n){return w(t,n)<0?-4:M(w(t,n))-M(0)+4})):l.selectAll("text").text(""),D&&!T?(s.append("text").classed("nv-bar-label",!0),l.select("text.nv-bar-label").attr("text-anchor",function(t,n){return w(t,n)<0?"start":"end"}).attr("y",k.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(t,n){return z(t,n)}),l.watchTransition(O,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,n){return w(t,n)<0?M(0)-M(w(t,n))+4:-4})):l.selectAll("text.nv-bar-label").text(""),l.attr("class",function(t,n){return w(t,n)<0?"nv-bar negative":"nv-bar positive"}),S&&(c||(c=a.map(function(){return!0})),l.style("fill",function(t,n,e){return d3.rgb(S(t,n)).darker(c.map(function(t,n){return n}).filter(function(t,n){return!c[n]})[e]).toString()}).style("stroke",function(t,n,e){return d3.rgb(S(t,n)).darker(c.map(function(t,n){return n}).filter(function(t,n){return!c[n]})[e]).toString()})),T?l.watchTransition(O,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+M(t.y1)+","+k(z(t,n))+")"}).select("rect").attr("width",function(t,n){return Math.abs(M(w(t,n)+t.y0)-M(t.y0))||0}).attr("height",k.rangeBand()):l.watchTransition(O,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+(w(t,n)<0?M(w(t,n)):M(0))+","+(t.series*k.rangeBand()/a.length+k(z(t,n)))+")"}).select("rect").attr("height",k.rangeBand()/a.length).attr("width",function(t,n){return Math.max(Math.abs(M(w(t,n))-M(0)),1)||0}),m=k.copy(),p=M.copy()}),O.renderEnd("multibarHorizontal immediate"),n}var c,f,d,g,h,m,p,v={top:0,right:0,bottom:0,left:0},y=960,b=500,e=Math.floor(1e4*Math.random()),x=null,k=d3.scale.ordinal(),M=d3.scale.linear(),z=function(t){return t.x},w=function(t){return t.y},B=function(t){return t.yErr},C=[0],E=nv.utils.defaultColor(),S=null,T=!1,A=!1,D=!1,H=60,j=.1,P=d3.format(",.2f"),r=250,F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),O=nv.utils.renderWatch(F,r);return n.dispatch=F,n.options=nv.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return z},set:function(t){z=t}},y:{get:function(){return w},set:function(t){w=t}},yErr:{get:function(){return B},set:function(t){B=t}},xScale:{get:function(){return k},set:function(t){k=t}},yScale:{get:function(){return M},set:function(t){M=t}},xDomain:{get:function(){return f},set:function(t){f=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return g},set:function(t){g=t}},yRange:{get:function(){return h},set:function(t){h=t}},forceY:{get:function(){return C},set:function(t){C=t}},stacked:{get:function(){return T},set:function(t){T=t}},showValues:{get:function(){return A},set:function(t){A=t}},disabled:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return e},set:function(t){e=t}},valueFormat:{get:function(){return P},set:function(t){P=t}},valuePadding:{get:function(){return H},set:function(t){H=t}},groupSpacing:{get:function(){return j},set:function(t){j=t}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},duration:{get:function(){return r},set:function(t){r=t,O.reset(r)}},color:{get:function(){return E},set:function(t){E=nv.utils.getColor(t)}},barColor:{get:function(){return S},set:function(t){S=t?nv.utils.getColor(t):null}}}),nv.utils.initOptions(n),n};