nv.models.boxPlot=function(){"use strict";function e(c){return b.reset(),c.each(function(e){var c=a-u.left-u.right,d=i-u.top-u.bottom;m=d3.select(this),nv.utils.initSVG(m),v.domain(t||e.map(function(e,t){return h(e,t)})).rangeBands(o||[0,c],.1);var w=[];if(!n){var k=d3.min(e.map(function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&null!==e.values.whisker_low&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.min(t)})),Q=d3.max(e.map(function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&null!==e.values.whisker_high&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.max(t)}));w=[k,Q]}f.domain(n||w),f.range(r||[d,0]),l=l||v,s=s||f.copy().range([f(0),f(0)]);var M=m.selectAll("g.nv-wrap").data([e]);M.enter().append("g").attr("class","nvd3 nv-wrap");M.attr("transform","translate("+u.left+","+u.top+")");var _=M.selectAll(".nv-boxplot").data(function(e){return e}),B=_.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);_.attr("class","nv-boxplot").attr("transform",function(e,t){return"translate("+(v(h(e,t))+.05*v.rangeBand())+", 0)"}).classed("hover",function(e){return e.hover}),_.watchTransition(b,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,n){return n*g/e.length}).attr("transform",function(e,t){return"translate("+(v(h(e,t))+.05*v.rangeBand())+", 0)"}),_.exit().remove(),B.each(function(e,t){var n=d3.select(this);["low","high"].forEach(function(o){e.values.hasOwnProperty("whisker_"+o)&&null!==e.values["whisker_"+o]&&(n.append("line").style("stroke",e.color?e.color:p(e,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+o),n.append("line").style("stroke",e.color?e.color:p(e,t)).attr("class","nv-boxplot-tick nv-boxplot-"+o))})});var O=_.selectAll(".nv-boxplot-outlier").data(function(e){return e.values.hasOwnProperty("outliers")&&null!==e.values.outliers?e.values.outliers:[]});O.enter().append("circle").style("fill",function(e,t,n){return p(e,n)}).style("stroke",function(e,t,n){return p(e,n)}).on("mouseover",function(e,t,n){d3.select(this).classed("hover",!0),x.elementMouseover({series:{key:e,color:p(e,n)},e:d3.event})}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",!1),x.elementMouseout({series:{key:e,color:p(e,n)},e:d3.event})}).on("mousemove",function(){x.elementMousemove({e:d3.event})}),O.attr("class","nv-boxplot-outlier"),O.watchTransition(b,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*v.rangeBand()).attr("cy",function(e){return f(e)}).attr("r","3"),O.exit().remove();var P=function(){return null===y?.9*v.rangeBand():Math.min(75,.9*v.rangeBand())},T=function(){return.45*v.rangeBand()-P()/2},E=function(){return.45*v.rangeBand()+P()/2};["low","high"].forEach(function(e){var t="low"===e?"Q1":"Q3";_.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(b,"nv-boxplot: boxplots").attr("x1",.45*v.rangeBand()).attr("y1",function(t){return f(t.values["whisker_"+e])}).attr("x2",.45*v.rangeBand()).attr("y2",function(e){return f(e.values[t])}),_.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(b,"nv-boxplot: boxplots").attr("x1",T).attr("y1",function(t){return f(t.values["whisker_"+e])}).attr("x2",E).attr("y2",function(t){return f(t.values["whisker_"+e])})}),["low","high"].forEach(function(e){B.selectAll(".nv-boxplot-"+e).on("mouseover",function(t,n,o){d3.select(this).classed("hover",!0),x.elementMouseover({series:{key:t.values["whisker_"+e],color:p(t,o)},e:d3.event})}).on("mouseout",function(t,n,o){d3.select(this).classed("hover",!1),x.elementMouseout({series:{key:t.values["whisker_"+e],color:p(t,o)},e:d3.event})}).on("mousemove",function(){x.elementMousemove({e:d3.event})})}),B.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(e,t){d3.select(this).classed("hover",!0),x.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||p(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||p(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||p(e,t)}],data:e,index:t,e:d3.event})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),x.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||p(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||p(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||p(e,t)}],data:e,index:t,e:d3.event})}).on("mousemove",function(){x.elementMousemove({e:d3.event})}),_.select("rect.nv-boxplot-box").watchTransition(b,"nv-boxplot: boxes").attr("y",function(e){return f(e.values.Q3)}).attr("width",P).attr("x",T).attr("height",function(e){return Math.abs(f(e.values.Q3)-f(e.values.Q1))||1}).style("fill",function(e,t){return e.color||p(e,t)}).style("stroke",function(e,t){return e.color||p(e,t)}),B.append("line").attr("class","nv-boxplot-median"),_.select("line.nv-boxplot-median").watchTransition(b,"nv-boxplot: boxplots line").attr("x1",T).attr("y1",function(e){return f(e.values.Q2)}).attr("x2",E).attr("y2",function(e){return f(e.values.Q2)}),l=v.copy(),s=f.copy()}),b.renderEnd("nv-boxplot immediate"),e}var t,n,o,r,l,s,u={top:0,right:0,bottom:0,left:0},a=960,i=500,c=Math.floor(1e4*Math.random()),v=d3.scale.ordinal(),f=d3.scale.linear(),h=function(e){return e.x},d=function(e){return e.y},p=nv.utils.defaultColor(),m=null,x=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),g=250,y=null,b=nv.utils.renderWatch(x,g);return e.dispatch=x,e.options=nv.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return i},set:function(e){i=e}},maxBoxWidth:{get:function(){return y},set:function(e){y=e}},x:{get:function(){return h},set:function(e){h=e}},y:{get:function(){return d},set:function(e){d=e}},xScale:{get:function(){return v},set:function(e){v=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(e){n=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return r},set:function(e){r=e}},id:{get:function(){return c},set:function(e){c=e}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},color:{get:function(){return p},set:function(e){p=nv.utils.getColor(e)}},duration:{get:function(){return g},set:function(e){g=e,b.reset(g)}}}),nv.utils.initOptions(e),e};