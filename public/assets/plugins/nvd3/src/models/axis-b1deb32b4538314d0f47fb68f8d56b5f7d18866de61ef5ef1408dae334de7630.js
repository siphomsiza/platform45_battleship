nv.models.axis=function(){"use strict";function t(i){return m.reset(),i.each(function(t){var i=d3.select(this);nv.utils.initSVG(i);var h=i.selectAll("g.nv-wrap.nv-axis").data([t]),f=h.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),p=(f.append("g"),h.select("g"));null!==g?n.ticks(g):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(e.range()[1]-e.range()[0])/100),p.watchTransition(m,"axis").call(n),v=v||n.scale();var M=n.tickFormat();null==M&&(M=v.tickFormat());var y=p.selectAll("text.nv-axislabel").data([s||null]);y.exit().remove();var b,N,k;switch(n.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel"),k=0,1===e.range().length?k=d?2*e.range()[0]+e.rangeBand():0:2===e.range().length?k=d?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(k=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),y.attr("text-anchor","middle").attr("y",0).attr("x",k/2),o&&(N=h.selectAll("g.nv-axisMaxMin").data(e.domain()),N.enter().append("g").attr("class",function(t,n){return["nv-axisMaxMin","nv-axisMaxMin-x",0==n?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),N.exit().remove(),N.attr("transform",function(t){return"translate("+nv.utils.NaNtoZero(e(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t){var n=M(t);return(""+n).match("NaN")?"":n}),N.watchTransition(m,"min-max top").attr("transform",function(t,n){return"translate("+nv.utils.NaNtoZero(e.range()[n])+",0)"}));break;case"bottom":b=x+36;var B=30,w=0,A=p.selectAll("g").select("text"),P="";if(c%360){A.each(function(){var t=this.getBoundingClientRect(),n=t.width;w=t.height,n>B&&(B=n)}),P="rotate("+c+" 0,"+(w/2+n.tickPadding())+")";var Z=Math.abs(Math.sin(c*Math.PI/180));b=(Z?Z*B:B)+30,A.attr("transform",P).style("text-anchor",c%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel"),k=0,1===e.range().length?k=d?2*e.range()[0]+e.rangeBand():0:2===e.range().length?k=d?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(k=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),y.attr("text-anchor","middle").attr("y",b).attr("x",k/2),o&&(N=h.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]),N.enter().append("g").attr("class",function(t,n){return["nv-axisMaxMin","nv-axisMaxMin-x",0==n?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),N.exit().remove(),N.attr("transform",function(t){return"translate("+nv.utils.NaNtoZero(e(t)+(d?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",P).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t){var n=M(t);return(""+n).match("NaN")?"":n}),N.watchTransition(m,"min-max bottom").attr("transform",function(t){return"translate("+nv.utils.NaNtoZero(e(t)+(d?e.rangeBand()/2:0))+",0)"})),u&&A.attr("transform",function(t,n){return"translate(0,"+(n%2==0?"0":"12")+")"});break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(a.right,r)+12:-10).attr("x",l?d3.max(e.range())/2:n.tickPadding()),o&&(N=h.selectAll("g.nv-axisMaxMin").data(e.domain()),N.enter().append("g").attr("class",function(t,n){return["nv-axisMaxMin","nv-axisMaxMin-y",0==n?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(t){return"translate(0,"+nv.utils.NaNtoZero(e(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t){var n=M(t);return(""+n).match("NaN")?"":n}),N.watchTransition(m,"min-max right").attr("transform",function(t,n){return"translate(0,"+nv.utils.NaNtoZero(e.range()[n])+")"}).select("text").style("opacity",1));break;case"left":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(a.left,r)+25-(x||0):-10).attr("x",l?-d3.max(e.range())/2:-n.tickPadding()),o&&(N=h.selectAll("g.nv-axisMaxMin").data(e.domain()),N.enter().append("g").attr("class",function(t,n){return["nv-axisMaxMin","nv-axisMaxMin-y",0==n?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(t){return"translate(0,"+nv.utils.NaNtoZero(v(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t){var n=M(t);return(""+n).match("NaN")?"":n}),N.watchTransition(m,"min-max right").attr("transform",function(t,n){return"translate(0,"+nv.utils.NaNtoZero(e.range()[n])+")"}).select("text").style("opacity",1))}if(y.text(function(t){return t}),!o||"left"!==n.orient()&&"right"!==n.orient()||(p.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(e(t)<e.range()[1]+10||e(t)>e.range()[0]-10)&&((t>1e-10||-1e-10>t)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),e.domain()[0]==e.domain()[1]&&0==e.domain()[0]&&h.selectAll("g.nv-axisMaxMin").style("opacity",function(t,n){return n?0:1})),o&&("top"===n.orient()||"bottom"===n.orient())){var F=[];h.selectAll("g.nv-axisMaxMin").each(function(t,n){try{n?F.push(e(t)-this.getBoundingClientRect().width-4):F.push(e(t)+this.getBoundingClientRect().width+4)}catch(a){n?F.push(e(t)-4):F.push(e(t)+4)}}),p.selectAll("g").each(function(t){(e(t)<F[0]||e(t)>F[1])&&(t>1e-10||-1e-10>t?d3.select(this).remove():d3.select(this).select("text").remove())})}p.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),v=e.copy()}),m.renderEnd("axis immediate"),t}var n=d3.svg.axis(),e=d3.scale.linear(),a={top:0,right:0,bottom:0,left:0},r=75,i=60,s=null,o=!0,c=0,l=!0,u=!1,d=!1,g=null,x=0,h=250,f=d3.dispatch("renderEnd");n.scale(e).orient("bottom").tickFormat(function(t){return t});var v,m=nv.utils.renderWatch(f,h);return t.axis=n,t.dispatch=f,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{axisLabelDistance:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return u},set:function(t){u=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return l},set:function(t){l=t}},showMaxMin:{get:function(){return o},set:function(t){o=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return i},set:function(t){i=t}},ticks:{get:function(){return g},set:function(t){g=t}},width:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return h},set:function(t){h=t,m.reset(h)}},scale:{get:function(){return e},set:function(a){e=a,n.scale(e),d="function"==typeof e.rangeBands,nv.utils.inheritOptionsD3(t,e,["domain","range","rangeBand","rangeBands"])}}}),nv.utils.initOptions(t),nv.utils.inheritOptionsD3(t,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),nv.utils.inheritOptionsD3(t,e,["domain","range","rangeBand","rangeBands"]),t};