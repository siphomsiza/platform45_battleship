nv.models.boxPlot=function(){"use strict";function t(e){return P.reset(),e.each(function(n){var e=g-x.left-x.right,t=y-x.top-x.bottom;M=d3.select(this),nv.utils.initSVG(M),b.domain(v||n.map(function(e,t){return k(e,t)})).rangeBands(d||[0,e],.1);var o=[];f||(o=[d3.min(n.map(function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&null!==e.values.whisker_low&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.min(t)})),d3.max(n.map(function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&null!==e.values.whisker_high&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.max(t)}))]);w.domain(f||o),w.range(h||[t,0]),p=p||b,m=m||w.copy().range([w(0),w(0)]);var r=M.selectAll("g.nv-wrap").data([n]);r.enter().append("g").attr("class","nvd3 nv-wrap");r.attr("transform","translate("+x.left+","+x.top+")");var l=r.selectAll(".nv-boxplot").data(function(e){return e}),u=l.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);l.attr("class","nv-boxplot").attr("transform",function(e,t){return"translate("+(b(k(e,t))+.05*b.rangeBand())+", 0)"}).classed("hover",function(e){return e.hover}),l.watchTransition(P,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(e,t){return t*B/n.length}).attr("transform",function(e,t){return"translate("+(b(k(e,t))+.05*b.rangeBand())+", 0)"}),l.exit().remove(),u.each(function(t,n){var o=d3.select(this);["low","high"].forEach(function(e){t.values.hasOwnProperty("whisker_"+e)&&null!==t.values["whisker_"+e]&&(o.append("line").style("stroke",t.color?t.color:Q(t,n)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),o.append("line").style("stroke",t.color?t.color:Q(t,n)).attr("class","nv-boxplot-tick nv-boxplot-"+e))})});var s=l.selectAll(".nv-boxplot-outlier").data(function(e){return e.values.hasOwnProperty("outliers")&&null!==e.values.outliers?e.values.outliers:[]});s.enter().append("circle").style("fill",function(e,t,n){return Q(e,n)}).style("stroke",function(e,t,n){return Q(e,n)}).on("mouseover",function(e,t,n){d3.select(this).classed("hover",!0),_.elementMouseover({series:{key:e,color:Q(e,n)},e:d3.event})}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",!1),_.elementMouseout({series:{key:e,color:Q(e,n)},e:d3.event})}).on("mousemove",function(){_.elementMousemove({e:d3.event})}),s.attr("class","nv-boxplot-outlier"),s.watchTransition(P,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*b.rangeBand()).attr("cy",function(e){return w(e)}).attr("r","3"),s.exit().remove();var a=function(){return null===O?.9*b.rangeBand():Math.min(75,.9*b.rangeBand())},i=function(){return.45*b.rangeBand()-a()/2},c=function(){return.45*b.rangeBand()+a()/2};["low","high"].forEach(function(t){var n="low"===t?"Q1":"Q3";l.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition(P,"nv-boxplot: boxplots").attr("x1",.45*b.rangeBand()).attr("y1",function(e){return w(e.values["whisker_"+t])}).attr("x2",.45*b.rangeBand()).attr("y2",function(e){return w(e.values[n])}),l.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition(P,"nv-boxplot: boxplots").attr("x1",i).attr("y1",function(e){return w(e.values["whisker_"+t])}).attr("x2",c).attr("y2",function(e){return w(e.values["whisker_"+t])})}),["low","high"].forEach(function(o){u.selectAll(".nv-boxplot-"+o).on("mouseover",function(e,t,n){d3.select(this).classed("hover",!0),_.elementMouseover({series:{key:e.values["whisker_"+o],color:Q(e,n)},e:d3.event})}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",!1),_.elementMouseout({series:{key:e.values["whisker_"+o],color:Q(e,n)},e:d3.event})}).on("mousemove",function(){_.elementMousemove({e:d3.event})})}),u.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(e,t){d3.select(this).classed("hover",!0),_.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||Q(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||Q(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||Q(e,t)}],data:e,index:t,e:d3.event})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),_.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||Q(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||Q(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||Q(e,t)}],data:e,index:t,e:d3.event})}).on("mousemove",function(){_.elementMousemove({e:d3.event})}),l.select("rect.nv-boxplot-box").watchTransition(P,"nv-boxplot: boxes").attr("y",function(e){return w(e.values.Q3)}).attr("width",a).attr("x",i).attr("height",function(e){return Math.abs(w(e.values.Q3)-w(e.values.Q1))||1}).style("fill",function(e,t){return e.color||Q(e,t)}).style("stroke",function(e,t){return e.color||Q(e,t)}),u.append("line").attr("class","nv-boxplot-median"),l.select("line.nv-boxplot-median").watchTransition(P,"nv-boxplot: boxplots line").attr("x1",i).attr("y1",function(e){return w(e.values.Q2)}).attr("x2",c).attr("y2",function(e){return w(e.values.Q2)}),p=b.copy(),m=w.copy()}),P.renderEnd("nv-boxplot immediate"),t}var v,f,d,h,p,m,x={top:0,right:0,bottom:0,left:0},g=960,y=500,n=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),w=d3.scale.linear(),k=function(e){return e.x},o=function(e){return e.y},Q=nv.utils.defaultColor(),M=null,_=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),B=250,O=null,P=nv.utils.renderWatch(_,B);return t.dispatch=_,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return g},set:function(e){g=e}},height:{get:function(){return y},set:function(e){y=e}},maxBoxWidth:{get:function(){return O},set:function(e){O=e}},x:{get:function(){return k},set:function(e){k=e}},y:{get:function(){return o},set:function(e){o=e}},xScale:{get:function(){return b},set:function(e){b=e}},yScale:{get:function(){return w},set:function(e){w=e}},xDomain:{get:function(){return v},set:function(e){v=e}},yDomain:{get:function(){return f},set:function(e){f=e}},xRange:{get:function(){return d},set:function(e){d=e}},yRange:{get:function(){return h},set:function(e){h=e}},id:{get:function(){return n},set:function(e){n=e}},margin:{get:function(){return x},set:function(e){x.top=e.top!==undefined?e.top:x.top,x.right=e.right!==undefined?e.right:x.right,x.bottom=e.bottom!==undefined?e.bottom:x.bottom,x.left=e.left!==undefined?e.left:x.left}},color:{get:function(){return Q},set:function(e){Q=nv.utils.getColor(e)}},duration:{get:function(){return B},set:function(e){B=e,P.reset(B)}}}),nv.utils.initOptions(t),t};