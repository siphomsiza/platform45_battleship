nv.models.multiChart=function(){"use strict";function I(t){return t.each(function(i){function t(t){var n=2===i[t.seriesIndex].yAxis?at:it;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},rt.duration(0).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function e(t){var n=2===i[t.seriesIndex].yAxis?at:it;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},rt.duration(100).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function n(t){var n=2===i[t.seriesIndex].yAxis?at:it;t.point.x=tt.x()(t.point),t.point.y=tt.y()(t.point),rt.duration(0).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function a(t){var n=2===i[t.data.series].yAxis?at:it;t.value=Z.x()(t.data),t.series={value:Z.y()(t.data),color:t.color,key:t.data.key},rt.duration(0).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}var o=d3.select(this);nv.utils.initSVG(o),I.update=function(){o.transition().call(I)},I.container=this;var r=nv.utils.availableWidth(Y,o,H),l=nv.utils.availableHeight(j,o,H),s=i.filter(function(t){return"line"==t.type&&1==t.yAxis}),c=i.filter(function(t){return"line"==t.type&&2==t.yAxis}),u=i.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),d=i.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),p=i.filter(function(t){return"bar"==t.type&&1==t.yAxis}),f=i.filter(function(t){return"bar"==t.type&&2==t.yAxis}),m=i.filter(function(t){return"area"==t.type&&1==t.yAxis}),y=i.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return nv.utils.noData(I,o),I;o.selectAll(".nv-noData").remove();var h=i.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:L(t),y:P(t)}})}),v=i.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:L(t),y:P(t)}})});q.domain(d3.extent(d3.merge(h.concat(v)),function(t){return L(t)})).range([0,r]);var g=o.selectAll("g.wrap.multiChart").data([i]),x=g.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y1 nv-axis"),x.append("g").attr("class","nv-y2 nv-axis"),x.append("g").attr("class","lines1Wrap"),x.append("g").attr("class","lines2Wrap"),x.append("g").attr("class","scatters1Wrap"),x.append("g").attr("class","scatters2Wrap"),x.append("g").attr("class","bars1Wrap"),x.append("g").attr("class","bars2Wrap"),x.append("g").attr("class","stack1Wrap"),x.append("g").attr("class","stack2Wrap"),x.append("g").attr("class","legendWrap");var b=g.select("g"),k=i.map(function(t,e){return i[e].color||O(t,e)});if(G){var A=ot.align()?r/2:r,W=ot.align()?A:0;ot.width(A),ot.color(k),b.select(".legendWrap").datum(i.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(ot),H.top!=ot.height()&&(H.top=ot.height(),l=nv.utils.availableHeight(j,o,H)),b.select(".legendWrap").attr("transform","translate("+W+","+-H.top+")")}N.width(r).height(l).interpolate(X).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"line"==i[e].type})),Q.width(r).height(l).interpolate(X).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"line"==i[e].type})),R.width(r).height(l).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"scatter"==i[e].type})),U.width(r).height(l).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"scatter"==i[e].type})),Z.width(r).height(l).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"bar"==i[e].type})),$.width(r).height(l).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"bar"==i[e].type})),tt.width(r).height(l).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"area"==i[e].type})),et.width(r).height(l).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"area"==i[e].type})),b.attr("transform","translate("+H.left+","+H.top+")");var M=b.select(".lines1Wrap").datum(s.filter(function(t){return!t.disabled})),w=b.select(".scatters1Wrap").datum(u.filter(function(t){return!t.disabled})),D=b.select(".bars1Wrap").datum(p.filter(function(t){return!t.disabled})),S=b.select(".stack1Wrap").datum(m.filter(function(t){return!t.disabled})),F=b.select(".lines2Wrap").datum(c.filter(function(t){return!t.disabled})),C=b.select(".scatters2Wrap").datum(d.filter(function(t){return!t.disabled})),V=b.select(".bars2Wrap").datum(f.filter(function(t){return!t.disabled})),K=b.select(".stack2Wrap").datum(y.filter(function(t){return!t.disabled})),_=m.length?m.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[],z=y.length?y.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[];E.domain(T||d3.extent(d3.merge(h).concat(_),function(t){return t.y})).range([0,l]),J.domain(B||d3.extent(d3.merge(v).concat(z),function(t){return t.y})).range([0,l]),N.yDomain(E.domain()),R.yDomain(E.domain()),Z.yDomain(E.domain()),tt.yDomain(E.domain()),Q.yDomain(J.domain()),U.yDomain(J.domain()),$.yDomain(J.domain()),et.yDomain(J.domain()),m.length&&d3.transition(S).call(tt),y.length&&d3.transition(K).call(et),p.length&&d3.transition(D).call(Z),f.length&&d3.transition(V).call($),s.length&&d3.transition(M).call(N),c.length&&d3.transition(F).call(Q),u.length&&d3.transition(w).call(R),d.length&&d3.transition(C).call(U),nt._ticks(nv.utils.calcTicksX(r/100,i)).tickSize(-l,0),b.select(".nv-x.nv-axis").attr("transform","translate(0,"+l+")"),d3.transition(b.select(".nv-x.nv-axis")).call(nt),it._ticks(nv.utils.calcTicksY(l/36,i)).tickSize(-r,0),d3.transition(b.select(".nv-y1.nv-axis")).call(it),at._ticks(nv.utils.calcTicksY(l/36,i)).tickSize(-r,0),d3.transition(b.select(".nv-y2.nv-axis")).call(at),b.select(".nv-y1.nv-axis").classed("nv-disabled",!h.length).attr("transform","translate("+q.range()[0]+",0)"),b.select(".nv-y2.nv-axis").classed("nv-disabled",!v.length).attr("transform","translate("+q.range()[1]+",0)"),ot.dispatch.on("stateChange",function(){I.update()}),N.dispatch.on("elementMouseover.tooltip",t),Q.dispatch.on("elementMouseover.tooltip",t),N.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),Q.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),R.dispatch.on("elementMouseover.tooltip",e),U.dispatch.on("elementMouseover.tooltip",e),R.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),U.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),tt.dispatch.on("elementMouseover.tooltip",n),et.dispatch.on("elementMouseover.tooltip",n),tt.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),et.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),Z.dispatch.on("elementMouseover.tooltip",a),$.dispatch.on("elementMouseover.tooltip",a),Z.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),$.dispatch.on("elementMouseout.tooltip",function(){rt.hidden(!0)}),Z.dispatch.on("elementMousemove.tooltip",function(){rt()}),$.dispatch.on("elementMousemove.tooltip",function(){rt()})}),I}var T,B,H={top:30,right:20,bottom:50,left:60},O=nv.utils.defaultColor(),Y=null,j=null,G=!0,e=null,L=function(t){return t.x},P=function(t){return t.y},X="monotone",n=!0,q=d3.scale.linear(),E=d3.scale.linear(),J=d3.scale.linear(),N=nv.models.line().yScale(E),Q=nv.models.line().yScale(J),R=nv.models.scatter().yScale(E),U=nv.models.scatter().yScale(J),Z=nv.models.multiBar().stacked(!1).yScale(E),$=nv.models.multiBar().stacked(!1).yScale(J),tt=nv.models.stackedArea().yScale(E),et=nv.models.stackedArea().yScale(J),nt=nv.models.axis().scale(q).orient("bottom").tickPadding(5),it=nv.models.axis().scale(E).orient("left"),at=nv.models.axis().scale(J).orient("right"),ot=nv.models.legend().height(30),rt=nv.models.tooltip(),t=d3.dispatch();return I.dispatch=t,I.legend=ot,I.lines1=N,I.lines2=Q,I.scatters1=R,I.scatters2=U,I.bars1=Z,I.bars2=$,I.stack1=tt,I.stack2=et,I.xAxis=nt,I.yAxis1=it,I.yAxis2=at,I.tooltip=rt,I.options=nv.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return Y},set:function(t){Y=t}},height:{get:function(){return j},set:function(t){j=t}},showLegend:{get:function(){return G},set:function(t){G=t}},yDomain1:{get:function(){return T},set:function(t){T=t}},yDomain2:{get:function(){return B},set:function(t){B=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return X},set:function(t){X=t}},margin:{get:function(){return H},set:function(t){H.top=t.top!==undefined?t.top:H.top,H.right=t.right!==undefined?t.right:H.right,H.bottom=t.bottom!==undefined?t.bottom:H.bottom,H.left=t.left!==undefined?t.left:H.left}},color:{get:function(){return O},set:function(t){O=nv.utils.getColor(t)}},x:{get:function(){return L},set:function(t){L=t,N.x(t),Q.x(t),R.x(t),U.x(t),Z.x(t),$.x(t),tt.x(t),et.x(t)}},y:{get:function(){return P},set:function(t){P=t,N.y(t),Q.y(t),R.y(t),U.y(t),tt.y(t),et.y(t),Z.y(t),$.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,N.useVoronoi(t),Q.useVoronoi(t),tt.useVoronoi(t),et.useVoronoi(t)}}}),nv.utils.initOptions(I),I};