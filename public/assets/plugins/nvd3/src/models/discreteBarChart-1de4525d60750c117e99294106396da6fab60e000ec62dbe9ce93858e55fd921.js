nv.models.discreteBarChart=function(){"use strict";function c(t){return r.reset(),r.models(f),k&&r.models(v),A&&r.models(p),t.each(function(t){var e=d3.select(this);nv.utils.initSVG(e);var n=nv.utils.availableWidth(m,e,h),a=nv.utils.availableHeight(x,e,h);if(c.update=function(){F.beforeUpdate(),e.transition().duration(L).call(c)},c.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return nv.utils.noData(c,e),c;e.selectAll(".nv-noData").remove(),u=f.xScale(),d=f.yScale().clamp(!0);var r=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),o=i.append("defs"),s=r.select("g");if(i.append("g").attr("class","nv-x nv-axis"),i.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),i.append("g").attr("class","nv-barsWrap"),i.append("g").attr("class","nv-legendWrap"),s.attr("transform","translate("+h.left+","+h.top+")"),b&&(g.width(n),s.select(".nv-legendWrap").datum(t).call(g),h.top!=g.height()&&(h.top=g.height(),a=nv.utils.availableHeight(x,e,h)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),w&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),w&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),f.width(n).height(a),s.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(f),o.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),s.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",u.rangeBand()*(y?2:1)).attr("height",16).attr("x",-u.rangeBand()/(y?1:2)),k){v.scale(u)._ticks(nv.utils.calcTicksX(n/100,t)).tickSize(-a,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+(d.range()[0]+(f.showValues()&&d.domain()[0]<0?16:0))+")"),s.select(".nv-x.nv-axis").call(v);var l=s.select(".nv-x.nv-axis").selectAll("g");y&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),B&&l.selectAll(".tick text").attr("transform","rotate("+B+" 0,0)").style("text-anchor",0<B?"start":"end"),W&&s.selectAll(".tick text").call(nv.utils.wrapTicks,c.xAxis.rangeBand())}A&&(p.scale(d)._ticks(nv.utils.calcTicksY(a/36,t)).tickSize(-n,0),s.select(".nv-y.nv-axis").call(p)),s.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",d(0)).attr("y2",d(0))}),r.renderEnd("discreteBar chart immediate"),c}var u,d,f=nv.models.discreteBar(),v=nv.models.axis(),p=nv.models.axis(),g=nv.models.legend(),e=nv.models.tooltip(),h={top:15,right:10,bottom:50,left:60},m=null,x=null,n=nv.utils.getColor(),b=!1,k=!0,A=!0,w=!1,y=!1,W=!1,B=0,a=null,F=d3.dispatch("beforeUpdate","renderEnd"),L=250;v.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),p.orient(w?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).keyFormatter(function(t,e){return v.tickFormat()(t,e)});var r=nv.utils.renderWatch(F,L);return f.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){e()}),c.dispatch=F,c.discretebar=f,c.legend=g,c.xAxis=v,c.yAxis=p,c.tooltip=e,c.options=nv.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return b},set:function(t){b=t}},staggerLabels:{get:function(){return y},set:function(t){y=t}},rotateLabels:{get:function(){return B},set:function(t){B=t}},wrapLabels:{get:function(){return W},set:function(t){W=!!t}},showXAxis:{get:function(){return k},set:function(t){k=t}},showYAxis:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return a},set:function(t){a=t}},margin:{get:function(){return h},set:function(t){h.top=t.top!==undefined?t.top:h.top,h.right=t.right!==undefined?t.right:h.right,h.bottom=t.bottom!==undefined?t.bottom:h.bottom,h.left=t.left!==undefined?t.left:h.left}},duration:{get:function(){return L},set:function(t){L=t,r.reset(L),f.duration(L),v.duration(L),p.duration(L)}},color:{get:function(){return n},set:function(t){n=nv.utils.getColor(t),f.color(n),g.color(n)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,p.orient(t?"right":"left")}}}),nv.utils.inheritOptions(c,f),nv.utils.initOptions(c),c};