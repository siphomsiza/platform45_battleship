nv.models.multiBarHorizontalChart=function(){"use strict";function t(l){return W.reset(),W.models(a),h&&W.models(i),m&&W.models(o),l.each(function(l){var y=d3.select(this);nv.utils.initSVG(y);var W=nv.utils.availableWidth(d,y,c),F=nv.utils.availableHeight(u,y,c);if(t.update=function(){y.transition().duration(S).call(t)},t.container=this,k=a.stacked(),b.setter(A(l),t.update).getter(z(l)).update(),b.disabled=l.map(function(t){return!!t.disabled}),!x){var H;x={};for(H in b)b[H]instanceof Array?x[H]=b[H].slice(0):x[H]=b[H]}if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return nv.utils.noData(t,y),t;y.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var M=y.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),B=M.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),E=M.select("g");if(B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),B.append("g").attr("class","nv-barsWrap"),B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap"),g&&(r.width(W-w()),E.select(".nv-legendWrap").datum(l).call(r),c.top!=r.height()&&(c.top=r.height(),F=nv.utils.availableHeight(u,y,c)),E.select(".nv-legendWrap").attr("transform","translate("+w()+","+-c.top+")")),v){var L=[{key:p.grouped||"Grouped",disabled:a.stacked()},{key:p.stacked||"Stacked",disabled:!a.stacked()}];s.width(w()).color(["#444","#444","#444"]),E.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-c.top+")").call(s)}M.attr("transform","translate("+c.left+","+c.top+")"),a.disabled(l.map(function(t){return t.disabled})).width(W).height(F).color(l.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!l[e].disabled}));var D=E.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled}));if(D.transition().call(a),h){i.scale(e)._ticks(nv.utils.calcTicksY(F/24,l)).tickSize(-W,0),E.select(".nv-x.nv-axis").call(i);var G=E.select(".nv-x.nv-axis").selectAll("g");G.selectAll("line, text")}m&&(o.scale(n)._ticks(nv.utils.calcTicksX(W/100,l)).tickSize(-F,0),E.select(".nv-y.nv-axis").attr("transform","translate(0,"+F+")"),E.select(".nv-y.nv-axis").call(o)),E.select(".nv-zeroLine line").attr("x1",n(0)).attr("x2",n(0)).attr("y1",0).attr("y2",-F),r.dispatch.on("stateChange",function(e){for(var n in e)b[n]=e[n];C.stateChange(b),t.update()}),s.dispatch.on("legendClick",function(e){if(e.disabled){switch(L=L.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":a.stacked(!1);break;case"Stacked":a.stacked(!0)}b.stacked=a.stacked(),C.stateChange(b),k=a.stacked(),t.update()}}),C.on("changeState",function(e){"undefined"!=typeof e.disabled&&(l.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),"undefined"!=typeof e.stacked&&(a.stacked(e.stacked),b.stacked=e.stacked,k=e.stacked),t.update()})}),W.renderEnd("multibar horizontal chart immediate"),t}var e,n,a=nv.models.multiBarHorizontal(),i=nv.models.axis(),o=nv.models.axis(),r=nv.models.legend().height(30),s=nv.models.legend().height(30),l=nv.models.tooltip(),c={top:30,right:20,bottom:50,left:60},d=null,u=null,f=nv.utils.defaultColor(),v=!0,p={},g=!0,h=!0,m=!0,k=!1,b=nv.utils.state(),x=null,y=null,C=d3.dispatch("stateChange","changeState","renderEnd"),w=function(){return v?180:0},S=250;b.stacked=!1,a.stacked(k),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.updateState(!1);var z=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:k}}},A=function(t){return function(e){void 0!==e.stacked&&(k=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},W=nv.utils.renderWatch(C,S);return a.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={key:e.data.key,value:t.y()(e.data),color:e.color},l.data(e).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(){l.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(){l()}),t.dispatch=C,t.multibar=a,t.legend=r,t.controls=s,t.xAxis=i,t.yAxis=o,t.state=b,t.tooltip=l,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return x},set:function(t){x=t}},noData:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return S},set:function(t){S=t,W.reset(S),a.duration(S),i.duration(S),o.duration(S)}},color:{get:function(){return f},set:function(t){f=nv.utils.getColor(t),r.color(f)}},barColor:{get:function(){return a.barColor},set:function(t){a.barColor(t),r.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),nv.utils.inheritOptions(t,a),nv.utils.initOptions(t),t};