nv.models.ohlcBar=function(){"use strict";function e(t){return t.each(function(i){k=d3.select(this);var r=nv.utils.availableWidth(v,k,h),t=nv.utils.availableHeight(m,k,h);nv.utils.initSVG(k);var e=r/i[0].values.length*.9;b.domain(s||d3.extent(i[0].values.map(C).concat(S))),z?b.range(d||[.5*r/i[0].values.length,r*(i[0].values.length-.5)/i[0].values.length]):b.range(d||[5+e/2,r-e/2-5]),x.domain(f||[d3.min(i[0].values.map(D).concat(H)),d3.max(i[0].values.map(B).concat(H))]).range(g||[t,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]+.01*x.domain()[0],x.domain()[1]-.01*x.domain()[1]]):x.domain([-1,1]));var n=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([i[0].values]),o=n.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),a=o.append("defs"),c=o.append("g"),u=n.select("g");c.append("g").attr("class","nv-ticks"),n.attr("transform","translate("+h.left+","+h.top+")"),k.on("click",function(t,n){O.chartClick({data:t,index:n,pos:d3.event,id:p})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+p).append("rect"),n.select("#nv-chart-clip-path-"+p+" rect").attr("width",r).attr("height",t),u.attr("clip-path",A?"url(#nv-chart-clip-path-"+p+")":"");var l=n.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});l.exit().remove(),l.enter().append("path").attr("class",function(t,n,e){return(w(t,n)>y(t,n)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+e+"-"+n}).attr("d",function(t,n){return"m0,0l0,"+(x(w(t,n))-x(B(t,n)))+"l"+-e/2+",0l"+e/2+",0l0,"+(x(D(t,n))-x(w(t,n)))+"l0,"+(x(y(t,n))-x(D(t,n)))+"l"+e/2+",0l"+-e/2+",0z"}).attr("transform",function(t,n){return"translate("+b(C(t,n))+","+x(B(t,n))+")"}).attr("fill",function(){return E[0]}).attr("stroke",function(){return E[0]}).attr("x",0).attr("y",function(t,n){return x(Math.max(0,M(t,n)))}).attr("height",function(t,n){return Math.abs(x(M(t,n))-x(0))}),l.attr("class",function(t,n,e){return(w(t,n)>y(t,n)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+e+"-"+n}),d3.transition(l).attr("transform",function(t,n){return"translate("+b(C(t,n))+","+x(B(t,n))+")"}).attr("d",function(t,n){var e=r/i[0].values.length*.9;return"m0,0l0,"+(x(w(t,n))-x(B(t,n)))+"l"+-e/2+",0l"+e/2+",0l0,"+(x(D(t,n))-x(w(t,n)))+"l0,"+(x(y(t,n))-x(D(t,n)))+"l"+e/2+",0l"+-e/2+",0z"})}),e}var s,f,d,g,h={top:0,right:0,bottom:0,left:0},v=null,m=null,p=Math.floor(1e4*Math.random()),k=null,b=d3.scale.linear(),x=d3.scale.linear(),C=function(t){return t.x},M=function(t){return t.y},w=function(t){return t.open},y=function(t){return t.close},B=function(t){return t.high},D=function(t){return t.low},S=[],H=[],z=!1,A=!0,E=nv.utils.defaultColor(),n=!1,O=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,n){e.clearHighlights(),k.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){k.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=O,e.options=nv.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return s},set:function(t){s=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return S},set:function(t){S=t}},forceY:{get:function(){return H},set:function(t){H=t}},padData:{get:function(){return z},set:function(t){z=t}},clipEdge:{get:function(){return A},set:function(t){A=t}},id:{get:function(){return p},set:function(t){p=t}},interactive:{get:function(){return n},set:function(t){n=t}},x:{get:function(){return C},set:function(t){C=t}},y:{get:function(){return M},set:function(t){M=t}},open:{get:function(){return w()},set:function(t){w=t}},close:{get:function(){return y()},set:function(t){y=t}},high:{get:function(){return B},set:function(t){B=t}},low:{get:function(){return D},set:function(t){D=t}},margin:{get:function(){return h},set:function(t){h.top=t.top!=undefined?t.top:h.top,h.right=t.right!=undefined?t.right:h.right,h.bottom=t.bottom!=undefined?t.bottom:h.bottom,h.left=t.left!=undefined?t.left:h.left}},color:{get:function(){return E},set:function(t){E=nv.utils.getColor(t)}}}),nv.utils.initOptions(e),e};