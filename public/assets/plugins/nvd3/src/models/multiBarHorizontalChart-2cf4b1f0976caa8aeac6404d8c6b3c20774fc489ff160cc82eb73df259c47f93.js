nv.models.multiBarHorizontalChart=function(){"use strict";function c(t){return a.reset(),a.models(f),S&&a.models(p),z&&a.models(v),t.each(function(a){var t=d3.select(this);nv.utils.initSVG(t);var e,n=nv.utils.availableWidth(k,t,m),i=nv.utils.availableHeight(b,t,m);if(c.update=function(){t.transition().duration(B).call(c)},c.container=this,A=f.stacked(),W.setter(L(a),c.update).getter(E(a)).update(),W.disabled=a.map(function(t){return!!t.disabled}),!F)for(e in F={},W)W[e]instanceof Array?F[e]=W[e].slice(0):F[e]=W[e];if(!(a&&a.length&&a.filter(function(t){return t.values.length}).length))return nv.utils.noData(c,t),c;t.selectAll(".nv-noData").remove(),d=f.xScale(),u=f.yScale();var r=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([a]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),s=r.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),w&&(g.width(n-M()),s.select(".nv-legendWrap").datum(a).call(g),m.top!=g.height()&&(m.top=g.height(),i=nv.utils.availableHeight(b,t,m)),s.select(".nv-legendWrap").attr("transform","translate("+M()+","+-m.top+")")),y){var l=[{key:C.grouped||"Grouped",disabled:f.stacked()},{key:C.stacked||"Stacked",disabled:!f.stacked()}];h.width(M()).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+-m.top+")").call(h)}(r.attr("transform","translate("+m.left+","+m.top+")"),f.disabled(a.map(function(t){return t.disabled})).width(n).height(i).color(a.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!a[e].disabled})),s.select(".nv-barsWrap").datum(a.filter(function(t){return!t.disabled})).transition().call(f),S)&&(p.scale(d)._ticks(nv.utils.calcTicksY(i/24,a)).tickSize(-n,0),s.select(".nv-x.nv-axis").call(p),s.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));z&&(v.scale(u)._ticks(nv.utils.calcTicksX(n/100,a)).tickSize(-i,0),s.select(".nv-y.nv-axis").attr("transform","translate(0,"+i+")"),s.select(".nv-y.nv-axis").call(v)),s.select(".nv-zeroLine line").attr("x1",u(0)).attr("x2",u(0)).attr("y1",0).attr("y2",-i),g.dispatch.on("stateChange",function(t){for(var e in t)W[e]=t[e];H.stateChange(W),c.update()}),h.dispatch.on("legendClick",function(t){if(t.disabled){switch(l=l.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":f.stacked(!1);break;case"Stacked":f.stacked(!0)}W.stacked=f.stacked(),H.stateChange(W),A=f.stacked(),c.update()}}),H.on("changeState",function(n){"undefined"!=typeof n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),W.disabled=n.disabled),"undefined"!=typeof n.stacked&&(f.stacked(n.stacked),W.stacked=n.stacked,A=n.stacked),c.update()})}),a.renderEnd("multibar horizontal chart immediate"),c}var d,u,f=nv.models.multiBarHorizontal(),p=nv.models.axis(),v=nv.models.axis(),g=nv.models.legend().height(30),h=nv.models.legend().height(30),e=nv.models.tooltip(),m={top:30,right:20,bottom:50,left:60},k=null,b=null,x=nv.utils.defaultColor(),y=!0,C={},w=!0,S=!0,z=!0,A=!1,W=nv.utils.state(),F=null,n=null,H=d3.dispatch("stateChange","changeState","renderEnd"),M=function(){return y?180:0},B=250;W.stacked=!1,f.stacked(A),p.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),v.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return p.tickFormat()(t,e)}),h.updateState(!1);var E=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:A}}},L=function(t){return function(n){n.stacked!==undefined&&(A=n.stacked),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},a=nv.utils.renderWatch(H,B);return f.dispatch.on("elementMouseover.tooltip",function(t){t.value=c.x()(t.data),t.series={key:t.data.key,value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){e()}),c.dispatch=H,c.multibar=f,c.legend=g,c.controls=h,c.xAxis=p,c.yAxis=v,c.state=W,c.tooltip=e,c.options=nv.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return w},set:function(t){w=t}},showControls:{get:function(){return y},set:function(t){y=t}},controlLabels:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return S},set:function(t){S=t}},showYAxis:{get:function(){return z},set:function(t){z=t}},defaultState:{get:function(){return F},set:function(t){F=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return B},set:function(t){B=t,a.reset(B),f.duration(B),p.duration(B),v.duration(B)}},color:{get:function(){return x},set:function(t){x=nv.utils.getColor(t),g.color(x)}},barColor:{get:function(){return f.barColor},set:function(t){f.barColor(t),g.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),nv.utils.inheritOptions(c,f),nv.utils.initOptions(c),c};