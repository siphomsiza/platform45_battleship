nv.models.sunburst=function(){"use strict";function n(t){return e.reset(),t.each(function(t){function n(t){t.x0=t.x,t.dx0=t.dx}function e(t){var e=d3.interpolate(k.domain(),[t.x,t.x+t.dx]),o=d3.interpolate(C.domain(),[t.y,1]),i=d3.interpolate(C.range(),[t.y?20:0,u]);return function(n,t){return t?function(){return A(n)}:function(t){return k.domain(e(t)),C.domain(o(t)).range(i(t)),A(n)}}}M=d3.select(this);var o,i=nv.utils.availableWidth(h,M,f),r=nv.utils.availableHeight(m,M,f),u=Math.min(i,r)/2;nv.utils.initSVG(M);var a=M.selectAll(".nv-wrap.nv-sunburst").data(t),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+g).selectAll("nv-sunburst");a.attr("transform","translate("+i/2+","+r/2+")"),M.on("click",function(t,n){y.chartClick({data:t,index:n,pos:d3.event,id:g})}),C.range([0,u]),s=s||t,d=t[0],w.value(p[v]||p.count),o=l.data(w.nodes).enter().append("path").attr("d",A).style("fill",function(t){return b((t.children?t:t.parent).name)}).style("stroke","#FFF").on("click",function(t){c!==s&&s!==t&&(c=s),s=t,o.transition().duration(x).attrTween("d",e(t))}).each(n).on("dblclick",function(t){c.parent==t&&o.transition().duration(x).attrTween("d",e(d))}).each(n).on("mouseover",function(t){d3.select(this).classed("hover",!0).style("opacity",.8),y.elementMouseover({data:t,color:d3.select(this).style("fill")})}).on("mouseout",function(t){d3.select(this).classed("hover",!1).style("opacity",1),y.elementMouseout({data:t})}).on("mousemove",function(t){y.elementMousemove({data:t})})}),e.renderEnd("sunburst immediate"),n}var s,c,d,f={top:0,right:0,bottom:0,left:0},h=null,m=null,v="count",p={count:function(){return 1},size:function(t){return t.size}},g=Math.floor(1e4*Math.random()),M=null,b=nv.utils.defaultColor(),x=500,y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=d3.scale.linear().range([0,2*Math.PI]),C=d3.scale.sqrt(),w=d3.layout.partition().sort(null).value(function(){return 1}),A=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,C(t.y))}).outerRadius(function(t){return Math.max(0,C(t.y+t.dy))}),e=nv.utils.renderWatch(y);return n.dispatch=y,n.options=nv.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return m},set:function(t){m=t}},mode:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return g},set:function(t){g=t}},duration:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return f},set:function(t){f.top=t.top!=undefined?t.top:f.top,f.right=t.right!=undefined?t.right:f.right,f.bottom=t.bottom!=undefined?t.bottom:f.bottom,f.left=t.left!=undefined?t.left:f.left}},color:{get:function(){return b},set:function(t){b=nv.utils.getColor(t)}}}),nv.utils.initOptions(n),n};