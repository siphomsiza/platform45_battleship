nv.models.discreteBarChart=function(){"use strict";function t(s){return w.reset(),w.models(a),f&&w.models(r),p&&w.models(i),s.each(function(s){var d=d3.select(this);nv.utils.initSVG(d);var b=nv.utils.availableWidth(c,d,l),w=nv.utils.availableHeight(u,d,l);if(t.update=function(){k.beforeUpdate(),d.transition().duration(A).call(t)},t.container=this,!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return nv.utils.noData(t,d),t;d.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale().clamp(!0);var y=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),W=y.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),B=W.append("defs"),F=y.select("g");W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),W.append("g").attr("class","nv-barsWrap"),W.append("g").attr("class","nv-legendWrap"),F.attr("transform","translate("+l.left+","+l.top+")"),v&&(o.width(b),F.select(".nv-legendWrap").datum(s).call(o),l.top!=o.height()&&(l.top=o.height(),w=nv.utils.availableHeight(u,d,l)),y.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),g&&F.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),g&&F.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),a.width(b).height(w);var L=F.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled}));if(L.transition().call(a),B.append("clipPath").attr("id","nv-x-label-clip-"+a.id()).append("rect"),F.select("#nv-x-label-clip-"+a.id()+" rect").attr("width",e.rangeBand()*(h?2:1)).attr("height",16).attr("x",-e.rangeBand()/(h?1:2)),f){r.scale(e)._ticks(nv.utils.calcTicksX(b/100,s)).tickSize(-w,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(a.showValues()&&n.domain()[0]<0?16:0))+")"),F.select(".nv-x.nv-axis").call(r);var M=F.select(".nv-x.nv-axis").selectAll("g");h&&M.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),x&&M.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),m&&F.selectAll(".tick text").call(nv.utils.wrapTicks,t.xAxis.rangeBand())}p&&(i.scale(n)._ticks(nv.utils.calcTicksY(w/36,s)).tickSize(-b,0),F.select(".nv-y.nv-axis").call(i)),F.select(".nv-zeroLine line").attr("x1",0).attr("x2",b).attr("y1",n(0)).attr("y2",n(0))}),w.renderEnd("discreteBar chart immediate"),t}var e,n,a=nv.models.discreteBar(),r=nv.models.axis(),i=nv.models.axis(),o=nv.models.legend(),s=nv.models.tooltip(),l={top:15,right:10,bottom:50,left:60},c=null,u=null,d=nv.utils.getColor(),v=!1,f=!0,p=!0,g=!1,h=!1,m=!1,x=0,b=null,k=d3.dispatch("beforeUpdate","renderEnd"),A=250;r.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),i.orient(g?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return i.tickFormat()(t,e)}).keyFormatter(function(t,e){return r.tickFormat()(t,e)});var w=nv.utils.renderWatch(k,A);return a.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:t.x()(e.data),value:t.y()(e.data),color:e.color},s.data(e).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(){s()}),t.dispatch=k,t.discretebar=a,t.legend=o,t.xAxis=r,t.yAxis=i,t.tooltip=s,t.options=nv.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return v},set:function(t){v=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},wrapLabels:{get:function(){return m},set:function(t){m=!!t}},showXAxis:{get:function(){return f},set:function(t){f=t}},showYAxis:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return A},set:function(t){A=t,w.reset(A),a.duration(A),r.duration(A),i.duration(A)}},color:{get:function(){return d},set:function(t){d=nv.utils.getColor(t),a.color(d),o.color(d)}},rightAlignYAxis:{get:function(){return g},set:function(t){g=t,i.orient(t?"right":"left")}}}),nv.utils.inheritOptions(t,a),nv.utils.initOptions(t),t};