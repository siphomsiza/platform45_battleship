nv.interactiveGuideline=function(){"use strict";function a(e){e.each(function(e){function t(){var e=d3.mouse(this),t=e[0],n=e[1],i=!0,u=!1;if(p&&(t=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(i=!1),d3.event.target.className.baseVal.match("nv-legend")&&(u=!0)),i&&(t-=d.left,n-=d.top),t<0||n<0||r<t||l<n||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||u){if(p&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&(d3.event.relatedTarget.className===undefined||d3.event.relatedTarget.className.match(f.nvPointerEventsClass)))return;return c.elementMouseout({mouseX:t,mouseY:n}),a.renderGuideLine(null),void f.hidden(!0)}f.hidden(!1);var o=s.invert(t);c.elementMousemove({mouseX:t,mouseY:n,pointXValue:o}),"dblclick"===d3.event.type&&c.elementDblclick({mouseX:t,mouseY:n,pointXValue:o}),"click"===d3.event.type&&c.elementClick({mouseX:t,mouseY:n,pointXValue:o}),"mousedown"===d3.event.type&&c.elementMouseDown({mouseX:t,mouseY:n,pointXValue:o}),"mouseup"===d3.event.type&&c.elementMouseUp({mouseX:t,mouseY:n,pointXValue:o})}var n=d3.select(this),r=u||960,l=o||400,i=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([e]);i.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),m&&(m.on("touchmove",t).on("mousemove",t,!0).on("mouseout",t,!0).on("mousedown",t,!0).on("mouseup",t,!0).on("dblclick",t).on("click",t),a.guideLine=null,a.renderGuideLine=function(t){v&&(a.guideLine&&a.guideLine.attr("x1")===t||nv.dom.write(function(){var e=i.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[nv.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",l).attr("y2",0),e.exit().remove()}))})})}var d={left:0,top:0},u=null,o=null,s=d3.scale.linear(),c=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),v=!0,m=null,f=nv.models.tooltip(),p="ActiveXObject"in window;return f.duration(0).hideDelay(0).hidden(!1),a.dispatch=c,a.tooltip=f,a.margin=function(e){return arguments.length?(d.top="undefined"!=typeof e.top?e.top:d.top,d.left="undefined"!=typeof e.left?e.left:d.left,a):d},a.width=function(e){return arguments.length?(u=e,a):u},a.height=function(e){return arguments.length?(o=e,a):o},a.xScale=function(e){return arguments.length?(s=e,a):s},a.showGuideLine=function(e){return arguments.length?(v=e,a):v},a.svgContainer=function(e){return arguments.length?(m=e,a):m},a},nv.interactiveBisect=function(e,t,n){"use strict";if(!(e instanceof Array))return null;var i;i="function"!=typeof n?function(e){return e.x}:n;var u=function(e,t){return i(e)-t},o=d3.bisector(u).left,r=d3.max([0,o(e,t)-1]),l=i(e[r]);if(void 0===l&&(l=r),l===t)return r;var a=d3.min([r+1,e.length-1]),d=i(e[a]);return void 0===d&&(d=a),Math.abs(d-t)>=Math.abs(l-t)?r:a},nv.nearestValueIndex=function(e,i,u){"use strict";var o=Infinity,r=null;return e.forEach(function(e,t){var n=Math.abs(i-e);null!=e&&n<=o&&n<u&&(o=n,r=t)}),r};