!function(e,t,l){var s=function(e,s){"use strict";function c(e,t,l){var s,c,n,o=function(t,l){if(t>l){var s=l;l=t,t=s}var c=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(c=!0),e===l?(c=!1,!0):c})},i=function(t,l){var s=e.rows({search:"applied"}).indexes();if(s.indexOf(t)>s.indexOf(l)){var c=l;l=t,t=c}var n=!1;return s.filter(function(e){return e===t&&(n=!0),e===l?(n=!1,!0):n})};e.cells({selected:!0}).any()||l?(c=o(l.column,t.column),n=i(l.row,t.row)):(c=o(0,t.column),n=i(0,t.row)),s=e.cells(n,c).flatten(),e.cells(t,{selected:!0}).any()?e.cells(s).deselect():e.cells(s).select()}function n(t){var l=t.settings()[0],s=l._select.selector;e(t.table().body()).off("mousedown.dtSelect",s).off("mouseup.dtSelect",s).off("click.dtSelect",s),e("body").off("click.dtSelect")}function o(t){var l=e(t.table().body()),s=t.settings()[0],c=s._select.selector;l.on("mousedown.dtSelect",c,function(e){e.shiftKey&&l.css("-moz-user-select","none").one("selectstart.dtSelect",c,function(){return!1})}).on("mouseup.dtSelect",c,function(){l.css("-moz-user-select","")}).on("click.dtSelect",c,function(s){var c,n=t.select.items(),o=t.cell(this).index(),i=t.settings()[0];e(s.target).closest("tbody")[0]==l[0]&&t.cell(s.target).any()&&("row"===n?(c=o.row,f(s,t,i,"row",c)):"column"===n?(c=t.cell(s.target).index().column,f(s,t,i,"column",c)):"cell"===n&&(c=t.cell(s.target).index(),f(s,t,i,"cell",c)),i._select_lastCell=o)}),e("body").on("click.dtSelect",function(l){if(s._select.blurable){if(e(l.target).parents().filter(t.table().container()).length)return;if(e(l.target).parents("div.DTE").length)return;d(s,!0)}})}function i(t,l,s,c){c&&!t.flatten().length||(s.unshift(t),e(t.table().node()).triggerHandler(l+".dt",s))}function a(t){var l=t.settings()[0];if(l._select.info){var s=e('<span class="select-info"/>'),c=function(l,c){s.append(e('<span class="select-item"/>').append(t.i18n("select."+l+"s",{_:"%d "+l+"s selected",0:"",1:"1 "+l+" selected"},c)))};c("row",t.rows({selected:!0}).flatten().length),c("column",t.columns({selected:!0}).flatten().length),c("cell",t.cells({selected:!0}).flatten().length),e.each(l.aanFeatures.i,function(t,l){l=e(l);var c=l.children("span.select-info");c.length&&c.remove(),""!==s.text()&&l.append(s)})}}function r(t){var c=new s.Api(t);t.aoRowCreatedCallback.push({fn:function(l,s,c){var n,o,i=t.aoData[c];for(i._select_selected&&e(l).addClass("selected"),n=0,o=t.aoColumns.length;o>n;n++)(t.aoColumns[n]._select_selected||i._selected_cells&&i._selected_cells[n])&&e(i.anCells[n]).addClass("selected")},sName:"select-deferRender"}),c.on("preXhr.dt.dtSelect",function(){var e=c.rows({selected:!0}).ids(!0).filter(function(e){return e!==l}),t=c.cells({selected:!0}).eq(0).map(function(e){var t=c.row(e.row).id(!0);return t?{row:t,column:e.column}:l}).filter(function(e){return e!==l});c.one("draw.dt.dtSelect",function(){c.rows(e).select(),t.any()&&t.each(function(e){c.cells(e.row,e.column).select()})})}),c.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt",function(){a(c)}),c.on("destroy.dtSelect",function(){n(c),c.off(".dtSelect")})}function u(t,l,s,c){var n=t[l+"s"]({search:"applied"}).indexes(),o=e.inArray(c,n),i=e.inArray(s,n);if(t[l+"s"]({selected:!0}).any()||-1!==o){if(o>i){var a=i;i=o,o=a}n.splice(i+1,n.length),n.splice(0,o)}else n.splice(e.inArray(s,n)+1,n.length);t[l](s,{selected:!0}).any()?(n.splice(e.inArray(s,n),1),t[l+"s"](n).deselect()):t[l+"s"](n).select()}function d(e,t){if(t||"single"===e._select.style){var l=new s.Api(e);l.rows({selected:!0}).deselect(),l.columns({selected:!0}).deselect(),l.cells({selected:!0}).deselect()}}function f(e,t,l,s,n){var o=t.select.style(),i=t[s](n,{selected:!0}).any();if("os"===o)if(e.ctrlKey||e.metaKey)t[s](n).select(!i);else if(e.shiftKey)"cell"===s?c(t,n,l._select_lastCell||null):u(t,s,n,l._select_lastCell?l._select_lastCell[s]:null);else{var a=t[s+"s"]({selected:!0});i&&1===a.flatten().length?t[s](n).deselect():(a.deselect(),t[s](n).select())}else t[s](n).select(!i)}function h(e,t){return function(l){return l.i18n("buttons."+e,t)}}s.select={},s.select.version="1.0.0",e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){s.ext.selector[t.type].push(function(e,s,c){var n,o=s.selected,i=[];if(o===l)return c;for(var a=0,r=c.length;r>a;a++)n=e[t.prop][c[a]],(o===!0&&n._select_selected===!0||o===!1&&!n._select_selected)&&i.push(c[a]);return i})}),s.ext.selector.cell.push(function(e,t,s){var c,n=t.selected,o=[];if(n===l)return s;for(var i=0,a=s.length;a>i;i++)c=e.aoData[s[i].row],(n===!0&&c._selected_cells&&c._selected_cells[s[i].column]===!0||n===!1&&(!c._selected_cells||!c._selected_cells[s[i].column]))&&o.push(s[i]);return o});var m=s.Api.register,_=s.Api.registerPlural;m("select()",function(){}),m("select.blurable()",function(e){return e===l?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),m("select.info()",function(e){return a===l?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),m("select.items()",function(e){return e===l?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,i(new s.Api(t),"selectItems",[e])})}),m("select.style()",function(e){return e===l?this.context[0]._select.style:this.iterator("table",function(t){t._select.style=e,t._select_init||r(t);var l=new s.Api(t);n(l),"api"!==e&&o(l),i(new s.Api(t),"selectStyle",[e])})}),m("select.selector()",function(e){return e===l?this.context[0]._select.selector:this.iterator("table",function(t){n(new s.Api(t)),t._select.selector=e,"api"!==t._select.style&&o(new s.Api(t))})}),_("rows().select()","row().select()",function(t){var l=this;return t===!1?this.deselect():(this.iterator("row",function(t,l){d(t),t.aoData[l]._select_selected=!0,e(t.aoData[l].nTr).addClass("selected")}),this.iterator("table",function(e,t){i(l,"select",["row",l[t]],!0)}),this)}),_("columns().select()","column().select()",function(t){var l=this;return t===!1?this.deselect():(this.iterator("column",function(t,l){d(t),t.aoColumns[l]._select_selected=!0;var c=new s.Api(t).column(l);e(c.header()).addClass("selected"),e(c.footer()).addClass("selected"),c.nodes().to$().addClass("selected")}),this.iterator("table",function(e,t){i(l,"select",["column",l[t]],!0)}),this)}),_("cells().select()","cell().select()",function(t){var s=this;return t===!1?this.deselect():(this.iterator("cell",function(t,s,c){d(t);var n=t.aoData[s];n._selected_cells===l&&(n._selected_cells=[]),n._selected_cells[c]=!0,n.anCells&&e(n.anCells[c]).addClass("selected")}),this.iterator("table",function(e,t){i(s,"select",["cell",s[t]],!0)}),this)}),_("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,l){t.aoData[l]._select_selected=!1,e(t.aoData[l].nTr).removeClass("selected")}),this.iterator("table",function(e,l){i(t,"deselect",["row",t[l]],!0)}),this}),_("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,l){t.aoColumns[l]._select_selected=!1;var c=new s.Api(t),n=c.column(l);e(n.header()).removeClass("selected"),e(n.footer()).removeClass("selected"),c.cells(null,l).indexes().each(function(l){var s=t.aoData[l.row],c=s._selected_cells;!s.anCells||c&&c[l.column]||e(s.anCells[l.column]).removeClass("selected")})}),this.iterator("table",function(e,l){i(t,"deselect",["column",t[l]],!0)}),this}),_("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,l,s){var c=t.aoData[l];c._selected_cells[s]=!1,c.anCells&&!t.aoColumns[s]._select_selected&&e(c.anCells[s]).removeClass("selected")}),this.iterator("table",function(e,l){i(t,"deselect",["cell",t[l]],!0)}),this}),e.extend(s.ext.buttons,{selected:{text:h("selected","Selected"),className:"buttons-selected",init:function(e){var t=this;e.on("select.dt.DT deselect.dt.DT",function(){var e=t.rows({selected:!0}).any()||t.columns({selected:!0}).any()||t.cells({selected:!0}).any();t.enable(e)}),this.disable()}},selectedSingle:{text:h("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e){var t=this;e.on("select.dt.DT deselect.dt.DT",function(){var l=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;t.enable(1===l)}),this.disable()}},selectAll:{text:h("selectAll","Select all"),className:"buttons-select-all",action:function(){var e=this.select.items();this[e+"s"]().select()}},selectNone:{text:h("selectNone","Deselect all"),className:"buttons-select-none",action:function(){d(this.settings()[0],!0)}}}),e.each(["Row","Column","Cell"],function(e,t){var l=t.toLowerCase();s.ext.buttons["select"+t+"s"]={text:h("select"+t+"s","Select "+l+"s"),className:"buttons-select-"+l+"s",action:function(){this.select.items(l)},init:function(e){var t=this;e.on("selectItems.dt.DT",function(e,s,c){t.active(c===l)})}}}),e(t).on("init.dt.dtSelect",function(t,c){if("dt"===t.namespace){var n=c.oInit.select||s.defaults.select,o=new s.Api(c),i="row",a="api",r=!1,u=!0,d="td, th";c._select={},n===!0?a="os":"string"==typeof n?a=n:e.isPlainObject(n)&&(n.blurable!==l&&(r=n.blurable),n.info!==l&&(u=n.info),n.items!==l&&(i=n.items),n.style!==l&&(a=n.style),n.selector!==l&&(d=n.selector)),o.select.selector(d),o.select.items(i),o.select.style(a),o.select.blurable(r),o.select.info(u),e(o.table().node()).hasClass("selectable")&&o.select.style("os")}})};"function"==typeof define&&define.amd?define(["jquery","datatables"],s):"object"==typeof exports?s(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.select&&s(jQuery,jQuery.fn.dataTable)}(window,document);