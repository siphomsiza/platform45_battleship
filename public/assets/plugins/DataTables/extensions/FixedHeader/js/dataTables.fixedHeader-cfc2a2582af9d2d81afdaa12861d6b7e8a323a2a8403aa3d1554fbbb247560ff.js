!function(t,o){var e=function(e,i){"use strict";var d=0,s=function(o,n){if(!(this instanceof s))throw"FixedHeader must be initialised with the 'new' keyword.";n===!0&&(n={}),o=new i.Api(o),this.c=e.extend(!0,{},s.defaults,n),this.s={dt:o,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:e(t).height(),visible:!0},headerMode:null,footerMode:null,namespace:".dtfc"+d++},this.dom={floatingHeader:null,thead:e(o.table().header()),tbody:e(o.table().body()),tfoot:e(o.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var a=o.settings()[0];if(a._fixedHeader)throw"FixedHeader already initialised on table "+a.nTable.id;a._fixedHeader=this,this._constructor()};return s.prototype={update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var o=this,i=this.s.dt;e(t).on("scroll"+this.s.namespace,function(){o._scroll()}).on("resize"+this.s.namespace,function(){o.s.position.windowHeight=e(t).height(),o._positions(),o._scroll(!0)}),i.on("column-reorder.dt.dtfc column-visibility.dt.dtfc",function(){o._positions(),o._scroll(!0)}).on("draw.dtfc",function(){o._positions(),o._scroll()}),i.on("destroy.dtfc",function(){i.off(".dtfc"),e(t).off(this.s.namespace)}),this._positions(),this._scroll()},_clone:function(t,o){var i=this.s.dt,d=this.dom[t],s="header"===t?this.dom.thead:this.dom.tfoot;!o&&d.floating?d.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(d.floating&&(d.placeholder.remove(),d.floating.children().detach(),d.floating.remove()),d.floating=e(i.table().node().cloneNode(!1)).removeAttr("id").append(s).appendTo("body"),d.placeholder=s.clone(!1),d.host.append(d.placeholder),"footer"===t&&this._footerMatch(d.placeholder,d.floating))},_footerMatch:function(t,o){var i=function(i){var d=e(i,t).map(function(){return e(this).width()}).toArray();e(i,o).each(function(t){e(this).width(d[t])})};i("th"),i("td")},_footerUnsize:function(){var t=this.dom.footer.floating;t&&e("th, td",t).css("width","")},_modeChange:function(t,o,e){var i=(this.s.dt,this.dom[o]),d=this.s.position;"in-place"===t?(i.placeholder&&(i.placeholder.remove(),i.placeholder=null),i.host.append("header"===o?this.dom.thead:this.dom.tfoot),i.floating&&(i.floating.remove(),i.floating=null),"footer"===o&&this._footerUnsize()):"in"===t?(this._clone(o,e),i.floating.addClass("fixedHeader-floating").css("header"===o?"top":"bottom",this.c[o+"Offset"]).css("left",d.left+"px").css("width",d.width+"px"),"footer"===o&&i.floating.css("top","")):"below"===t?(this._clone(o,e),i.floating.addClass("fixedHeader-locked").css("top",d.tfootTop-d.theadHeight).css("left",d.left+"px").css("width",d.width+"px")):"above"===t&&(this._clone(o,e),i.floating.addClass("fixedHeader-locked").css("top",d.tbodyTop).css("left",d.left+"px").css("width",d.width+"px")),this.s[o+"Mode"]=t},_positions:function(){var t=this.s.dt,o=t.table(),i=this.s.position,d=this.dom,s=e(o.node()),n=s.children("thead"),a=s.children("tfoot"),f=d.tbody;i.visible=s.is(":visible"),i.width=s.outerWidth(),i.left=s.offset().left,i.theadTop=n.offset().top,i.tbodyTop=f.offset().top,i.theadHeight=i.tbodyTop-i.theadTop,a.length?(i.tfootTop=a.offset().top,i.tfootBottom=i.tfootTop+a.outerHeight(),i.tfootHeight=i.tfootBottom-i.tfootTop):(i.tfootTop=i.tbodyTop+f.outerHeight(),i.tfootBottom=i.tfootTop,i.tfootHeight=i.tfootTop)},_scroll:function(t){var i,d,s=e(o).scrollTop(),n=this.s.position;this.c.header&&(i=!n.visible||s<=n.theadTop-this.c.headerOffset?"in-place":s<=n.tfootTop-n.theadHeight-this.c.headerOffset?"in":"below",(t||i!==this.s.headerMode)&&this._modeChange(i,"header",t)),this.c.footer&&this.dom.tfoot.length&&(d=!n.visible||s+n.windowHeight>=n.tfootBottom+this.c.footerOffset?"in-place":n.windowHeight+s>n.tbodyTop+n.tfootHeight+this.c.footerOffset?"in":"above",(t||d!==this.s.footerMode)&&this._modeChange(d,"footer",t))}},s.version="3.0.0",s.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},e.fn.dataTable.FixedHeader=s,e.fn.DataTable.FixedHeader=s,e(o).on("init.dt.dtb",function(t,o){if("dt"===t.namespace){var e=o.oInit.fixedHeader||i.defaults.fixedHeader;e&&!o._buttons&&new s(o,e)}}),i.Api.register("fixedHeader()",function(){}),i.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(t){var o=t._fixedHeader;o&&o.update()})}),s};"function"==typeof define&&define.amd?define(["jquery","datatables"],e):"object"==typeof exports?e(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedHeader&&e(jQuery,jQuery.fn.dataTable)}(window,document);