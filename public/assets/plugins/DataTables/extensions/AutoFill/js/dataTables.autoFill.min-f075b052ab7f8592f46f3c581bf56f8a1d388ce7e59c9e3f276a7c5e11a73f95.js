!function(t,e,o){var l=function(l,i){var n=0,s=function(t,e){if(!i.versionCheck||!i.versionCheck("1.10.8"))throw"Warning: AutoFill requires DataTables 1.10.8 or greater";this.c=l.extend(!0,{},i.defaults.autoFill,s.defaults,e),this.s={dt:new i.Api(t),namespace:".autoFill"+n++,scroll:{},scrollInterval:null},this.dom={handle:l('<div class="dt-autofill-handle"/>'),select:{top:l('<div class="dt-autofill-select top"/>'),right:l('<div class="dt-autofill-select right"/>'),bottom:l('<div class="dt-autofill-select bottom"/>'),left:l('<div class="dt-autofill-select left"/>')},background:l('<div class="dt-autofill-background"/>'),list:l('<div class="dt-autofill-list">'+this.s.dt.i18n("autoFill.info","")+"<ul/></div>"),dtScroll:null},this._constructor()};return s.prototype={_constructor:function(){var t=this,o=this.s.dt,i=l("div.dataTables_scrollBody",this.s.dt.table().container());i.length&&(this.dom.dtScroll=i,"static"===i.css("position")&&i.css("position","relative")),this._focusListener(),this.dom.handle.on("mousedown",function(e){return t._mousedown(e),!1}),o.on("destroy.autoFill",function(){o.off(".autoFill"),l(o.table().body()).off(t.s.namespace),l(e.body).off(t.s.namespace)})},_attach:function(t){var e=this.s.dt,o=e.cell(t).index();o&&-1!==e.columns(this.c.columns).indexes().indexOf(o.column)?(this.dom.attachedTo=t,this.dom.handle.appendTo(t)):this._detach()},_actionSelector:function(t){var e=this,o=this.s.dt,i=s.actions,n=[];if(l.each(i,function(e,l){l.available(o,t)&&n.push(e)}),1===n.length&&!1===this.c.alwaysAsk){var a=i[n[0]].execute(o,t);this._update(a,t)}else{var r=this.dom.list.children("ul").empty();n.push("cancel"),l.each(n,function(n,a){r.append(l("<li/>").append('<div class="dt-autofill-question">'+i[a].option(o,t)+"<div>").append(l('<div class="dt-autofill-button">').append(l('<button class="'+s.classes.btn+'">'+o.i18n("autoFill.button","&gt;")+"</button>").on("click",function(){var n=i[a].execute(o,t,l(this).closest("li"));e._update(n,t),e.dom.background.remove(),e.dom.list.remove()}))))}),this.dom.background.appendTo("body"),this.dom.list.appendTo("body"),this.dom.list.css("margin-top",-1*(this.dom.list.outerHeight()/2))}},_detach:function(){this.dom.attachedTo=null,this.dom.handle.detach()},_drawSelection:function(t){var e=this.s.dt,o=this.s.start,i=l(this.dom.start),n=l(t),s={row:n.parent().index(),column:n.index()};if(e.cell(n).any()&&-1!==e.columns(this.c.columns).indexes().indexOf(s.column)){this.s.end=s;var a,e=o.row<s.row?i:n;a=o.row<s.row?n:i,t=o.column<s.column?i:n,i=o.column<s.column?n:i,e=e.position().top,t=t.position().left,o=a.position().top+a.outerHeight()-e,i=i.position().left+i.outerWidth()-t,(n=this.dom.dtScroll)&&(e+=n.scrollTop(),t+=n.scrollLeft()),n=this.dom.select,n.top.css({top:e,left:t,width:i}),n.left.css({top:e,left:t,height:o}),n.bottom.css({top:e+o,left:t,width:i}),n.right.css({top:e,left:t+i,height:o})}},_editor:function(t){var e=this.s.dt,l=this.c.editor;if(l){for(var i={},n=[],s=0,a=t.length;a>s;s++)for(var r=0,d=t[s].length;d>r;r++){var c=t[s][r],u=e.settings()[0].aoColumns[c.index.column],u=u.editField!==o?u.editField:u.mData;if(!u)throw"Could not automatically determine field name. Please see https://datatables.net/tn/11";i[u]||(i[u]={});var h=e.row(c.index.row).id();i[u][h]=c.set,n.push(c.index)}l.bubble(n,!1).multiSet(i).submit()}},_emitEvent:function(t,e){this.s.dt.iterator("table",function(o){l(o.nTable).triggerHandler(t+".dt",e)})},_focusListener:function(){var t=this,o=this.s.dt,i=this.s.namespace,n=null!==this.c.focus?this.c.focus:o.settings()[0].keytable?"focus":"hover";"focus"===n?o.on("key-focus.autoFill",function(e,o,l){t._attach(l.node())}).on("key-blur.autoFill",function(){t._detach()}):"click"===n?(l(o.table().body()).on("click"+i,"td, th",function(){t._attach(this)}),l(e.body).on("click"+i,function(e){l(e.target).parents().filter(o.table().body()).length||t._detach()})):l(o.table().body()).on("mouseenter"+i,"td, th",function(){t._attach(this)}).on("mouseleave"+i,function(){t._detach()})},_mousedown:function(o){var i=this;this.dom.start=this.dom.attachedTo,this.s.start={row:l(this.dom.start).parent().index(),column:l(this.dom.start).index()},l(e.body).on("mousemove.autoFill",function(t){i._mousemove(t)}).on("mouseup.autoFill",function(t){i._mouseup(t)});var n=this.dom.select,s=l(this.s.dt.table().body()).offsetParent();n.top.appendTo(s),n.left.appendTo(s),n.right.appendTo(s),n.bottom.appendTo(s),this._drawSelection(this.dom.start,o),this.dom.handle.css("display","none"),o=this.dom.dtScroll,this.s.scroll={windowHeight:l(t).height(),windowWidth:l(t).width(),dtTop:o?o.offset().top:null,dtLeft:o?o.offset().left:null,dtHeight:o?o.outerHeight():null,dtWidth:o?o.outerWidth():null}},_mousemove:function(t){var e=t.target.nodeName.toLowerCase();"td"!==e&&"th"!==e||(this._drawSelection(t.target,t),this._shiftScroll(t))},_mouseup:function(){l(e.body).off(".autoFill");var t=this.s.dt,o=this.dom.select;o.top.remove(),o.left.remove(),o.right.remove(),o.bottom.remove(),this.dom.handle.css("display","block");var o=this.s.start,i=this.s.end;if(o.row!==i.row||o.column!==i.column){for(var n=this._range(o.row,i.row),o=this._range(o.column,i.column),i=[],s=0;s<n.length;s++)i.push(l.map(o,function(e){return e=t.cell(":eq("+n[s]+")",e+":visible",{page:"current"}),{cell:e,data:e.data(),index:e.index()}}));this._actionSelector(i)}},_range:function(t,e){var o,l=[];if(e>=t)for(o=t;e>=o;o++)l.push(o);else for(o=t;o>=e;o--)l.push(o);return l},_shiftScroll:function(t){var o,l,i,n,s=this,a=this.s.scroll,r=!1,d=t.pageY-e.body.scrollTop,c=t.pageX-e.body.scrollLeft;65>d?o=-5:d>a.windowHeight-65&&(o=5),65>c?l=-5:c>a.windowWidth-65&&(l=5),null!==a.dtTop&&t.pageY<a.dtTop+65?i=-5:null!==a.dtTop&&t.pageY>a.dtTop+a.dtHeight-65&&(i=5),null!==a.dtLeft&&t.pageX<a.dtLeft+65?n=-5:null!==a.dtLeft&&t.pageX>a.dtLeft+a.dtWidth-65&&(n=5),o||l||i||n?(a.windowVert=o,a.windowHoriz=l,a.dtVert=i,a.dtHoriz=n,r=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null),!this.s.scrollInterval&&r&&(this.s.scrollInterval=setInterval(function(){if(a.windowVert&&(e.body.scrollTop=e.body.scrollTop+a.windowVert),a.windowHoriz&&(e.body.scrollLeft=e.body.scrollLeft+a.windowHoriz),a.dtVert||a.dtHoriz){var t=s.dom.dtScroll[0];a.dtVert&&(t.scrollTop=t.scrollTop+a.dtVert),a.dtHoriz&&(t.scrollLeft=t.scrollLeft+a.dtHoriz)}},20))},_update:function(t,e){if(!1!==t){var o,l=this.s.dt;if(this._emitEvent("preAutoFill",[l,e]),this._editor(e),null!==this.c.update?this.c.update:!this.c.editor){for(var i=0,n=e.length;n>i;i++)for(var s=0,a=e[i].length;a>s;s++)o=e[i][s],o.cell.data(o.set);l.draw(!1)}this._emitEvent("autoFill",[l,e])}}},s.actions={increment:{available:function(t,e){return l.isNumeric(e[0][0].data)},option:function(t){return t.i18n("autoFill.increment",'Increment / decrement each cell by: <input type="number" value="1">')},execute:function(t,e,o){for(var t=1*e[0][0].data,o=1*l("input",o).val(),i=0,n=e.length;n>i;i++)for(var s=0,a=e[i].length;a>s;s++)e[i][s].set=t,t+=o}},fill:{available:function(){return!0},option:function(t,e){return t.i18n("autoFill.fill","Fill all cells with <i>"+e[0][0].data+"</i>")},execute:function(t,e){for(var o=e[0][0].data,l=0,i=e.length;i>l;l++)for(var n=0,s=e[l].length;s>n;n++)e[l][n].set=o}},fillHorizontal:{available:function(t,e){return 1<e.length&&1<e[0].length},option:function(t){return t.i18n("autoFill.fillHorizontal","Fill cells horizontally")},execute:function(t,e){for(var o=0,l=e.length;l>o;o++)for(var i=0,n=e[o].length;n>i;i++)e[o][i].set=e[o][0].data}},fillVertical:{available:function(t,e){return 1<e.length&&1<e[0].length},option:function(t){return t.i18n("autoFill.fillVertical","Fill cells vertically")},execute:function(t,e){for(var o=0,l=e.length;l>o;o++)for(var i=0,n=e[o].length;n>i;i++)e[o][i].set=e[0][i].data}},cancel:{available:function(){return!1},option:function(t){return t.i18n("autoFill.cancel","Cancel")},execute:function(){return!1}}},s.version="2.0.0",s.defaults={alwaysAsk:!1,focus:null,columns:"",update:null,editor:null},s.classes={btn:"btn"},l(e).on("init.dt.autofill",function(t,e){if("dt"===t.namespace){var o=e.oInit.autoFill,n=i.defaults.autoFill;(o||n)&&(n=l.extend({},o,n),!1!==o&&new s(e,n))}}),i.AutoFill=s,i.AutoFill=s};"function"==typeof define&&define.amd?define(["jquery","datatables"],l):"object"==typeof exports?l(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.AutoFill&&l(jQuery,jQuery.fn.dataTable)}(window,document);