!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):e(window.jQuery,window.loadImage)}(function(t,u){"use strict";t.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),t.widget("blueimp.fileupload",t.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(e,i){if(i.disabled)return e;var o,d,a=e.files[e.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(a.type)&&("number"!==t.type(i.maxFileSize)||a.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(a.type))&&(o=u.createObjectURL(a))&&((d=this._audioElement.cloneNode(!1)).src=o,d.controls=!0,e.audio=d),e},setAudio:function(e,i){return e.audio&&!i.disabled&&(e.files[e.index][i.name||"preview"]=e.audio),e}}})});