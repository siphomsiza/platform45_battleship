!function(u){function n(e,t,a){var n=e.success,r=u.extend({},e.data||{},{"start-min":l(t,"u"),"start-max":l(a,"u"),singleevents:!0,"max-results":9999}),i=e.currentTimezone;return i&&(r.ctz=i=i.replace(" ","_")),u.extend({},e,{url:e.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:r,startParam:!1,endParam:!1,success:function(e){var d=[];e.feed.entry&&u.each(e.feed.entry,function(e,t){var a,n=t.gd$when[0].startTime,r=s(n,!0),l=s(t.gd$when[0].endTime,!0),c=-1==n.indexOf("T");u.each(t.link,function(e,t){"text/html"==t.type&&(a=t.href,i&&(a+=(-1==a.indexOf("?")?"?":"&")+"ctz="+i))}),c&&o(l,-1),d.push({id:t.gCal$uid.value,title:t.title.$t,url:a,start:r,end:l,allDay:c,location:t.gd$where[0].valueString,description:t.content.$t})});var t=[d].concat(Array.prototype.slice.call(arguments,1)),a=c(n,this,t);return u.isArray(a)?a:d}})}var e=u.fullCalendar,l=e.formatDate,s=e.parseISO8601,o=e.addDays,c=e.applyAll;e.sourceNormalizers.push(function(e){("gcal"==e.dataType||e.dataType===undefined&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",e.editable===undefined&&(e.editable=!1))}),e.sourceFetchers.push(function(e,t,a){if("gcal"==e.dataType)return n(e,t,a)}),e.gcalFeed=function(e,t){return u.extend({},t,{url:e,dataType:"gcal"})}}(jQuery);