describe("Keyboard events feature",function(){"use strict";var e,t,i,o,d,h,n,r,g;beforeEach(function(){loadFixtures("timepicker.html"),e=$("#timepicker1"),o=e.timepicker(),n=o.data("timepicker"),t=$("#timepicker2"),d=t.timepicker({template:"modal",showSeconds:!0,minuteStep:30,secondStep:30,defaultTime:!1}),r=d.data("timepicker"),i=$("#timepicker3"),h=i.timepicker({defaultTime:"23:15:20",showMeridian:!1,showSeconds:!0,template:!1}),g=h.data("timepicker")}),afterEach(function(){e.data("timepicker").remove(),t.data("timepicker").remove(),i.data("timepicker").remove(),e.remove(),t.remove(),i.remove()}),it("should be able to control element by the arrow keys",function(){n.setTime("11:30 AM"),n.update(),e.trigger("focus"),"hour"!==n.highlightedUnit&&n.highlightHour(),expect(n.highlightedUnit).toBe("hour","hour should be highlighted by default"),e.trigger({type:"keydown",keyCode:38}),expect(n.getTime()).toBe("12:30 PM","1"),e.trigger({type:"keydown",keyCode:40}),expect(n.getTime()).toBe("11:30 AM","2"),expect(n.highlightedUnit).toBe("hour","hour should be highlighted"),e.trigger({type:"keydown",keyCode:39}),expect(n.highlightedUnit).toBe("minute","minute should be highlighted"),e.trigger({type:"keydown",keyCode:38}),expect(n.getTime()).toBe("11:45 AM","3"),expect(n.highlightedUnit).toBe("minute","minute should be highlighted 1"),e.trigger({type:"keydown",keyCode:40}),expect(n.getTime()).toBe("11:30 AM","4"),expect(n.highlightedUnit).toBe("minute","minute should be highlighted 2"),e.trigger({type:"keydown",keyCode:39}),expect(n.highlightedUnit).toBe("meridian","meridian should be highlighted"),e.trigger({type:"keydown",keyCode:38}),expect(n.getTime()).toBe("11:30 PM","5"),expect(n.highlightedUnit).toBe("meridian","meridian should be highlighted"),e.trigger({type:"keydown",keyCode:40}),expect(n.getTime()).toBe("11:30 AM","6"),expect(n.highlightedUnit).toBe("meridian","meridian should be highlighted"),e.trigger({type:"keydown",keyCode:37}),expect(n.highlightedUnit).toBe("minute","minutes should be highlighted"),e.trigger({type:"keydown",keyCode:40}),expect(n.getTime()).toBe("11:15 AM","7"),e.trigger({type:"keydown",keyCode:37}),expect(n.highlightedUnit).toBe("hour","hours should be highlighted"),e.trigger({type:"keydown",keyCode:40}),expect(n.getTime()).toBe("10:15 AM","8"),e.trigger({type:"keydown",keyCode:37}),expect(n.highlightedUnit).toBe("meridian","meridian should be highlighted"),e.trigger({type:"keydown",keyCode:40}),expect(n.getTime()).toBe("10:15 PM","9")}),it("should be able to change time via widget inputs in a dropdown",function(){var t,i=n.$widget.find("input.bootstrap-timepicker-hour"),o=n.$widget.find("input.bootstrap-timepicker-minute"),d=n.$widget.find("input.bootstrap-timepicker-meridian"),h=0;n.setTime("9:30 AM"),n.update(),e.parents("div").find(".add-on").click(),e.timepicker().on("changeTime.timepicker",function(e){h++,t=e.time.value}),expect(n.isOpen).toBe(!0),i.trigger("focus"),i.autotype("{{back}}{{back}}11{{tab}}"),expect(n.hour).toBe(11),expect(h).toBe(1,"incorrect update events thrown"),expect(t).toBe("11:30 AM"),o.autotype("{{back}}{{back}}45{{tab}}"),expect(n.minute).toBe(45),expect(h).toBe(2,"incorrect update events thrown"),expect(t).toBe("11:45 AM"),d.autotype("{{back}}{{back}}pm{{tab}}"),expect(n.meridian).toBe("PM"),expect(h).toBe(3,"incorrect update events thrown"),expect(t).toBe("11:45 PM")}),it("should still be empty if input is empty",function(){e.autotype("{{back}}{{back}}{{back}}{{back}}{{back}}{{back}}{{back}}{{back}}{{tab}}"),expect(e.val()).toBe("")}),it("should allow time to be changed via widget inputs in a modal",function(){}),it("should be 12:00 AM if 00:00 AM is entered",function(){}),it("should validate input",function(){})});