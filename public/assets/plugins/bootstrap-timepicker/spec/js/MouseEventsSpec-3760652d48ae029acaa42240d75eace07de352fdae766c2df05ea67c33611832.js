describe("Mouse events feature",function(){"use strict";var e,t,i,n,c,o,d,r,a,g,m,u;beforeEach(function(){loadFixtures("timepicker.html"),e=$("#timepicker1"),c=e.timepicker(),a=c.data("timepicker"),t=$("#timepicker2"),o=t.timepicker({template:"modal",showSeconds:!0,minuteStep:30,secondStep:30,defaultTime:!1}),g=o.data("timepicker"),i=$("#timepicker3"),d=i.timepicker({defaultTime:"23:15:20",showMeridian:!1,showSeconds:!0}),m=d.data("timepicker"),n=$("#timepicker4"),r=n.timepicker({minuteStep:5,showInputs:!1,showMeridian:!0,template:"modal",disableFocus:!0}),u=r.data("timepicker")}),afterEach(function(){e.data("timepicker").remove(),t.data("timepicker").remove(),i.data("timepicker").remove(),n.data("timepicker").remove(),e.remove(),t.remove(),i.remove(),n.remove()}),it("should be shown and trigger show events on input click",function(){var t=0;e.on("show.timepicker",function(){t++}),e.parents("div").find(".add-on").trigger("click"),expect(a.isOpen).toBe(!0),expect(t).toBe(1)}),it("should be hidden and trigger hide events on click outside of widget",function(){var t,i=0;e.val("11:30 AM"),e.on("hide.timepicker",function(e){i++,t=e.time.value}),e.parents("div").find(".add-on").trigger("click"),expect(a.isOpen).toBe(!0),a.$widget.find(".bootstrap-timepicker-hour").trigger("mousedown"),$("body").trigger("mousedown"),expect(a.isOpen).toBe(!1,"widget is still open"),expect(i).toBe(1,"hide event was not thrown once"),expect(t).toBe("11:30 AM")}),it("should increment hour on button click",function(){a.setTime("11:30 AM"),a.update(),a.$widget.find('a[data-action="incrementHour"]').trigger("click"),expect(a.getTime()).toBe("12:30 PM"),g.$widget.find('a[data-action="incrementHour"]').trigger("click"),expect(g.getTime()).toBe("01:00:00 AM")}),it("should decrement hour on button click",function(){a.setTime("12:30 PM"),a.update(),a.$widget.find('a[data-action="decrementHour"]').trigger("click"),expect(a.getTime()).toBe("11:30 AM","meridian isnt toggling"),g.$widget.find('a[data-action="incrementHour"]').trigger("click"),g.$widget.find('a[data-action="incrementHour"]').trigger("click"),g.$widget.find('a[data-action="decrementHour"]').trigger("click"),expect(g.getTime()).toBe("01:00:00 AM")}),it("should increment minute on button click",function(){a.setTime("11:30 AM"),a.update(),u.setTime("11:30 AM"),u.update(),a.$widget.find('a[data-action="incrementMinute"]').trigger("click"),expect(a.getTime()).toBe("11:45 AM"),g.$widget.find('a[data-action="incrementMinute"]').trigger("click"),expect(g.getTime()).toBe("00:30:00 AM"),n.trigger("click"),u.$widget.find('a[data-action="incrementMinute"]').trigger("click"),u.$widget.find('a[data-action="decrementHour"]').trigger("click"),n.closest("modal").find(".btn-primary").trigger("click"),expect(u.getTime()).toBe("10:35 AM"),expect(n.val()).toBe("10:35 AM")}),it("should decrement minute on button click",function(){a.setTime("12:30 PM"),a.update(),u.setTime("11:30 AM"),u.update(),a.$widget.find('a[data-action="decrementMinute"]').trigger("click"),expect(a.getTime()).toBe("12:15 PM"),u.$widget.find('a[data-action="decrementMinute"]').trigger("click"),expect(u.getTime()).toBe("11:25 AM")}),it("should be 11:30:00 PM if minute is decremented on empty input",function(){g.$widget.find('a[data-action="decrementMinute"]').trigger("click"),expect(g.getTime()).toBe("11:30:00 PM")}),it("should increment second on button click",function(){g.setTime("11:30:15 AM"),g.update(),g.$widget.find('a[data-action="incrementSecond"]').trigger("click"),expect(g.getTime()).toBe("11:30:30 AM")}),it("should decrement second on button click",function(){g.setTime("12:30:15 PM"),g.update()}),it("should be 11:30:00 PM if minute is decremented on empty input",function(){g.$widget.find('a[data-action="decrementMinute"]').trigger("click"),expect(g.getTime()).toBe("11:30:00 PM")}),it("should increment second on button click",function(){g.setTime("11:30:15 AM"),g.update(),g.$widget.find('a[data-action="incrementSecond"]').trigger("click"),expect(g.getTime()).toBe("11:30:30 AM")}),it("should decrement second on button click",function(){g.setTime("12:30:15 PM"),g.update(),g.$widget.find('a[data-action="decrementSecond"]').trigger("click"),expect(g.getTime()).toBe("12:29:45 PM")}),it("should toggle meridian on button click",function(){a.setTime("12:30 PM"),a.update(),a.$widget.find('a[data-action="toggleMeridian"]').first().trigger("click"),expect(a.getTime()).toBe("12:30 AM"),a.$widget.find('a[data-action="toggleMeridian"]').last().trigger("click"),expect(a.getTime()).toBe("12:30 PM")}),it("should trigger changeTime event if time is changed",function(){var t,i=0;e.timepicker().on("changeTime.timepicker",function(e){i++,t=e.time.value}),a.setTime("11:30 AM"),expect(i).toBe(1),expect(t).toBe("11:30 AM"),a.$widget.find('a[data-action="incrementHour"]').trigger("click"),expect(i).toBe(2),expect(a.getTime()).toBe("12:30 PM"),expect(t).toBe("12:30 PM"),a.$widget.find('a[data-action="incrementMinute"]').trigger("click"),expect(i).toBe(3),expect(a.getTime()).toBe("12:45 PM")}),it("should highlight widget inputs on click",function(){})});