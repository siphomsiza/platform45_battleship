!function(w){w.effects.effect.explode=function(e,i){function t(){y.push(this),y.length===l*a&&o()}function o(){p.css({visibility:"visible"}),w(y).remove(),r||p.hide(),i()}var s,f,d,n,c,h,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,a=l,p=w(this),r="show"===w.effects.setMode(p,e.mode||"hide"),u=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/a),b=Math.ceil(p.outerHeight()/l),y=[];for(s=0;s<l;s++)for(n=u.top+s*b,h=s-(l-1)/2,f=0;f<a;f++)d=u.left+f*v,c=f-(a-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*v,top:-s*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:d+(r?c*v:0),top:n+(r?h*b:0),opacity:r?0:1}).animate({left:d+(r?0:c*v),top:n+(r?0:h*b),opacity:r?1:0},e.duration||500,e.easing,t)}}(jQuery);