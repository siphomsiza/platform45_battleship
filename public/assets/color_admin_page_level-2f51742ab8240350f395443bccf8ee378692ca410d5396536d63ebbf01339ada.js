!function(y){y.expr[":"].icontains=function(t,e,i){return 0<=y(t).text().toUpperCase().indexOf(i[3].toUpperCase())};var c=function(t,e,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=y(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=y.extend({},y.fn.selectpicker.defaults,this.$element.data(),"object"==typeof e&&e),null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=c.prototype.val,this.render=c.prototype.render,this.refresh=c.prototype.refresh,this.setStyle=c.prototype.setStyle,this.selectAll=c.prototype.selectAll,this.deselectAll=c.prototype.deselectAll,this.init()};c.prototype={constructor:c,init:function(){var e=this,t=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),t!==undefined&&(this.$button.attr("data-id",t),y('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)},createDropdown:function(){var t=this.multiple?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",n=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"",s=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">Select All</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">Deselect All</button></div></div>':"";return y('<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+n+a+s+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>')},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menu.find("ul").append(t)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var l=this,c=[],i="";return this.$element.find("option").each(function(){var t=y(this),e=t.attr("class")||"",i=t.attr("style")||"",n=t.data("content")?t.data("content"):t.html(),a=t.data("subtext")!==undefined?'<small class="muted text-muted">'+t.data("subtext")+"</small>":"",s=t.data("icon")!==undefined?'<i class="'+l.options.iconBase+" "+t.data("icon")+'"></i> ':"";if(""!==s&&(t.is(":disabled")||t.parent().is(":disabled"))&&(s="<span>"+s+"</span>"),t.data("content")||(n=s+'<span class="text">'+n+a+"</span>"),l.options.hideDisabled&&(t.is(":disabled")||t.parent().is(":disabled")))c.push('<a style="min-height: 0; padding: 0"></a>');else if(t.parent().is("optgroup")&&!0!==t.data("divider"))if(0===t.index()){var o=t.parent().attr("label"),r=t.parent().data("subtext")!==undefined?'<small class="muted text-muted">'+t.parent().data("subtext")+"</small>":"";o=(t.parent().data("icon")?'<i class="'+t.parent().data("icon")+'"></i> ':"")+'<span class="text">'+o+r+"</span>",0!==t[0].index?c.push('<div class="div-contain"><div class="divider"></div></div><dt>'+o+"</dt>"+l.createA(n,"opt "+e,i)):c.push("<dt>"+o+"</dt>"+l.createA(n,"opt "+e,i))}else c.push(l.createA(n,"opt "+e,i));else!0===t.data("divider")?c.push('<div class="div-contain"><div class="divider"></div></div>'):!0===y(this).data("hidden")?c.push("<a></a>"):c.push(l.createA(n,e,i))}),y.each(c,function(t,e){i+='<li rel="'+t+'"'+("<a></a>"===e?'class="hide is-hidden"':"")+">"+e+"</li>"}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),y(i)},createA:function(t,e,i){return'<a tabindex="0" class="'+e+'" style="'+i+'">'+t+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(t){var n=this;!1!==t&&this.$element.find("option").each(function(t){n.setDisabled(t,y(this).is(":disabled")||y(this).parent().is(":disabled")),n.setSelected(t,y(this).is(":selected"))}),this.tabIndex();var e=this.$element.find("option:selected").map(function(){var t,e=y(this),i=e.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+e.data("icon")+'"></i> ':"";return t=n.options.showSubtext&&e.attr("data-subtext")&&!n.multiple?' <small class="muted text-muted">'+e.data("subtext")+"</small>":"",e.data("content")&&n.options.showContent?e.data("content"):e.attr("title")!==undefined?e.attr("title"):i+e.html()+t}).toArray(),i=this.multiple?e.join(this.options.multipleSeparator):e[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var a=this.options.selectedTextFormat.split(">"),s=this.options.hideDisabled?":not([disabled])":"";(1<a.length&&e.length>a[1]||1==a.length&&2<=e.length)&&(i=this.options.countSelectedText.replace("{0}",e.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+s).length))}this.options.title=this.$element.attr("title"),i||(i=this.options.title!==undefined?this.options.title:this.options.noneSelectedText),this.$button.attr("title",y.trim(i)),this.$newElement.find(".filter-option").html(i)},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(!1!==this.options.size){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),e=t.addClass("open").find("> .dropdown-menu"),i=e.find("li > a").outerHeight(),n=this.options.header?e.find(".popover-title").outerHeight():0,a=this.options.liveSearch?e.find(".bootstrap-select-searchbox").outerHeight():0,s=this.options.actionsBox?e.find(".bs-actionsbox").outerHeight():0;t.remove(),this.$newElement.data("liHeight",i).data("headerHeight",n).data("searchHeight",a).data("actionsHeight",s)}},setSize:function(){var i,n,a,s=this,o=this.$menu,r=o.find(".inner"),t=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),d=this.$newElement.data("searchHeight"),u=this.$newElement.data("actionsHeight"),e=o.find("li .divider").outerHeight(!0),h=parseInt(o.css("padding-top"))+parseInt(o.css("padding-bottom"))+parseInt(o.css("border-top-width"))+parseInt(o.css("border-bottom-width")),p=this.options.hideDisabled?":not(.disabled)":"",f=y(window),g=h+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom"))+2,m=function(){n=s.$newElement.offset().top-f.scrollTop(),a=f.height()-n-t};if(m(),this.options.header&&o.css("padding-top",0),"auto"==this.options.size){var v=function(){var t,e=s.$lis.not(".hide");m(),i=a-g,s.options.dropupAuto&&s.$newElement.toggleClass("dropup",a<n&&i-g<o.height()),s.$newElement.hasClass("dropup")&&(i=n-g),t=3<e.length+e.find("dt").length?3*l+g-2:0,o.css({"max-height":i+"px",overflow:"hidden","min-height":t+c+d+u+"px"}),r.css({"max-height":i-c-d-u-h+"px","overflow-y":"auto","min-height":Math.max(t-h,0)+"px"})};v(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",v),y(window).off("resize.getSize").on("resize.getSize",v),y(window).off("scroll.getSize").on("scroll.getSize",v)}else if(this.options.size&&"auto"!=this.options.size&&o.find("li"+p).length>this.options.size){var b=o.find("li"+p+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),$=o.find("li").slice(0,b+1).find(".div-contain").length;i=l*this.options.size+$*e+h,s.options.dropupAuto&&this.$newElement.toggleClass("dropup",a<n&&i<o.height()),o.css({"max-height":i+c+d+u+"px",overflow:"hidden"}),r.css({"max-height":i-h+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var t=this.$newElement.clone().appendTo("body"),e=t.find("> .dropdown-menu").css("width"),i=t.css("width","auto").find("> button").css("width");t.remove(),this.$newElement.css("width",Math.max(parseInt(e),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,i,n=this,a=y("<div />"),t=function(t){a.addClass(t.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,a.css({top:e.top+i,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(t(y(this)),a.appendTo(n.options.container),a.toggleClass("open",!y(this).hasClass("open")),a.append(n.$menu))}),y(window).resize(function(){t(n.$newElement)}),y(window).on("scroll",function(){t(n.$newElement)}),y("html").on("click",function(t){y(t.target).closest(n.$newElement).length<1&&a.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(t,e){null==this.$lis&&(this.$lis=this.$menu.find("li")),y(this.$lis[t]).toggleClass("selected",e)},setDisabled:function(t,e){null==this.$lis&&(this.$lis=this.$menu.find("li")),e?y(this.$lis[t]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):y(this.$lis[t]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var t=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var m=this;y("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click",function(){m.setSize(),m.options.liveSearch||m.multiple||setTimeout(function(){m.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(t){var e=y(this).parent().index(),i=m.$element.val(),n=m.$element.prop("selectedIndex");if(m.multiple&&t.stopPropagation(),t.preventDefault(),!m.isDisabled()&&!y(this).parent().hasClass("disabled")){var a=m.$element.find("option"),s=a.eq(e),o=s.prop("selected"),r=s.parent("optgroup"),l=m.options.maxOptions,c=r.data("maxOptions")||!1;if(m.multiple){if(s.prop("selected",!o),m.setSelected(e,!o),!1!==l||!1!==c){var d=l<a.filter(":selected").length,u=c<r.find("option:selected").length,h=m.options.maxOptionsText,p=h[0].replace("{n}",l),f=h[1].replace("{n}",c),g=y('<div class="notify"></div>');(l&&d||c&&u)&&(h[2]&&(p=p.replace("{var}",h[2][1<l?0:1]),f=f.replace("{var}",h[2][1<c?0:1])),s.prop("selected",!1),m.$menu.append(g),l&&d&&(g.append(y("<div>"+p+"</div>")),m.$element.trigger("maxReached.bs.select")),c&&u&&(g.append(y("<div>"+f+"</div>")),m.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){m.setSelected(e,!1)},10),g.delay(750).fadeOut(300,function(){y(this).remove()}))}}else a.prop("selected",!1),s.prop("selected",!0),m.$menu.find(".selected").removeClass("selected"),m.setSelected(e,!0);m.multiple?m.options.liveSearch&&m.$searchbox.focus():m.$button.focus(),(i!=m.$element.val()&&m.multiple||n!=m.$element.prop("selectedIndex")&&!m.multiple)&&m.$element.change()}}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(t){t.target==this&&(t.preventDefault(),t.stopPropagation(),m.options.liveSearch?m.$searchbox.focus():m.$button.focus())}),this.$menu.on("click",".popover-title .close",function(){m.$button.focus()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){m.options.liveSearch?m.$searchbox.focus():m.$button.focus(),t.preventDefault(),t.stopPropagation(),y(this).is(".bs-select-all")?m.selectAll():m.deselectAll(),m.$element.change()}),this.$element.change(function(){m.render(!1)})},liveSearchListener:function(){var e=this,t=y('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){e.$menu.find(".active").removeClass("active"),e.$searchbox.val()&&(e.$searchbox.val(""),e.$lis.not(".is-hidden").removeClass("hide"),t.parent().length&&t.remove()),e.multiple||e.$menu.find(".selected").addClass("active"),setTimeout(function(){e.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){e.$searchbox.val()?(e.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+e.$searchbox.val()+")").parent().addClass("hide"),e.$menu.find("li").filter(":visible:not(.no-results)").length?t.parent().length&&t.remove():(t.parent().length&&t.remove(),t.html(e.options.noneResultsText+' "'+e.$searchbox.val()+'"').show(),e.$menu.find("li").last().after(t))):(e.$lis.not(".is-hidden").removeClass("hide"),t.parent().length&&t.remove()),e.$menu.find("li.active").removeClass("active"),e.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),y(this).focus()}),this.$menu.on("mouseenter","a",function(t){e.$menu.find(".active").removeClass("active"),y(t.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){e.$menu.find(".active").removeClass("active")})},val:function(t){return t!==undefined?(this.$element.val(t),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!0),y(this.$lis).filter(":not(.disabled)").addClass("selected"),this.render(!1)},deselectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!1),y(this.$lis).filter(":not(.disabled)").removeClass("selected"),this.render(!1)},keydown:function(t){var e,i,n,a,s,o,r,l,c,d,u,h,p={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(n=(e=y(this)).parent(),e.is("input")&&(n=e.parent().parent()),(d=n.data("this")).options.liveSearch&&(n=e.parent().parent()),d.options.container&&(n=d.$menu),i=y("[role=menu] li:not(.divider) a",n),!(h=d.$menu.parent().hasClass("open"))&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))&&(d.options.container?d.$newElement.trigger("click"):(d.setSize(),d.$menu.parent().addClass("open"),h=d.$menu.parent().hasClass("open")),d.$searchbox.focus()),d.options.liveSearch&&(/(^9$|27)/.test(t.keyCode)&&h&&0===d.$menu.find(".active").length&&(t.preventDefault(),d.$menu.parent().removeClass("open"),d.$button.focus()),i=y("[role=menu] li:not(.divider):visible",n),e.val()||/(38|40)/.test(t.keyCode)||0===i.filter(".active").length&&(i=d.$newElement.find("li").filter(":icontains("+p[t.keyCode]+")"))),i.length){if(/(38|40)/.test(t.keyCode))a=i.index(i.filter(":focus")),o=i.parent(":not(.disabled):visible").first().index(),r=i.parent(":not(.disabled):visible").last().index(),s=i.eq(a).parent().nextAll(":not(.disabled):visible").eq(0).index(),l=i.eq(a).parent().prevAll(":not(.disabled):visible").eq(0).index(),c=i.eq(s).parent().prevAll(":not(.disabled):visible").eq(0).index(),d.options.liveSearch&&(i.each(function(t){y(this).is(":not(.disabled)")&&y(this).data("index",t)}),a=i.index(i.filter(".active")),o=i.filter(":not(.disabled):visible").first().data("index"),r=i.filter(":not(.disabled):visible").last().data("index"),s=i.eq(a).nextAll(":not(.disabled):visible").eq(0).data("index"),l=i.eq(a).prevAll(":not(.disabled):visible").eq(0).data("index"),c=i.eq(s).prevAll(":not(.disabled):visible").eq(0).data("index")),u=e.data("prevIndex"),38==t.keyCode&&(d.options.liveSearch&&(a-=1),a!=c&&l<a&&(a=l),a<o&&(a=o),a==u&&(a=r)),40==t.keyCode&&(d.options.liveSearch&&(a+=1),-1==a&&(a=0),a!=c&&a<s&&(a=s),r<a&&(a=r),a==u&&(a=o)),e.data("prevIndex",a),d.options.liveSearch?(t.preventDefault(),e.is(".dropdown-toggle")||(i.removeClass("active"),i.eq(a).addClass("active").find("a").focus(),e.focus())):i.eq(a).focus();else if(!e.is("input")){var f,g=[];i.each(function(){y(this).parent().is(":not(.disabled)")&&y.trim(y(this).text().toLowerCase()).substring(0,1)==p[t.keyCode]&&g.push(y(this).parent().index())}),f=y(document).data("keycount"),f++,y(document).data("keycount",f),y.trim(y(":focus").text().toLowerCase()).substring(0,1)!=p[t.keyCode]?(f=1,y(document).data("keycount",f)):f>=g.length&&(y(document).data("keycount",0),f>g.length&&(f=1)),i.eq(g[f-1]).focus()}/(13|32|^9$)/.test(t.keyCode)&&h&&(/(32)/.test(t.keyCode)||t.preventDefault(),d.options.liveSearch?/(32)/.test(t.keyCode)||(d.$menu.find(".active a").click(),e.focus()):y(":focus").click(),y(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode)&&h&&(d.multiple||d.options.liveSearch)||/(27)/.test(t.keyCode)&&!h)&&(d.$menu.parent().removeClass("open"),d.$button.focus())}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},y.fn.selectpicker=function(s,o){var r,l=arguments,t=this.each(function(){if(y(this).is("select")){var t=y(this),e=t.data("selectpicker"),i="object"==typeof s&&s;if(e){if(i)for(var n in i)e.options[n]=i[n]}else t.data("selectpicker",e=new c(this,i,o));if("string"==typeof s){var a=s;e[a]instanceof Function?([].shift.apply(l),r=e[a].apply(e,l)):r=e.options[a]}}});return r!==undefined?r:t},y.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",maxOptionsText:["Limit reached ({n} {var} max)","Group limit reached ({n} {var} max)",["items","item"]],width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,multipleSeparator:", ",iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1},y(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",c.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(t){t.stopPropagation()})}(window.jQuery),function(h){"use strict";function s(t,e){this.itemsArray=[],this.$element=h(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=h('<div class="bootstrap-tagsinput"></div>'),this.$input=h('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(e)}function e(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function p(t){return t?n.text(t).html():""}function l(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var a={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};s.prototype={constructor:s,add:function(t,e){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags||!1!==t&&!t)){if("object"==typeof t&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&0<i.itemsArray.length&&i.remove(i.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var n=t.split(",");if(1<n.length){for(var a=0;a<n.length;a++)this.add(n[a],!0);return void(e||i.pushVal())}}var s=i.options.itemValue(t),o=i.options.itemText(t),r=i.options.tagClass(t),l=h.grep(i.itemsArray,function(t){return i.options.itemValue(t)===s})[0];if(l){if(i.options.onTagExists){var c=h(".tag",i.$container).filter(function(){return h(this).data("item")===l});i.options.onTagExists(t,c)}}else{i.itemsArray.push(t);var d=h('<span class="tag '+p(r)+'">'+p(o)+'<span data-role="remove"></span></span>');if(d.data("item",t),i.findInputWrapper().before(d),d.after(" "),i.isSelect&&!h('option[value="'+escape(s)+'"]',i.$element)[0]){var u=h("<option selected>"+p(o)+"</option>");u.data("item",t),u.attr("value",s),i.$element.append(u)}e||i.pushVal(),i.options.maxTags===i.itemsArray.length&&i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(h.Event("itemAdded",{item:t}))}}}},remove:function(e,t){var i=this;i.objectItems&&(e="object"==typeof e?h.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)})[0]:h.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e})[0]),e&&(h(".tag",i.$container).filter(function(){return h(this).data("item")===e}).remove(),h("option",i.$element).filter(function(){return h(this).data("item")===e}).remove(),i.itemsArray.splice(h.inArray(e,i.itemsArray),1)),t||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(h.Event("itemRemoved",{item:e}))},removeAll:function(){var t=this;for(h(".tag",t.$container).remove(),h("option",t.$element).remove();0<t.itemsArray.length;)t.itemsArray.pop();t.pushVal(),t.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var s=this;h(".tag",s.$container).each(function(){var t=h(this),e=t.data("item"),i=s.options.itemValue(e),n=s.options.itemText(e),a=s.options.tagClass(e);(t.attr("class",null),t.addClass("tag "+p(a)),t.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=p(n),s.isSelect)&&h("option",s.$element).filter(function(){return h(this).data("item")===e}).attr("value",i)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,t=h.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(t,!0).trigger("change")},build:function(t){var r=this;r.options=h.extend({},a,t);var n=r.options.typeahead||{};r.objectItems&&(r.options.freeInput=!1),e(r.options,"itemValue"),e(r.options,"itemText"),e(r.options,"tagClass"),r.options.source&&(n.source=r.options.source),n.source&&h.fn.typeahead&&(i(n,"source"),r.$input.typeahead({source:function(t,a){function e(t){for(var e=[],i=0;i<t.length;i++){var n=r.options.itemText(t[i]);s[n]=t[i],e.push(n)}a(e)}this.map={};var s=this.map,i=n.source(t);h.isFunction(i.success)?i.success(e):h.when(i).then(e)},updater:function(t){r.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),r.$container.on("click",h.proxy(function(){r.$input.focus()},r)),r.$container.on("keydown","input",h.proxy(function(t){var e=h(t.target),i=r.findInputWrapper();switch(t.which){case 8:if(0===l(e[0])){var n=i.prev();n&&r.remove(n.data("item"))}break;case 46:if(0===l(e[0])){var a=i.next();a&&r.remove(a.data("item"))}break;case 37:var s=i.prev();0===e.val().length&&s[0]&&(s.before(i),e.focus());break;case 39:var o=i.next();0===e.val().length&&o[0]&&(o.after(i),e.focus());break;default:r.options.freeInput&&0<=h.inArray(t.which,r.options.confirmKeys)&&(r.add(e.val()),e.val(""),t.preventDefault())}e.attr("size",Math.max(this.inputSize,e.val().length))},r)),r.$container.on("click","[data-role=remove]",h.proxy(function(t){r.remove(h(t.target).closest(".tag").data("item"))},r)),r.options.itemValue===a.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):h("option",r.$element).each(function(){r.add(h(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return h(t)}},h.fn.tagsinput=function(i,n){var a=[];return this.each(function(){var t=h(this).data("tagsinput");if(t){var e=t[i](n);void 0!==e&&a.push(e)}else t=new s(this,i),h(this).data("tagsinput",t),a.push(t),"SELECT"===this.tagName&&h("option",h(this)).attr("selected","selected"),h(this).val(h(this).val())}),"string"==typeof i?1<a.length?a:a[0]:a},h.fn.tagsinput.Constructor=s;var n=h("<div />");h(function(){h("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(I){var t,E={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:I.isArray,isFunction:I.isFunction,isObject:I.isPlainObject,isUndefined:function(t){return void 0===t},bind:I.proxy,each:function(t,i){function e(t,e){return i(e,t)}I.each(t,e)},map:I.map,filter:I.grep,every:function(i,n){var a=!0;return i?(I.each(i,function(t,e){if(!(a=n.call(null,e,t,i)))return!1}),!!a):a},some:function(i,n){var a=!1;return i?(I.each(i,function(t,e){if(a=n.call(null,e,t,i))return!1}),!!a):a},mixin:I.extend,getUniqueId:(t=0,function(){return t++}),templatify:function r(t){function e(){return String(t)}return I.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(a,s,o){var r,l;return function(){var t,e,i=this,n=arguments;return t=function(){r=null,o||(l=a.apply(i,n))},e=o&&!r,clearTimeout(r),r=setTimeout(t,s),e&&(l=a.apply(i,n)),l}},throttle:function(i,n){var a,s,o,r,l,c;return l=0,c=function(){l=new Date,o=null,r=i.apply(a,s)},function(){var t=new Date,e=n-(t-l);return a=this,s=arguments,e<=0?(clearTimeout(o),o=null,l=t,r=i.apply(a,s)):o||(o=setTimeout(c,e)),r}},noop:function(){}},n="0.10.2",b=function(){function t(t){return t.split(/\s+/)}function e(t){return t.split(/\W+/)}function i(n){return function t(e){return function i(t){return n(t[e])}}}return{nonword:e,whitespace:t,obj:{nonword:i(e),whitespace:i(t)}}}(),a=function(){function t(t){this.maxSize=t||100,this.size=0,this.hash={},this.list=new e}function e(){this.head=this.tail=null}function a(t,e){this.key=t,this.val=e,this.prev=this.next=null}return E.mixin(t.prototype,{set:function s(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key]),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new a(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function i(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val}}),E.mixin(e.prototype,{add:function n(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function o(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),$=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function n(){return(new Date).getTime()}function a(t){return JSON.stringify(E.isUndefined(t)?null:t)}function i(t){return JSON.parse(t)}var s,e;try{(s=window.localStorage).setItem("~~~","!"),s.removeItem("~~~")}catch(o){s=null}return e=s&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),i(s.getItem(this._prefix(t)))},set:function(t,e,i){return E.isNumber(i)?s.setItem(this._ttlKey(t),a(n()+i)):s.removeItem(this._ttlKey(t)),s.setItem(this._prefix(t),a(e))},remove:function(t){return s.removeItem(this._ttlKey(t)),s.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],n=s.length;for(t=0;t<n;t++)(e=s.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var e=i(s.getItem(this._ttlKey(t)));return!!(E.isNumber(e)&&n()>e)}}:{get:E.noop,set:E.noop,remove:E.noop,clear:E.noop,isExpired:E.noop},E.mixin(t.prototype,e),t}(),y=function(){function t(t){t=t||{},this._send=t.transport?e(t.transport):I.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}function e(s){return function o(t,e){function i(t){E.defer(function(){a.resolve(t)})}function n(t){E.defer(function(){a.reject(t)})}var a=I.Deferred();return s(t,e,i,n),a}}var l=0,c={},d=6,u=new a(10);return t.setMaxPendingRequests=function i(t){d=t},t.resetCache=function n(){u=new a(10)},E.mixin(t.prototype,{_get:function(e,t,i){function n(t){i&&i(null,t),u.set(e,t)}function a(){i&&i(!0)}function s(){l--,delete c[e],r.onDeckRequestArgs&&(r._get.apply(r,r.onDeckRequestArgs),r.onDeckRequestArgs=null)}var o,r=this;(o=c[e])?o.done(n).fail(a):l<d?(l++,c[e]=this._send(e,t).done(n).fail(a).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,e,i){var n;return E.isFunction(e)&&(i=e,e={}),(n=u.get(t))?E.defer(function(){i&&i(null,n)}):this._get(t,e,i),!!n}}),t}(),w=function(){function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||I.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function i(t){return t=E.filter(t,function(t){return!!t}),t=E.map(t,function(t){return t.toLowerCase()})}function o(){return{ids:[],children:{}}}function n(t){for(var e={},i=[],n=0;n<t.length;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function r(t,e){function i(t,e){return t-e}var n=0,a=0,s=[];for(t=t.sort(i),e=e.sort(i);n<t.length&&a<e.length;)t[n]<e[a]?n++:(t[n]>e[a]||(s.push(t[n]),n++),a++);return s}return E.mixin(t.prototype,{bootstrap:function e(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var s=this;t=E.isArray(t)?t:[t],E.each(t,function(t){var a,e;a=s.datums.push(t)-1,e=i(s.datumTokenizer(t)),E.each(e,function(t){var e,i,n;for(e=s.trie,i=t.split("");n=i.shift();)(e=e.children[n]||(e.children[n]=o())).ids.push(a)})})},get:function a(t){var e,s,o=this;return e=i(this.queryTokenizer(t)),E.each(e,function(t){var e,i,n,a;if(s&&0===s.length)return!1;for(e=o.trie,i=t.split("");e&&(n=i.shift());)e=e.children[n];if(!e||0!==i.length)return!(s=[]);a=e.ids.slice(0),s=s?r(s,a):a}),s?E.map(n(s),function(t){return o.datums[t]}):[]},reset:function s(){this.datums=[],this.trie=o()},serialize:function l(){return{datums:this.datums,trie:this.trie}}}),t}(),x=function(){function t(t){return t.local||null}
function e(t){var e,i;return i={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=t.prefetch||null)&&(e=E.isString(e)?{url:e}:e,(e=E.mixin(i,e)).thumbprint=n+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&I.error("prefetch requires url to be set")),e}function i(t){function e(e){return function(t){return E.debounce(t,e)}}function i(e){return function(t){return E.throttle(t,e)}}var n,a;return a={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(n=t.remote||null)&&(n=E.isString(n)?{url:n}:n,(n=E.mixin(a,n)).rateLimiter=/^throttle$/i.test(n.rateLimitBy)?i(n.rateLimitWait):e(n.rateLimitWait),n.ajax.type=n.ajax.type||"GET",n.ajax.dataType=n.ajax.dataType||"json",delete n.rateLimitBy,delete n.rateLimitWait,!n.url&&I.error("remote requires url to be set")),n}return{local:t,prefetch:e,remote:i}}();!function(t){function e(t){t&&(t.local||t.prefetch||t.remote)||I.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=i(t.sorter),this.dupDetector=t.dupDetector||n,this.local=x.local(t),this.prefetch=x.prefetch(t),this.remote=x.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new w({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new $(this.cacheKey):null}function i(e){function t(t){return t.sort(e)}function i(t){return t}return E.isFunction(e)?t:i}function n(){return!1}var a,s;a=t.Bloodhound,s={data:"data",protocol:"protocol",thumbprint:"thumbprint"},(t.Bloodhound=e).noConflict=function o(){return t.Bloodhound=a,e},e.tokenizers=b,E.mixin(e.prototype,{_loadPrefetch:function r(e){function t(t){a.clear(),a.add(e.filter?e.filter(t):t),a._saveToStorage(a.index.serialize(),e.thumbprint,e.ttl)}var i,n,a=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),n=I.Deferred().resolve()):n=I.ajax(e.url,e.ajax).done(t),n},_getFromRemote:function l(t,i){function e(t,e){i(t?[]:s.remote.filter?s.remote.filter(e):e)}var n,a,s=this;return t=t||"",a=encodeURIComponent(t),n=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,a),this.transport.get(n,this.remote.ajax,e)},_saveToStorage:function c(t,e,i){this.storage&&(this.storage.set(s.data,t,i),this.storage.set(s.protocol,location.protocol,i),this.storage.set(s.thumbprint,e,i))},_readFromStorage:function d(t){var e,i={};return this.storage&&(i.data=this.storage.get(s.data),i.protocol=this.storage.get(s.protocol),i.thumbprint=this.storage.get(s.thumbprint)),e=i.thumbprint!==t||i.protocol!==location.protocol,i.data&&!e?i.data:null},_initialize:function u(){function t(){i.add(E.isFunction(n)?n():n)}var e,i=this,n=this.local;return e=this.prefetch?this._loadPrefetch(this.prefetch):I.Deferred().resolve(),n&&e.done(t),this.transport=this.remote?new y(this.remote):null,this.initPromise=e.promise()},initialize:function u(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function h(t){this.index.add(t)},get:function p(t,e){function i(t){var i=a.slice(0);E.each(t,function(e){return!E.some(i,function(t){return n.dupDetector(e,t)})&&i.push(e),i.length<n.limit}),e&&e(n.sorter(i))}var n=this,a=[],s=!1;a=this.index.get(t),(a=this.sorter(a).slice(0,this.limit)).length<this.limit&&this.transport&&(s=this._getFromRemote(t,i)),s||(0<a.length||!this.transport)&&e&&e(a)},clear:function f(){this.index.reset()},clearPrefetchCache:function g(){this.storage&&this.storage.clear()},clearRemoteCache:function m(){this.transport&&y.resetCache()},ttAdapter:function v(){return E.bind(this.get,this)}})}(this);var j={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},F={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};E.isMsie()&&E.mixin(F.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),E.isMsie()&&E.isMsie()<=7&&E.mixin(F.input,{marginTop:"-1px"});var e,s,i,M=function(){function t(t){t&&t.el||I.error("EventBus initialized without el"),this.$el=I(t.el)}var i="typeahead:";return E.mixin(t.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),t}(),T=function(){function n(t,e,i,n){var a;if(!i)return this;for(e=e.split(l),i=n?r(i,n):i,this._callbacks=this._callbacks||{};a=e.shift();)this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]},this._callbacks[a][t].push(i);return this}function t(t,e,i){return n.call(this,"async",t,e,i)}function e(t,e,i){return n.call(this,"sync",t,e,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function a(t){var e,i,n,a,s;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)a=o(i.sync,this,[e].concat(n)),s=o(i.async,this,[e].concat(n)),a()&&c(s);return this}function o(i,n,a){function t(){for(var t,e=0;!t&&e<i.length;e+=1)t=!1===i[e].apply(n,a);return!t}return t}function s(){return window.setImmediate?function e(t){setImmediate(function(){t()})}:function i(t){setTimeout(function(){t()},0)}}function r(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:e,onAsync:t,off:i,trigger:a}}(),m=function(o){function e(t,e,i){for(var n,a=[],s=0;s<t.length;s++)a.push(E.escapeRegExChars(t[s]));return n=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",e?new RegExp(n):new RegExp(n,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function r(n){function t(t){var e,i;return(e=a.exec(t.data))&&(wrapperNode=o.createElement(n.tagName),n.className&&(wrapperNode.className=n.className),(i=t.splitText(e.index)).splitText(e[0].length),wrapperNode.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(wrapperNode,i)),!!e}function s(t,e){for(var i,n=3,a=0;a<t.childNodes.length;a++)(i=t.childNodes[a]).nodeType===n?a+=e(i)?1:0:s(i,e)}var a;(n=E.mixin({},i,n)).node&&n.pattern&&(n.pattern=E.isArray(n.pattern)?n.pattern:[n.pattern],a=e(n.pattern,n.caseSensitive,n.wordsOnly),s(n.node,t))}}(window.document),z=function(){function i(t){var e,i,n,a,s=this;(t=t||{}).input||I.error("input is missing"),e=E.bind(this._onBlur,this),i=E.bind(this._onFocus,this),n=E.bind(this._onKeydown,this),a=E.bind(this._onInput,this),this.$hint=I(t.hint),this.$input=I(t.input).on("blur.tt",e).on("focus.tt",i).on("keydown.tt",n),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=E.noop),E.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){r[t.which||t.keyCode]||E.defer(E.bind(s._onInput,s,t))}):this.$input.on("input.tt",a),this.query=this.$input.val(),this.$overflowHelper=o(this.$input)}function o(t){return I('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function n(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var r;return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},E.mixin(i.prototype,T,{_onBlur:function t(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function e(){this.trigger("focused")},_onKeydown:function a(t){var e=r[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function l(){this._checkInputValue()},_managePreventDefault:function c(t,e){var i,n,a;switch(t){case"tab":n=this.getHint(),a=this.getInputValue(),i=n&&n!==a&&!s(e);break;case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function d(t,e){var i;switch(t){case"tab":i=!s(e);break;default:i=!0}return i},_checkInputValue:function u(){var t,e,i;i=!!(e=n(t=this.getInputValue(),this.query))&&this.query.length!==t.length,e?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=t)},focus:function h(){this.$input.focus()},blur:function p(){this.$input.blur()},getQuery:function f(){return this.query},setQuery:function g(t){this.query=t},getInputValue:function m(){return this.$input.val()},setInputValue:function v(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function b(){this.setInputValue(this.query,!0)},getHint:function $(){return this.$hint.val()},setHint:function y(t){this.$hint.val(t)},clearHint:function w(){this.setHint("")},clearHintIfInvalid:function x(){var t,e,i;i=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&i&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function C(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function k(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,i;return t=this.$input.val().length,e=this.$input[0].selectionStart,E.isNumber(e)?e===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function S(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),k=function(){function t(t){(t=t||{}).templates=t.templates||{},t.source||I.error("missing source"),t.name&&!n(t.name)&&I.error("invalid dataset name: "+t.name),this.query=null,this.highlight=!!t.highlight,this.name=t.name||E.getUniqueId(),this.source=t.source,this.displayFn=e(t.display||t.displayKey),this.templates=i(t.templates,this.displayFn),this.$el=I(j.dataset.replace("%CLASS%",this.name))}function e(e){function t(t){return t[e]}return e=e||"value",E.isFunction(e)?e:t}function i(t,e){function i(t){return"<p>"+e(t)+"</p>"}return{empty:t.empty&&E.templatify(t.empty),header:t.header&&E.templatify(t.header),footer:t.footer&&E.templatify(t.footer),suggestion:t.suggestion||i}}function n(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l="ttDataset",c="ttValue",d="ttDatum";return t.extractDatasetName=function a(t){return I(t).data(l)},t.extractValue=function s(t){return I(t).data(c)},t.extractDatum=function s(t){return I(t).data(d)},E.mixin(t.prototype,T,{_render:function u(n,a){function t(){return r.templates.empty({query:n,isEmpty:!0})}function e(){function t(t){var e;return(e=I(j.suggestion).append(r.templates.suggestion(t)).data(l,r.name).data(c,r.displayFn(t)).data(d,t)).children().each(function(){I(this).css(F.suggestionChild)}),e}var e,i;return e=I(j.suggestions).css(F.suggestions),i=E.map(a,t),e.append.apply(e,i),r.highlight&&m({node:e[0],pattern:n}),e}function i(){return r.templates.header({query:n,isEmpty:!o})}function s(){return r.templates.footer({query:n,isEmpty:!o})}if(this.$el){var o,r=this;this.$el.empty(),!(o=a&&a.length)&&this.templates.empty?this.$el.html(t()).prepend(r.templates.header?i():null).append(r.templates.footer?s():null):o&&this.$el.html(e()).prepend(r.templates.header?i():null).append(r.templates.footer?s():null),this.trigger("rendered")}},getRoot:function o(){return this.$el},update:function r(e){function t(t){i.canceled||e!==i.query||i._render(e,t)}var i=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function h(){this.canceled=!0},clear:function p(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function f(){return this.$el.is(":empty")},destroy:function g(){this.$el=null}}),t}(),P=function(){function t(t){var e,i,n,a=this;(t=t||{}).menu||I.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=E.map(t.datasets,s),e=E.bind(this._onSuggestionClick,this),i=E.bind(this._onSuggestionMouseEnter,this),n=E.bind(this._onSuggestionMouseLeave,this),this.$menu=I(t.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",i).on("mouseleave.tt",".tt-suggestion",n),E.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function s(t){return new k(t)}return E.mixin(t.prototype,T,{_onSuggestionClick:function e(t){this.trigger("suggestionClicked",I(t.currentTarget))},_onSuggestionMouseEnter:function i(t){this._removeCursor(),this._setCursor(I(t.currentTarget),!0)},_onSuggestionMouseLeave:function n(){this._removeCursor()},_onRendered:function a(){function t(t){return t.isEmpty()}this.isEmpty=E.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function o(){return this.$menu.find(".tt-suggestion")},_getCursor:function r(){return this.$menu.find(".tt-cursor").first()},_setCursor:function l(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function c(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function d(t){var e,i,n,a;this.isOpen&&(i=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1!==(n=((n=e.index(i)+t)+1)%(e.length+1)-1)?(n<-1&&(n=e.length-1),this._setCursor(a=e.eq(n)),this._ensureVisible(a)):this.trigger("cursorRemoved"))},_ensureVisible:function u(t){var e,i,n,a;i=(e=t.position().top)+t.outerHeight(!0),n=this.$menu.scrollTop(),a=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),e<0?this.$menu.scrollTop(n+e):a<i&&this.$menu.scrollTop(n+(i-a))},close:function h(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function p(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function f(t){this.$menu.css("ltr"===t?F.ltr:F.rtl)},moveCursorUp:function g(){this._moveCursor(-1)},moveCursorDown:function m(){this._moveCursor(1)},getDatumForSuggestion:function v(t){var e=null;return t.length&&(e={raw:k.extractDatum(t),value:k.extractValue(t),datasetName:k.extractDatasetName(t)}),e},getDatumForCursor:function b(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function $(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function y(e){function t(t){t.update(e)}E.each(this.datasets,t)},empty:function w(){function t(t){t.clear()}E.each(this.datasets,t),this.isEmpty=!0},isVisible:function x(){return this.isOpen&&!this.isEmpty},destroy:function C(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,E.each(this.datasets,t)}}),t}(),o=function(){function t(t){var a,s,e;(t=t||{}).input||I.error("missing input"),this.isActivated=!1,this.autoselect=!!t.autoselect,this.minLength=E.isNumber(t.minLength)?t.minLength:1,this.$node=i(t.input,t.withHint),a=this.$node.find(".tt-dropdown-menu"),s=this.$node.find(".tt-input"),e=this.$node.find(".tt-hint"),s.on("blur.tt",function(t){var e,i,n;e=document.activeElement,i=a.is(e),n=0<a.has(e).length,E.isMsie()&&(i||n)&&(t.preventDefault(),t.stopImmediatePropagation(),E.defer(function(){s.focus()}))}),a.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new M({el:s}),this.dropdown=new P({menu:a,datasets:t.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new z({input:s,hint:e}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(t,e){var i,n,a,s;i=I(t),n=I(j.wrapper).css(F.wrapper),a=I(j.dropdown).css(F.dropdown),(s=i.clone().css(F.hint).css(r(i))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),i.data(l,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(e?F.input:F.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(o){}return i.wrap(n).parent().prepend(e?s:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function e(t){var i=t.find(".tt-input");E.each(i.data(l),function(t,e){E.isUndefined(t)?i.removeAttr(e):i.attr(e,t)}),i.detach().removeData(l).removeClass("tt-input").insertAfter(t),t.remove()}var l="ttAttrs";return E.mixin(t.prototype,{_onSuggestionClicked:function n(t,e){var i;(i=this.dropdown.getDatumForSuggestion(e))&&this._select(i)},_onCursorMoved:function a(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function s(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function o(){this._updateHint()},_onOpened:function c(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function d(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function u(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function h(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function p(t,e){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function f(t,e){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function g(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function m(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function v(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function b(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function $(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function y(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function w(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function x(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function C(){var t,e,i,n,a;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),i=z.normalizeQuery(e),n=E.escapeRegExChars(i),(a=new RegExp("^(?:"+n+")(.+$)","i").exec(t.value))?this.input.setHint(e+a[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function k(t){var e,i,n,a;e=this.input.getHint(),i=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&i!==e&&n&&((a=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(a.value),this.eventBus.trigger("autocompleted",a.raw,a.datasetName))},_select:function S(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),E.defer(E.bind(this.dropdown.empty,this.dropdown))},open:function T(){this.dropdown.open()},close:function _(){this.dropdown.close()},setVal:function A(t){this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function L(){return this.input.getQuery()},destroy:function D(){this.input.destroy(),this.dropdown.destroy(),e(this.$node),this.$node=null}}),t}();e=I.fn.typeahead,s="ttTypeahead",i={initialize:function l(i,n){function t(){var t,e=I(this);E.each(n,function(t){t.highlight=!!i.highlight}),t=new o({input:e,eventBus:new M({el:e}),withHint:!!E.isUndefined(i.hint)||!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:n}),e.data(s,t)}return n=E.isArray(n)?n:[].slice.call(arguments,1),i=i||{},this.each(t)},open:function c(){function t(){var t;(t=I(this).data(s))&&t.open()}return this.each(t)},close:function d(){function t(){var t;(t=I(this).data(s))&&t.close()}return this.each(t)},val:function u(e){function t(){var t;(t=I(this).data(s))&&t.setVal(e)}function i(t){var e,i;return(e=t.data(s))&&(i=e.getVal()),i}return arguments.length?this.each(t):i(this.first())},destroy:function h(){function t(){var t,e=I(this);(t=e.data(s))&&(t.destroy(),e.removeData(s))}return this.each(t)}},I.fn.typeahead=function(t){return i[t]?i[t].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)},I.fn.typeahead.noConflict=function p(){return I.fn.typeahead=e,this}}(window.jQuery),function(o){o.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var i=this;this.element.is("input")?(this.tagList=o("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=o('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=function(t,e){var i=t.term.toLowerCase(),n=o.grep(this.options.availableTags,function(t){return 0===t.toLowerCase().indexOf(i)});this.options.allowDuplicates||(n=this._subtractArray(n,this.assignedTags())),e(n)}),this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(){i._showAutocomplete()}),"undefined"==typeof this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0)),o.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=o.proxy(this.options.autocomplete.source,this)),o.isFunction(this.options.tagSource)&&(this.options.tagSource=o.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(o('<li class="tagit-new"></li>').append(this.tagInput)).click(function(t){var e=o(t.target);e.hasClass("tagit-label")?(e=e.closest(".tagit-choice")).hasClass("removed")||i._trigger("onTagClicked",t,{tag:e,tagLabel:i.tagLabel(e)}):i.tagInput.focus()});var n=!1;if(this.options.singleField)if(this.options.singleFieldNode){var t=o(this.options.singleFieldNode),e=t.val().split(this.options.singleFieldDelimiter);t.val(""),o.each(e,function(t,e){i.createTag(e,null,!0),n=!0})}else this.options.singleFieldNode=o('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode);n||this.tagList.children("li").each(function(){o(this).hasClass("tagit-new")||(i.createTag(o(this).text(),o(this).attr("class"),!0),o(this).remove())}),this.tagInput.keydown(function(t){if(t.which==o.ui.keyCode.BACKSPACE&&""===i.tagInput.val()){var e=i._lastTag();!i.options.removeConfirmation||e.hasClass("remove")?i.removeTag(e):i.options.removeConfirmation&&e.addClass("remove ui-state-highlight")}else i.options.removeConfirmation&&i._lastTag().removeClass("remove ui-state-highlight");(t.which===o.ui.keyCode.COMMA&&!1===t.shiftKey||t.which===o.ui.keyCode.ENTER||t.which==o.ui.keyCode.TAB&&""!==i.tagInput.val()||t.which==o.ui.keyCode.SPACE&&!0!==i.options.allowSpaces&&('"'!=o.trim(i.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==o.trim(i.tagInput.val()).charAt(0)&&'"'==o.trim(i.tagInput.val()).charAt(o.trim(i.tagInput.val()).length-1)&&0!=o.trim(i.tagInput.val()).length-1))&&(t.which===o.ui.keyCode.ENTER&&""===i.tagInput.val()||t.preventDefault(),i.options.autocomplete.autoFocus&&i.tagInput.data("autocomplete-open")||(i.tagInput.autocomplete("close"),i.createTag(i._cleanedInput())))}).blur(function(){i.tagInput.data("autocomplete-open")||i.createTag(i._cleanedInput())}),(this.options.availableTags||this.options.tagSource||this.options.autocomplete.source)&&(t={select:function(t,e){return i.createTag(e.item.value),!1}},o.extend(t,this.options.autocomplete),t.source=this.options.tagSource||t.source,this.tagInput.autocomplete(t).bind("autocompleteopen.tagit",function(){i.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose.tagit",function(){i.tagInput.data("autocomplete-open",!1)}),this.tagInput.autocomplete("widget").addClass("tagit-autocomplete"))},destroy:function(){return o.Widget.prototype.destroy.call(this),this.element.unbind(".tagit"),this.tagList.unbind(".tagit"),this.tagInput.removeData("autocomplete-open"),this.tagList.removeClass("tagit ui-widget ui-widget-content ui-corner-all tagit-hidden-field"),this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each(function(){o(this).hasClass("tagit-new")?o(this).remove():(o(this).removeClass("tagit-choice ui-widget-content ui-state-default ui-state-highlight ui-corner-all remove tagit-choice-editable tagit-choice-read-only"),o(this).text(o(this).children(".tagit-label").text()))}),this.singleFieldNode&&this.singleFieldNode.remove()),this},_cleanedInput:function(){return o.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var t=this,e=[];return this.options.singleField?""===(e=o(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter))[0]&&(e=[]):this._tags().each(function(){e.push(t.tagLabel(this))}),e},_updateSingleTagsField:function(t){o(this.options.singleFieldNode).val(t.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(t,e){for(var i=[],n=0;n<t.length;n++)-1==o.inArray(t[n],e)&&i.push(t[n]);return i},tagLabel:function(t){return this.options.singleField?o(t).find(".tagit-label:first").text():o(t).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(t){var e=this,i=null;return this._tags().each(function(){if(e._formatStr(t)==e._formatStr(e.tagLabel(this)))return i=o(this),!1}),i},_isNew:function(t){return!this._findTagByLabel(t)},_formatStr:function(t){return this.options.caseSensitive?t:o.trim(t.toLowerCase())},_effectExists:function(t){return Boolean(o.effects&&(o.effects[t]||o.effects.effect&&o.effects.effect[t]))},createTag:function(t,e,i){var n=this;if(t=o.trim(t),this.options.preprocessTag&&(t=this.options.preprocessTag(t)),""===t)return!1;if(!this.options.allowDuplicates&&!this._isNew(t))return t=this._findTagByLabel(t),!1!==this._trigger("onTagExists",null,{existingTag:t,duringInitialization:i})&&this._effectExists("highlight")&&t.effect("highlight"),!1;if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit)return this._trigger("onTagLimitExceeded",null,{duringInitialization:i}),!1;var a=o(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(t),s=o("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(e).append(a);this.options.readOnly?s.addClass("tagit-choice-read-only"):(s.addClass("tagit-choice-editable"),e=o("<span></span>").addClass("ui-icon ui-icon-close"),e=o('<a><span class="text-icon">\xd7</span></a>').addClass("tagit-close").append(e).click(function(){n.removeTag(s)}),s.append(e)),this.options.singleField||(a=a.html(),s.append('<input type="hidden" value="'+a+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')),!1!==this._trigger("beforeTagAdded",null,{tag:s,tagLabel:this.tagLabel(s),duringInitialization:i})&&(this.options.singleField&&((a=this.assignedTags()).push(t),this._updateSingleTagsField(a)),this._trigger("onTagAdded",null,s),this.tagInput.val(""),this.tagInput.parent().before(s),this._trigger("afterTagAdded",null,{tag:s,tagLabel:this.tagLabel(s),duringInitialization:i}),this.options.showAutocompleteOnFocus&&!i&&setTimeout(function(){n._showAutocomplete()},0))},removeTag:function(t,e){if(e=void 0===e?this.options.animate:e,t=o(t),this._trigger("onTagRemoved",null,t),!1!==this._trigger("beforeTagRemoved",null,{tag:t,tagLabel:this.tagLabel(t)})){if(this.options.singleField){var i=this.assignedTags(),n=this.tagLabel(t);i=o.grep(i,function(t){return t!=n});this._updateSingleTagsField(i)}if(e){t.addClass("removed");i=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"];var a=this;i.push(function(){t.remove(),a._trigger("afterTagRemoved",null,{tag:t,tagLabel:a.tagLabel(t)})}),t.fadeOut("fast").hide.apply(t,i).dequeue()}else t.remove(),this._trigger("afterTagRemoved",null,{tag:t,tagLabel:this.tagLabel(t)})}},removeTagByLabel:function(t,e){var i=this._findTagByLabel(t);if(!i)throw"No such tag exists with the name '"+t+"'";this.removeTag(i,e)},removeAll:function(){var i=this;this._tags().each(function(t,e){i.removeTag(e,!1)})}})}(jQuery);var blue="#348fe2",blueLight="#5da5e8",blueDark="#1993E4",aqua="#49b6d6",aquaLight="#6dc5de",aquaDark="#3a92ab",green="#00acac",greenLight="#33bdbd",greenDark="#008a8a",orange="#f59c1a",orangeLight="#f7b048",orangeDark="#c47d15",dark="#2d353c",grey="#b6c2c9",purple="#727cb6",purpleLight="#8e96c5",purpleDark="#5b6392",red="#ff5b57",handleVectorMap=function(){"use strict";0!==$("#world-map").length&&$("#world-map").vectorMap({map:"world_mill_en",scaleColors:["#e74c3c","#0071a4"],normalizeFunction:"polynomial",hoverOpacity:.5,hoverColor:!1,markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},focusOn:{x:.5,y:.5,scale:0},backgroundColor:"#2d353c",markers:[{latLng:[41.9,12.45],name:"Vatican City"},{latLng:[43.73,7.41],name:"Monaco"},{latLng:[-.52,166.93],name:"Nauru"},{latLng:[-8.51,179.21],name:"Tuvalu"},{latLng:[43.93,12.46],name:"San Marino"},{latLng:[47.14,9.52],name:"Liechtenstein"},{latLng:[7.11,171.06],name:"Marshall Islands"},{latLng:[17.3,-62.73],name:"Saint Kitts and Nevis"},{latLng:[3.2,73.22],name:"Maldives"},{latLng:[35.88,14.5],name:"Malta"},{latLng:[12.05,-61.75],name:"Grenada"},{latLng:[13.16,-61.23],name:"Saint Vincent and the Grenadines"},{latLng:[13.16,-59.55],name:"Barbados"},{latLng:[17.11,-61.85],
name:"Antigua and Barbuda"},{latLng:[-4.61,55.45],name:"Seychelles"},{latLng:[7.35,134.46],name:"Palau"},{latLng:[42.5,1.51],name:"Andorra"},{latLng:[14.01,-60.98],name:"Saint Lucia"},{latLng:[6.91,158.18],name:"Federated States of Micronesia"},{latLng:[1.3,103.8],name:"Singapore"},{latLng:[1.46,173.03],name:"Kiribati"},{latLng:[-21.13,-175.2],name:"Tonga"},{latLng:[15.3,-61.38],name:"Dominica"},{latLng:[-20.2,57.5],name:"Mauritius"},{latLng:[26.02,50.55],name:"Bahrain"},{latLng:[.33,6.73],name:"S\xe3o Tom\xe9 and Pr\xedncipe"}]})},handleInteractiveChart=function(){"use strict";function s(t,e,i){$('<div id="tooltip" class="flot-tooltip">'+i+"</div>").css({top:e-45,left:t-55}).appendTo("body").fadeIn(200)}if(0!==$("#interactive-chart").length){var t=[[1,40],[2,50],[3,60],[4,60],[5,60],[6,65],[7,75],[8,90],[9,100],[10,105],[11,110],[12,110],[13,120],[14,130],[15,135],[16,145],[17,132],[18,123],[19,135],[20,150]],e=[[1,10],[2,6],[3,10],[4,12],[5,18],[6,20],[7,25],[8,23],[9,24],[10,25],[11,18],[12,30],[13,25],[14,25],[15,30],[16,27],[17,20],[18,18],[19,31],[20,23]],i=[[1,""],[2,""],[3,"May&nbsp;15"],[4,""],[5,""],[6,"May&nbsp;19"],[7,""],[8,""],[9,"May&nbsp;22"],[10,""],[11,""],[12,"May&nbsp;25"],[13,""],[14,""],[15,"May&nbsp;28"],[16,""],[17,""],[18,"May&nbsp;31"],[19,""],[20,""]];$.plot($("#interactive-chart"),[{data:t,label:"Page Views",color:blue,lines:{show:!0,fill:!1,lineWidth:2},points:{show:!0,radius:3,fillColor:"#fff"},shadowSize:0},{data:e,label:"Visitors",color:green,lines:{show:!0,fill:!1,lineWidth:2},points:{show:!0,radius:3,fillColor:"#fff"},shadowSize:0}],{xaxis:{ticks:i,tickDecimals:0,tickColor:"#ddd"},yaxis:{ticks:10,tickColor:"#ddd",min:0,max:200},grid:{hoverable:!0,clickable:!0,tickColor:"#ddd",borderWidth:1,backgroundColor:"#fff",borderColor:"#ddd"},legend:{labelBoxBorderColor:"#ddd",margin:10,noColumns:1,show:!0}});var o=null;$("#interactive-chart").bind("plothover",function(t,e,i){if($("#x").text(e.x.toFixed(2)),$("#y").text(e.y.toFixed(2)),i){if(o!==i.dataIndex){o=i.dataIndex,$("#tooltip").remove();var n=i.datapoint[1].toFixed(2),a=i.series.label+" "+n;s(i.pageX,i.pageY,a)}}else $("#tooltip").remove(),o=null;t.preventDefault()})}},handleDonutChart=function(){"use strict";if(0!==$("#donut-chart").length){var t=[{label:"Chrome",data:35,color:purpleDark},{label:"Firefox",data:30,color:purple},{label:"Safari",data:15,color:purpleLight},{label:"Opera",data:10,color:blue},{label:"IE",data:5,color:blueDark}];$.plot("#donut-chart",t,{series:{pie:{innerRadius:.5,show:!0,label:{show:!0}}},legend:{show:!0}})}},handleDashboardSparkline=function(){"use strict";function t(){var t=[50,30,45,40,50,20,35,40,50,70,90,40];i.type="line",i.height="23px",i.lineColor=red,i.highlightLineColor=red,i.highlightSpotColor=red;var e=$("#sparkline-unique-visitor").width();i.width=200<=e?"200px":"100%",$("#sparkline-unique-visitor").sparkline(t,i),i.lineColor=orange,i.highlightLineColor=orange,i.highlightSpotColor=orange,$("#sparkline-bounce-rate").sparkline(t,i),i.lineColor=green,i.highlightLineColor=green,i.highlightSpotColor=green,$("#sparkline-total-page-views").sparkline(t,i),i.lineColor=blue,i.highlightLineColor=blue,i.highlightSpotColor=blue,$("#sparkline-avg-time-on-site").sparkline(t,i),i.lineColor=grey,i.highlightLineColor=grey,i.highlightSpotColor=grey,$("#sparkline-new-visits").sparkline(t,i),i.lineColor=dark,i.highlightLineColor=dark,i.highlightSpotColor=grey,$("#sparkline-return-visitors").sparkline(t,i)}var i={height:"50px",width:"100%",fillColor:"transparent",lineWidth:2,spotRadius:"4",highlightLineColor:blue,highlightSpotColor:blue,spotColor:!1,minSpotColor:!1,maxSpotColor:!1};t(),$(window).on("resize",function(){$("#sparkline-unique-visitor").empty(),$("#sparkline-bounce-rate").empty(),$("#sparkline-total-page-views").empty(),$("#sparkline-avg-time-on-site").empty(),$("#sparkline-new-visits").empty(),$("#sparkline-return-visitors").empty(),t()})},handleDashboardDatepicker=function(){"use strict";$("#datepicker-inline").datepicker({todayHighlight:!0})},handleDashboardTodolist=function(){"use strict";$("[data-click=todolist]").click(function(){var t=$(this).closest("li");$(t).hasClass("active")?$(t).removeClass("active"):$(t).addClass("active")})},handleDashboardGritterNotification=function(){$(window).load(function(){setTimeout(function(){$.gritter.add({title:"Welcome back, Admin!",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempus lacus ut lectus rutrum placerat.",image:"assets/img/user-2.jpg",sticky:!0,time:"",class_name:"my-sticky-class"})},1e3)})},Dashboard=function(){"use strict";return{init:function(){$.getScript("assets/plugins/gritter/js/jquery.gritter.js").done(function(){handleDashboardGritterNotification()}),$.getScript("assets/plugins/flot/jquery.flot.min.js").done(function(){$.getScript("assets/plugins/flot/jquery.flot.time.min.js").done(function(){$.getScript("assets/plugins/flot/jquery.flot.resize.min.js").done(function(){$.getScript("assets/plugins/flot/jquery.flot.pie.min.js").done(function(){handleInteractiveChart(),handleDonutChart()})})})}),$.getScript("assets/plugins/sparkline/jquery.sparkline.js").done(function(){handleDashboardSparkline()}),$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.min.js").done(function(){$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-world-mill-en.js").done(function(){handleVectorMap()})}),$.getScript("assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js").done(function(){handleDashboardDatepicker()}),handleDashboardTodolist()}}}(),getMonthName=function(t){var e=[];return e[0]="January",e[1]="February",e[2]="March",e[3]="April",e[4]="May",e[5]="Jun",e[6]="July",e[7]="August",e[8]="September",e[9]="October",e[10]="November",e[11]="December",e[t]},getDate=function(t){var e=new Date(t),i=e.getDate(),n=e.getMonth()+1;return i<10&&(i="0"+i),n<10&&(n="0"+n),e=e.getFullYear()+"-"+n+"-"+i},handleVisitorsLineChart=function(){var t="#0D888B",e="#00ACAC",i="#3273B1",n="#348FE2",a="rgba(0,0,0,0.6)",s="rgba(255,255,255,0.4)";Morris.Line({element:"visitors-line-chart",data:[{x:"2014-02-01",y:60,z:30},{x:"2014-03-01",y:70,z:40},{x:"2014-04-01",y:40,z:10},{x:"2014-05-01",y:100,z:70},{x:"2014-06-01",y:40,z:10},{x:"2014-07-01",y:80,z:50},{x:"2014-08-01",y:70,z:40}],xkey:"x",ykeys:["y","z"],xLabelFormat:function(t){return(t=getMonthName(t.getMonth())).toString()},labels:["Page Views","Unique Visitors"],lineColors:[t,i],pointFillColors:[e,n],lineWidth:"2px",pointStrokeColors:[a,a],resize:!0,gridTextFamily:"Open Sans",gridTextColor:s,gridTextWeight:"normal",gridTextSize:"11px",gridLineColor:"rgba(0,0,0,0.5)",hideHover:"auto"})},handleVisitorsDonutChart=function(){var t="#00acac",e="#348fe2";Morris.Donut({element:"visitors-donut-chart",data:[{label:"New Visitors",value:900},{label:"Return Visitors",value:1200}],colors:[t,e],labelFamily:"Open Sans",labelColor:"rgba(255,255,255,0.4)",labelTextSize:"12px",backgroundColor:"#242a30"})},handleVisitorsVectorMap=function(){0!==$("#visitors-map").length&&(map=new jvm.WorldMap({map:"world_merc_en",scaleColors:["#e74c3c","#0071a4"],container:$("#visitors-map"),normalizeFunction:"linear",hoverOpacity:.5,hoverColor:!1,markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},regions:[{attribute:"fill"}],regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},series:{regions:[{values:{IN:"#00acac",US:"#00acac",KR:"#00acac"}}]},focusOn:{x:.5,y:.5,scale:2},backgroundColor:"#2d353c"}))},handleScheduleCalendar=function(){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["S","M","T","W","T","F","S"],i=new Date,n=i.getMonth()+1,a=i.getFullYear(),s=[["2/"+n+"/"+a,"Popover Title","#","#00acac","Some contents here"],["5/"+n+"/"+a,"Tooltip with link","http://www.seantheme.com/color-admin-v1.3","#2d353c"],["18/"+n+"/"+a,"Popover with HTML Content","#","#2d353c",'Some contents here <div class="text-right"><a href="http://www.google.com">view more >>></a></div>'],["28/"+n+"/"+a,"Color Admin V1.3 Launched","http://www.seantheme.com/color-admin-v1.3","#2d353c"]],o=$("#schedule-calendar");$(o).calendar({months:t,days:e,events:s,popover_options:{placement:"top",html:!0}}),$(o).find("td.event").each(function(){var t=$(this).css("background-color");$(this).removeAttr("style"),$(this).find("a").css("background-color",t)}),$(o).find(".icon-arrow-left, .icon-arrow-right").parent().on("click",function(){$(o).find("td.event").each(function(){var t=$(this).css("background-color");$(this).removeAttr("style"),$(this).find("a").css("background-color",t)})})},DashboardV2=(handleDashboardGritterNotification=function(){$(window).load(function(){setTimeout(function(){$.gritter.add({title:"Welcome back, Admin!",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempus lacus ut lectus rutrum placerat.",image:"assets/img/user-14.jpg",sticky:!0,time:"",class_name:"my-sticky-class"})},1e3)})},function(){"use strict";return{init:function(){$.getScript("assets/plugins/morris/raphael.min.js").done(function(){$.getScript("assets/plugins/morris/morris.js").done(function(){handleVisitorsLineChart(),handleVisitorsDonutChart()})}),$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.min.js").done(function(){$.getScript("assets/plugins/jquery-jvectormap/jquery-jvectormap-world-merc-en.js").done(function(){handleVisitorsVectorMap()})}),$.getScript("assets/plugins/bootstrap-calendar/js/bootstrap_calendar.min.js").done(function(){handleScheduleCalendar()}),$.getScript("assets/plugins/gritter/js/jquery.gritter.js").done(function(){handleDashboardGritterNotification()})}}}()),handleSlimScroll=function(){"use strict";$("[data-scrollbar=true]").each(function(){generateSlimScroll($(this))})},generateSlimScroll=function(t){if(!$(t).attr("data-init")){var e=$(t).attr("data-height"),i={height:e=e||$(t).height(),alwaysVisible:!0};/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($(t).css("height",e),$(t).css("overflow-x","scroll")):$(t).slimScroll(i),$(t).attr("data-init",!0)}},handleSidebarMenu=function(){"use strict";$(".sidebar .nav > .has-sub > a").click(function(){var t=$(this).next(".sub-menu"),e=".sidebar .nav > li.has-sub > .sub-menu";0===$(".page-sidebar-minified").length&&($(e).not(t).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(t).slideToggle(250,function(){var t=$(this).closest("li");$(t).hasClass("expand")?$(t).removeClass("expand"):$(t).addClass("expand")}))}),$(".sidebar .nav > .has-sub .sub-menu li.has-sub > a").click(function(){if(0===$(".page-sidebar-minified").length){var t=$(this).next(".sub-menu");$(t).slideToggle(250)}})},handleMobileSidebarToggle=function(){var n=!1;$(".sidebar").bind("click touchstart",function(t){0!==$(t.target).closest(".sidebar").length?n=!0:(n=!1,t.stopPropagation())}),$(document).bind("click touchstart",function(t){0===$(t.target).closest(".sidebar").length&&(n=!1),t.isPropagationStopped()||!0===n||($("#page-container").hasClass("page-sidebar-toggled")&&(n=!0,$("#page-container").removeClass("page-sidebar-toggled")),$(window).width()<=767&&$("#page-container").hasClass("page-right-sidebar-toggled")&&(n=!0,$("#page-container").removeClass("page-right-sidebar-toggled")))}),$("[data-click=right-sidebar-toggled]").click(function(t){t.stopPropagation();var e="#page-container",i="page-right-sidebar-collapsed";i=$(window).width()<979?"page-right-sidebar-toggled":i,$(e).hasClass(i)?$(e).removeClass(i):!0!==n?$(e).addClass(i):n=!1,$(window).width()<480&&$("#page-container").removeClass("page-sidebar-toggled")}),$("[data-click=sidebar-toggled]").click(function(t){t.stopPropagation();var e="page-sidebar-toggled",i="#page-container";$(i).hasClass(e)?$(i).removeClass(e):!0!==n?$(i).addClass(e):n=!1,$(window).width()<480&&$("#page-container").removeClass("page-right-sidebar-toggled")})},handleSidebarMinify=function(){$("[data-click=sidebar-minify]").click(function(t){t.preventDefault();var e="page-sidebar-minified",i="#page-container";$('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').removeAttr("data-init"),$("#sidebar [data-scrollbar=true]").stop(),$(i).hasClass(e)?($(i).removeClass(e),$(i).hasClass("page-sidebar-fixed")?(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')),$("#sidebar [data-scrollbar=true]").trigger("mouseover")):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')))):($(i).addClass(e),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$('#sidebar [data-scrollbar="true"]').css("overflow","visible")):($(i).hasClass("page-sidebar-fixed")&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),$("#sidebar [data-scrollbar=true]").trigger("mouseover"))),$(window).trigger("resize")})},handlePageContentView=function(){"use strict";$.when($("#page-loader").addClass("hide")).done(function(){$("#page-container").addClass("in")})},panelActionRunning=!1,handlePanelAction=function(){"use strict";if(panelActionRunning)return!1;panelActionRunning=!0,$(document).on("hover","[data-click=panel-remove]",function(){$(this).tooltip({title:"Remove",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-remove]",function(t){t.preventDefault(),$(this).tooltip("destroy"),$(this).closest(".panel").remove()}),$(document).on("hover","[data-click=panel-collapse]",function(){$(this).tooltip({title:"Collapse / Expand",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-collapse]",function(t){t.preventDefault(),$(this).closest(".panel").find(".panel-body").slideToggle()}),$(document).on("hover","[data-click=panel-reload]",function(){$(this).tooltip({title:"Reload",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-reload]",function(t){t.preventDefault();var e=$(this).closest(".panel");if(!$(e).hasClass("panel-loading")){var i=$(e).find(".panel-body"),n='<div class="panel-loader"><span class="spinner-small"></span></div>';$(e).addClass("panel-loading"),$(i).prepend(n),setTimeout(function(){$(e).removeClass("panel-loading"),$(e).find(".panel-loader").remove()},2e3)}}),$(document).on("hover","[data-click=panel-expand]",function(){$(this).tooltip({title:"Expand / Compress",placement:"bottom",trigger:"hover",container:"body"}),$(this).tooltip("show")}),$(document).on("click","[data-click=panel-expand]",function(t){t.preventDefault();var e=$(this).closest(".panel"),i=$(e).find(".panel-body"),n=40;if(0!==$(i).length){var a=$(e).offset().top;n=$(i).offset().top-a}if($("body").hasClass("panel-expand")&&$(e).hasClass("panel-expand"))$("body, .panel").removeClass("panel-expand"),$(".panel").removeAttr("style"),$(i).removeAttr("style");else if($("body").addClass("panel-expand"),$(this).closest(".panel").addClass("panel-expand"),0!==$(i).length&&40!=n){var s=40;$(e).find(" > *").each(function(){var t=$(this).attr("class");"panel-heading"!=t&&"panel-body"!=t&&(s+=$(this).height()+30)}),40!=s&&$(i).css("top",s+"px")}$(window).trigger("resize")})},handleDraggablePanel=function(){"use strict";var t=$(".panel").parent("[class*=col]"),e=".panel-heading",i=".row > [class*=col]";$(t).sortable({handle:e,connectWith:i,stop:function(t,e){e.item.find(".panel-title").append('<i class="fa fa-refresh fa-spin m-l-5" data-id="title-spinner"></i>'),handleSavePanelPosition(e.item)}})},handelTooltipPopoverActivation=function(){"use strict";$("[data-toggle=tooltip]").tooltip(),$("[data-toggle=popover]").popover()},handleScrollToTopButton=function(){"use strict";$(document).scroll(function(){200<=$(document).scrollTop()?$("[data-click=scroll-top]").addClass("in"):$("[data-click=scroll-top]").removeClass("in")}),$("[data-click=scroll-top]").click(function(t){t.preventDefault(),$("html, body").animate({scrollTop:$("body").offset().top},500)})},handleThemePageStructureControl=function(){if($.cookie&&$.cookie("theme")){0!==$(".theme-list").length&&($(".theme-list [data-theme]").closest("li").removeClass("active"),$('.theme-list [data-theme="'+$.cookie("theme")+'"]').closest("li").addClass("active"));var t="assets/css/theme/"+$.cookie("theme")+".css";$("#theme").attr("href",t)}$.cookie&&$.cookie("sidebar-styling")&&0!==$(".sidebar").length&&"grid"==$.cookie("sidebar-styling")&&($(".sidebar").addClass("sidebar-grid"),$('[name=sidebar-styling] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("header-styling")&&0!==$(".header").length&&"navbar-inverse"==$.cookie("header-styling")&&($(".header").addClass("navbar-inverse"),$('[name=header-styling] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("content-gradient")&&0!==$("#page-container").length&&"enabled"==$.cookie("content-gradient")&&($("#page-container").addClass("gradient-enabled"),$('[name=content-gradient] option[value="2"]').prop("selected",!0)),$.cookie&&$.cookie("content-styling")&&0!==$("body").length&&"black"==$.cookie("content-styling")&&($("body").addClass("flat-black"),$('[name=content-styling] option[value="2"]').prop("selected",!0)),$(".theme-list [data-theme]").click(function(){var t="assets/css/theme/"+$(this).attr("data-theme")+".css";$("#theme").attr("href",t),$(".theme-list [data-theme]").not(this).closest("li").removeClass("active"),$(this).closest("li").addClass("active"),$.cookie("theme",$(this).attr("data-theme"))}),$(".theme-panel [name=header-styling]").on("change",function(){var t=1==$(this).val()?"navbar-default":"navbar-inverse",e=1==$(this).val()?"navbar-inverse":"navbar-default";$("#header").removeClass(e).addClass(t),$.cookie("header-styling",t)}),$(".theme-panel [name=sidebar-styling]").on("change",function(){2==$(this).val()?($("#sidebar").addClass("sidebar-grid"),$.cookie("sidebar-styling","grid")):($("#sidebar").removeClass("sidebar-grid"),$.cookie("sidebar-styling","default"))}),$(".theme-panel [name=content-gradient]").on("change",function(){2==$(this).val()?($("#page-container").addClass("gradient-enabled"),$.cookie("content-gradient","enabled")):($("#page-container").removeClass("gradient-enabled"),$.cookie("content-gradient","disabled"))}),$(document).on("change",".theme-panel [name=content-styling]",function(){2==$(this).val()?($("body").addClass("flat-black"),$.cookie("content-styling","black")):($("body").removeClass("flat-black"),$.cookie("content-styling","default"))}),$(document).on("change",".theme-panel [name=sidebar-fixed]",function(){1==$(this).val()?(2==$(".theme-panel [name=header-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),$('.theme-panel [name=header-fixed] option[value="1"]').prop("selected",!0),$("#header").addClass("navbar-fixed-top"),$("#page-container").addClass("page-header-fixed")),$("#page-container").addClass("page-sidebar-fixed"),$("#page-container").hasClass("page-sidebar-minified")||generateSlimScroll($('.sidebar [data-scrollbar="true"]'))):($("#page-container").removeClass("page-sidebar-fixed"),0!==$(".sidebar .slimScrollDiv").length&&($(window).width()<=979?$(".sidebar").each(function(){if(!$("#page-container").hasClass("page-with-two-sidebar")||!$(this).hasClass("sidebar-right")){$(this).find(".slimScrollBar").remove(),$(this).find(".slimScrollRail").remove(),$(this).find('[data-scrollbar="true"]').removeAttr("style");var t=$(this).find('[data-scrollbar="true"]').parent(),e=$(t).html();$(t).replaceWith(e)}}):979<$(window).width()&&($('.sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.sidebar [data-scrollbar="true"]').removeAttr("style"))),0===$("#page-container .sidebar-bg").length&&$("#page-container").append('<div class="sidebar-bg"></div>'))}),$(document).on("change",".theme-panel [name=header-fixed]",function(){1==$(this).val()?($("#header").addClass("navbar-fixed-top"),$("#page-container").addClass("page-header-fixed"),$.cookie("header-fixed",!0)):(1==$(".theme-panel [name=sidebar-fixed]").val()&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Default Header with Default Sidebar."),$('.theme-panel [name=sidebar-fixed] option[value="2"]').prop("selected",!0),$("#page-container").removeClass("page-sidebar-fixed"),0===$("#page-container .sidebar-bg").length&&$("#page-container").append('<div class="sidebar-bg"></div>')),$("#header").removeClass("navbar-fixed-top"),$("#page-container").removeClass("page-header-fixed"),$.cookie("header-fixed",!1))})},handleThemePanelExpand=function(){$(document).on("click",'[data-click="theme-panel-expand"]',function(){var t=".theme-panel",e="active";$(t).hasClass(e)?$(t).removeClass(e):$(t).addClass(e)})},handleAfterPageLoadAddClass=function(){0!==$("[data-pageload-addclass]").length&&$(window).load(function(){$("[data-pageload-addclass]").each(function(){var t=$(this).attr("data-pageload-addclass");$(this).addClass(t)})})},handleSavePanelPosition=function(e){"use strict";if(0!==$(".ui-sortable").length){var i=[];$.when($(".ui-sortable").each(function(){var t=$(this).find("[data-sortable-id]");if(0!==t.length){var e=[];$(t).each(function(){var t=$(this).attr("data-sortable-id");e.push({id:t})}),i.push(e)}else i.push([]);0})).done(function(){var t=window.location.href;t=(t=t.split("?"))[0],localStorage.setItem(t,JSON.stringify(i)),$(e).find('[data-id="title-spinner"]').delay(500).fadeOut(500,function(){$(this).remove()})})}},handleLocalStorage=function(){"use strict";if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage){var t=window.location.href;t=(t=t.split("?"))[0];var e=localStorage.getItem(t);if(e){e=JSON.parse(e);var i=0;$(".panel").parent('[class*="col-"]').each(function(){var t=e[i],a=$(this);t&&$.each(t,function(t,e){var i=$('[data-sortable-id="'+e.id+'"]').not('[data-init="true"]');if(0!==$(i).length){var n=$(i).clone();$(i).remove(),$(a).append(n),$('[data-sortable-id="'+e.id+'"]').attr("data-init","true")}}),i++})}}else alert("Your browser is not supported with the local storage")},handleResetLocalStorage=function(){"use strict";$(document).on("click","[data-click=reset-local-storage]",function(t){t.preventDefault();var e='<div class="modal fade" data-modal-id="reset-local-storage-confirmation">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\xd7</button>                <h4 class="modal-title"><i class="fa fa-refresh m-r-5"></i> Reset Local Storage Confirmation</h4>            </div>            <div class="modal-body">                <div class="alert alert-info m-b-0">Would you like to RESET all your saved widgets and clear Local Storage?</div>            </div>            <div class="modal-footer">                <a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal"><i class="fa fa-close"></i> No</a>                <a href="javascript:;" class="btn btn-sm btn-inverse" data-click="confirm-reset-local-storage"><i class="fa fa-check"></i> Yes</a>            </div>        </div>    </div></div>';$("body").append(e),$('[data-modal-id="reset-local-storage-confirmation"]').modal("show")}),$(document).on("hidden.bs.modal",'[data-modal-id="reset-local-storage-confirmation"]',function(){$('[data-modal-id="reset-local-storage-confirmation"]').remove()}),$(document).on("click","[data-click=confirm-reset-local-storage]",function(t){t.preventDefault();var e=window.location.href;e=(e=e.split("?"))[0],localStorage.removeItem(e),location.reload()})},default_content='<div class="p-t-40 p-b-40 text-center f-s-20 content"><i class="fa fa-warning fa-lg text-muted m-r-5"></i> <span class="f-w-600 text-inverse">Error 404! Page not found.</span></div>',handleLoadPage=function(t){Pace.restart();var e=t.replace("#","");$(".jvectormap-label, .jvector-label, .AutoFill_border ,#gritter-notice-wrapper, .ui-autocomplete, .colorpicker, .FixedHeader_Header, .FixedHeader_Cloned .lightboxOverlay, .lightbox").remove(),$.ajax({type:"POST",url:e,dataType:"html",success:function(t){$("#ajax-content").html(t),$("html, body").animate({scrollTop:$("body").offset().top},250)},error:function(){$("#ajax-content").html(default_content)}})},handleCheckPageLoadUrl=function(t){""===(t=t||"#ajax/index_v2.html")?$("#ajax-content").html(default_content):($('.sidebar [href="'+t+'"][data-toggle=ajax]').trigger("click"),handleLoadPage(t))},handleSidebarAjaxClick=function(){$(".sidebar [data-toggle=ajax]").click(function(){var t=$(this).closest("li"),e=$(this).parents();$(".sidebar li").not(t).not(e).removeClass("active"),$(t).addClass("active"),$(e).addClass("active")})},handleHashChange=function(){$(window).hashchange(function(){window.location.hash&&handleLoadPage(window.location.hash)})},handlePaceLoadingPlugins=function(){Pace.on("hide",function(){$(".pace").addClass("hide")})},handleIEFullHeightContent=function(){(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))&&$('.vertical-box-row [data-scrollbar="true"][data-height="100%"]').each(function(){var t=$(this).closest(".vertical-box-row"),e=$(t).height();$(t).find(".vertical-box-cell").height(e)})},handleUnlimitedTabsRender=function(){function n(t,e){parseInt($(t).css("margin-left"));var i=$(t).width(),n=$(t).find("li.active").width(),a=-1<e?e:150,s=0;if($(t).find("li.active").prevAll().each(function(){n+=$(this).width()}),$(t).find("li").each(function(){s+=$(this).width()}),i<=n){var o=n-i;s!=n&&(o+=40),$(t).find(".nav.nav-tabs").animate({marginLeft:"-"+o+"px"},a)}n!=s&&i<=s?$(t).addClass("overflow-right"):$(t).removeClass("overflow-right"),i<=n&&i<=s?$(t).addClass("overflow-left"):$(t).removeClass("overflow-left")}function e(t,e){var i=$(t).closest(".tab-overflow"),n=parseInt($(i).find(".nav.nav-tabs").css("margin-left")),a=$(i).width(),s=0,o=0;switch($(i).find("li").each(function(){$(this).hasClass("next-button")||$(this).hasClass("prev-button")||(s+=$(this).width())}),e){case"next":(r=s+n-a)<=a?(o=r-n,setTimeout(function(){$(i).removeClass("overflow-right")},150)):o=a-n-80,0!=o&&$(i).find(".nav.nav-tabs").animate({marginLeft:"-"+o+"px"},150,function(){$(i).addClass("overflow-left")});break;case"prev":var r;(r=-n)<=a?($(i).removeClass("overflow-left"),o=0):o=r-a+80,$(i).find(".nav.nav-tabs").animate({marginLeft:"-"+o+"px"},150,function(){$(i).addClass("overflow-right")})}}function t(){$(".tab-overflow").each(function(){var e=$(this).width(),i=0,t=$(this);$(t).find("li").each(function(){var t=$(this);i+=$(t).width(),$(t).hasClass("active")&&e<i&&i}),n(this,0)})}$(document).on("click",'[data-click="next-tab"]',function(t){t.preventDefault(),e(this,"next")}),$(document).on("click",'[data-click="prev-tab"]',function(t){t.preventDefault(),e(this,"prev")}),$(window).resize(function(){$(".tab-overflow .nav.nav-tabs").removeAttr("style"),t()}),t()},handleMobileSidebar=function(){"use strict";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("#page-container").hasClass("page-sidebar-minified")&&($('#sidebar [data-scrollbar="true"]').css("overflow","visible"),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').removeAttr("style"),$(".page-sidebar-minified #sidebar [data-scrollbar=true]").trigger("mouseover"));var r=0;$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchstart",function(t){var e=(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]).pageY;r=e-parseInt($(this).closest("[data-scrollbar=true]").css("margin-top"))}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchmove",function(t){if(t.preventDefault(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var e=(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]).pageY-r;$(this).closest("[data-scrollbar=true]").css("margin-top",e+"px")}}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").bind("touchend",function(){var t=$(this).closest("[data-scrollbar=true]"),e=$(window).height(),i=parseInt($("#sidebar").css("padding-top")),n=$("#sidebar").height();r=$(t).css("margin-top");var a=i;$(".sidebar").not(".sidebar-right").find(".nav").each(function(){a+=$(this).height()});var s=-parseInt(r)+$(".sidebar").height();if(a<=s&&e<=a&&n<=a){var o=e-a-20;$(t).animate({marginTop:o+"px"})}else 0<=parseInt(r)||a<=n?$(t).animate({marginTop:"0px"}):(o=r,$(t).animate({marginTop:o+"px"}))})},handleUnlimitedTopMenuRender=function(){"use strict";function e(t,e){var i=$(t).closest(".nav"),n=parseInt($(i).css("margin-left")),a=$(".top-menu").width()-88,s=0,o=0;switch($(i).find("li").each(function(){$(this).hasClass("menu-control")||(s+=$(this).width())}),e){case"next":(r=s+n-a)<=a?(o=r-n+128,setTimeout(function(){$(i).find(".menu-control.menu-control-right").removeClass("show")},150)):o=a-n-128,0!=o&&$(i).animate({marginLeft:"-"+o+"px"},150,function(){$(i).find(".menu-control.menu-control-left").addClass("show")});break;case"prev":var r;(r=-n)<=a?($(i).find(".menu-control.menu-control-left").removeClass("show"),o=0):o=r-a+88,$(i).animate({marginLeft:"-"+o+"px"},150,function(){$(i).find(".menu-control.menu-control-right").addClass("show")})}}function t(){var t=$(".top-menu .nav"),e=$(".top-menu .nav > li"),i=$(".top-menu .nav > li.active"),n=$(".top-menu"),a=(parseInt($(t).css("margin-left")),$(n).width()-128),s=$(".top-menu .nav > li.active").width(),o=0,r=0;if($(i).prevAll().each(function(){s+=$(this).width()}),$(e).each(function(){$(this).hasClass("menu-control")||(r+=$(this).width())}),a<=s){var l=s-a+128;$(t).animate({marginLeft:"-"+l+"px"},o)}s!=r&&a<=r?$(t).find(".menu-control.menu-control-right").addClass("show"):$(t).find(".menu-control.menu-control-right").removeClass("show"),a<=s&&a<=r?$(t).find(".menu-control.menu-control-left").addClass("show"):$(t).find(".menu-control.menu-control-left").removeClass("show")}$(document).on("click",'[data-click="next-menu"]',function(t){t.preventDefault(),e(this,"next")}),$(document).on("click",'[data-click="prev-menu"]',function(t){t.preventDefault(),e(this,"prev")}),$(window).resize(function(){$(".top-menu .nav").removeAttr("style"),t()}),t()},handleTopMenuSubMenu=function(){"use strict";$(".top-menu .sub-menu .has-sub > a").click(function(){var t=$(this).closest("li").find(".sub-menu").first(),e=$(this).closest("ul").find(".sub-menu").not(t);$(e).not(t).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(t).slideToggle(250,function(){var t=$(this).closest("li");$(t).hasClass("expand")?$(t).removeClass("expand"):$(t).addClass("expand")})})},handleMobileTopMenuSubMenu=function(){"use strict";$(".top-menu .nav > li.has-sub > a").click(function(){if($(window).width()<=767){var t=$(this).closest("li").find(".sub-menu").first(),e=$(this).closest("ul").find(".sub-menu").not(t);$(e).not(t).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(t).slideToggle(250,function(){var t=$(this).closest("li");$(t).hasClass("expand")?$(t).removeClass("expand"):$(t).addClass("expand")})}})},handleTopMenuMobileToggle=function(){"use strict";$('[data-click="top-menu-toggled"]').click(function(){$(".top-menu").slideToggle(250)})},handleClearSidebarSelection=function(){$(".sidebar .nav > li, .sidebar .nav .sub-menu").removeClass("expand").removeAttr("style")},handleClearSidebarMobileSelection=function(){$("#page-container").removeClass("page-sidebar-toggled")},App=function(){"use strict";return{init:function(){this.initSidebar(),this.initTopMenu(),this.initPageLoad(),this.initComponent(),this.initLocalStorage()},initSidebar:function(){handleSidebarMenu(),handleMobileSidebarToggle(),handleSidebarMinify(),handleMobileSidebar()},initSidebarSelection:function(){handleClearSidebarSelection()},initSidebarMobileSelection:function(){handleClearSidebarMobileSelection()},initTopMenu:function(){handleUnlimitedTopMenuRender(),handleTopMenuSubMenu(),handleMobileTopMenuSubMenu(
),handleTopMenuMobileToggle()},initPageLoad:function(){handlePageContentView()},initComponent:function(){handleIEFullHeightContent(),handleSlimScroll(),handleUnlimitedTabsRender(),handlePanelAction(),handelTooltipPopoverActivation(),handleScrollToTopButton(),handleAfterPageLoadAddClass(),handleDraggablePanel()},initLocalStorage:function(){handleLocalStorage()},initThemePanel:function(){handleThemePageStructureControl(),handleThemePanelExpand(),handleResetLocalStorage()},initAjaxFunction:function(){handleSidebarAjaxClick(),handleCheckPageLoadUrl(window.location.hash),handleHashChange(),$.ajaxSetup({cache:!0})},setPageTitle:function(t){document.title=t},restartGlobalFunction:function(){this.initComponent(),this.initTopMenu(),this.initLocalStorage()},scrollTop:function(){$("html, body").animate({scrollTop:$("body").offset().top},0)}}}();